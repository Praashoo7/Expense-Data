(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function iw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Hf={exports:{}},Rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function aw(){if(Qv)return Rl;Qv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:d,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=e,Rl.jsx=n,Rl.jsxs=n,Rl}var Xv;function sw(){return Xv||(Xv=1,Hf.exports=aw()),Hf.exports}var R=sw(),Ff={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function ow(){if(Zv)return xe;Zv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,B={};function P(k,ie,de){this.props=k,this.context=ie,this.refs=B,this.updater=de||L}P.prototype.isReactComponent={},P.prototype.setState=function(k,ie){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ie,"setState")},P.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function F(){}F.prototype=P.prototype;function Y(k,ie,de){this.props=k,this.context=ie,this.refs=B,this.updater=de||L}var ae=Y.prototype=new F;ae.constructor=Y,N(ae,P.prototype),ae.isPureReactComponent=!0;var oe=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},_e=Object.prototype.hasOwnProperty;function C(k,ie,de,se,Ee,Oe){return de=Oe.ref,{$$typeof:i,type:k,key:ie,ref:de!==void 0?de:null,props:Oe}}function b(k,ie){return C(k.type,ie,void 0,void 0,void 0,k.props)}function I(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function O(k){var ie={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(de){return ie[de]})}var V=/\/+/g;function j(k,ie){return typeof k=="object"&&k!==null&&k.key!=null?O(""+k.key):ie.toString(36)}function x(){}function Dt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(x,x):(k.status="pending",k.then(function(ie){k.status==="pending"&&(k.status="fulfilled",k.value=ie)},function(ie){k.status==="pending"&&(k.status="rejected",k.reason=ie)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ut(k,ie,de,se,Ee){var Oe=typeof k;(Oe==="undefined"||Oe==="boolean")&&(k=null);var J=!1;if(k===null)J=!0;else switch(Oe){case"bigint":case"string":case"number":J=!0;break;case"object":switch(k.$$typeof){case i:case e:J=!0;break;case E:return J=k._init,ut(J(k._payload),ie,de,se,Ee)}}if(J)return Ee=Ee(k),J=se===""?"."+j(k,0):se,oe(Ee)?(de="",J!=null&&(de=J.replace(V,"$&/")+"/"),ut(Ee,ie,de,"",function(De){return De})):Ee!=null&&(I(Ee)&&(Ee=b(Ee,de+(Ee.key==null||k&&k.key===Ee.key?"":(""+Ee.key).replace(V,"$&/")+"/")+J)),ie.push(Ee)),1;J=0;var ee=se===""?".":se+":";if(oe(k))for(var le=0;le<k.length;le++)se=k[le],Oe=ee+j(se,le),J+=ut(se,ie,de,Oe,Ee);else if(le=A(k),typeof le=="function")for(k=le.call(k),le=0;!(se=k.next()).done;)se=se.value,Oe=ee+j(se,le++),J+=ut(se,ie,de,Oe,Ee);else if(Oe==="object"){if(typeof k.then=="function")return ut(Dt(k),ie,de,se,Ee);throw ie=String(k),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return J}function Q(k,ie,de){if(k==null)return k;var se=[],Ee=0;return ut(k,se,"","",function(Oe){return ie.call(de,Oe,Ee++)}),se}function he(k){if(k._status===-1){var ie=k._result;ie=ie(),ie.then(function(de){(k._status===0||k._status===-1)&&(k._status=1,k._result=de)},function(de){(k._status===0||k._status===-1)&&(k._status=2,k._result=de)}),k._status===-1&&(k._status=0,k._result=ie)}if(k._status===1)return k._result.default;throw k._result}var ye=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Be(){}return xe.Children={map:Q,forEach:function(k,ie,de){Q(k,function(){ie.apply(this,arguments)},de)},count:function(k){var ie=0;return Q(k,function(){ie++}),ie},toArray:function(k){return Q(k,function(ie){return ie})||[]},only:function(k){if(!I(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},xe.Component=P,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=Y,xe.StrictMode=a,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,xe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ce.H.useMemoCache(k)}},xe.cache=function(k){return function(){return k.apply(null,arguments)}},xe.cloneElement=function(k,ie,de){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var se=N({},k.props),Ee=k.key,Oe=void 0;if(ie!=null)for(J in ie.ref!==void 0&&(Oe=void 0),ie.key!==void 0&&(Ee=""+ie.key),ie)!_e.call(ie,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&ie.ref===void 0||(se[J]=ie[J]);var J=arguments.length-2;if(J===1)se.children=de;else if(1<J){for(var ee=Array(J),le=0;le<J;le++)ee[le]=arguments[le+2];se.children=ee}return C(k.type,Ee,void 0,void 0,Oe,se)},xe.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},xe.createElement=function(k,ie,de){var se,Ee={},Oe=null;if(ie!=null)for(se in ie.key!==void 0&&(Oe=""+ie.key),ie)_e.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(Ee[se]=ie[se]);var J=arguments.length-2;if(J===1)Ee.children=de;else if(1<J){for(var ee=Array(J),le=0;le<J;le++)ee[le]=arguments[le+2];Ee.children=ee}if(k&&k.defaultProps)for(se in J=k.defaultProps,J)Ee[se]===void 0&&(Ee[se]=J[se]);return C(k,Oe,void 0,void 0,null,Ee)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(k){return{$$typeof:m,render:k}},xe.isValidElement=I,xe.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:he}},xe.memo=function(k,ie){return{$$typeof:y,type:k,compare:ie===void 0?null:ie}},xe.startTransition=function(k){var ie=ce.T,de={};ce.T=de;try{var se=k(),Ee=ce.S;Ee!==null&&Ee(de,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Be,ye)}catch(Oe){ye(Oe)}finally{ce.T=ie}},xe.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},xe.use=function(k){return ce.H.use(k)},xe.useActionState=function(k,ie,de){return ce.H.useActionState(k,ie,de)},xe.useCallback=function(k,ie){return ce.H.useCallback(k,ie)},xe.useContext=function(k){return ce.H.useContext(k)},xe.useDebugValue=function(){},xe.useDeferredValue=function(k,ie){return ce.H.useDeferredValue(k,ie)},xe.useEffect=function(k,ie,de){var se=ce.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(k,ie)},xe.useId=function(){return ce.H.useId()},xe.useImperativeHandle=function(k,ie,de){return ce.H.useImperativeHandle(k,ie,de)},xe.useInsertionEffect=function(k,ie){return ce.H.useInsertionEffect(k,ie)},xe.useLayoutEffect=function(k,ie){return ce.H.useLayoutEffect(k,ie)},xe.useMemo=function(k,ie){return ce.H.useMemo(k,ie)},xe.useOptimistic=function(k,ie){return ce.H.useOptimistic(k,ie)},xe.useReducer=function(k,ie,de){return ce.H.useReducer(k,ie,de)},xe.useRef=function(k){return ce.H.useRef(k)},xe.useState=function(k){return ce.H.useState(k)},xe.useSyncExternalStore=function(k,ie,de){return ce.H.useSyncExternalStore(k,ie,de)},xe.useTransition=function(){return ce.H.useTransition()},xe.version="19.1.0",xe}var Jv;function Lm(){return Jv||(Jv=1,Ff.exports=ow()),Ff.exports}var z=Lm();const lw=iw(z);var Gf={exports:{}},Il={},Wf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function uw(){return e_||(e_=1,function(i){function e(Q,he){var ye=Q.length;Q.push(he);e:for(;0<ye;){var Be=ye-1>>>1,k=Q[Be];if(0<o(k,he))Q[Be]=he,Q[ye]=k,ye=Be;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var he=Q[0],ye=Q.pop();if(ye!==he){Q[0]=ye;e:for(var Be=0,k=Q.length,ie=k>>>1;Be<ie;){var de=2*(Be+1)-1,se=Q[de],Ee=de+1,Oe=Q[Ee];if(0>o(se,ye))Ee<k&&0>o(Oe,se)?(Q[Be]=Oe,Q[Ee]=ye,Be=Ee):(Q[Be]=se,Q[de]=ye,Be=de);else if(Ee<k&&0>o(Oe,ye))Q[Be]=Oe,Q[Ee]=ye,Be=Ee;else break e}}return he}function o(Q,he){var ye=Q.sortIndex-he.sortIndex;return ye!==0?ye:Q.id-he.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var p=[],y=[],E=1,w=null,A=3,L=!1,N=!1,B=!1,P=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function oe(Q){for(var he=n(y);he!==null;){if(he.callback===null)a(y);else if(he.startTime<=Q)a(y),he.sortIndex=he.expirationTime,e(p,he);else break;he=n(y)}}function ce(Q){if(B=!1,oe(Q),!N)if(n(p)!==null)N=!0,_e||(_e=!0,j());else{var he=n(y);he!==null&&ut(ce,he.startTime-Q)}}var _e=!1,C=-1,b=5,I=-1;function O(){return P?!0:!(i.unstable_now()-I<b)}function V(){if(P=!1,_e){var Q=i.unstable_now();I=Q;var he=!0;try{e:{N=!1,B&&(B=!1,Y(C),C=-1),L=!0;var ye=A;try{t:{for(oe(Q),w=n(p);w!==null&&!(w.expirationTime>Q&&O());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,A=w.priorityLevel;var k=Be(w.expirationTime<=Q);if(Q=i.unstable_now(),typeof k=="function"){w.callback=k,oe(Q),he=!0;break t}w===n(p)&&a(p),oe(Q)}else a(p);w=n(p)}if(w!==null)he=!0;else{var ie=n(y);ie!==null&&ut(ce,ie.startTime-Q),he=!1}}break e}finally{w=null,A=ye,L=!1}he=void 0}}finally{he?j():_e=!1}}}var j;if(typeof ae=="function")j=function(){ae(V)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Dt=x.port2;x.port1.onmessage=V,j=function(){Dt.postMessage(null)}}else j=function(){F(V,0)};function ut(Q,he){C=F(function(){Q(i.unstable_now())},he)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var he=3;break;default:he=A}var ye=A;A=he;try{return Q()}finally{A=ye}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(Q,he){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ye=A;A=Q;try{return he()}finally{A=ye}},i.unstable_scheduleCallback=function(Q,he,ye){var Be=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Be+ye:Be):ye=Be,Q){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ye+k,Q={id:E++,callback:he,priorityLevel:Q,startTime:ye,expirationTime:k,sortIndex:-1},ye>Be?(Q.sortIndex=ye,e(y,Q),n(p)===null&&Q===n(y)&&(B?(Y(C),C=-1):B=!0,ut(ce,ye-Be))):(Q.sortIndex=k,e(p,Q),N||L||(N=!0,_e||(_e=!0,j()))),Q},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(Q){var he=A;return function(){var ye=A;A=he;try{return Q.apply(this,arguments)}finally{A=ye}}}}(Kf)),Kf}var t_;function cw(){return t_||(t_=1,Wf.exports=uw()),Wf.exports}var Yf={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function hw(){if(n_)return en;n_=1;var i=Lm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:E}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},en.flushSync=function(p){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=y,a.p=E,a.d.f()}},en.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},en.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},en.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:L}):E==="script"&&a.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},en.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},en.requestFormReset=function(p){a.d.r(p)},en.unstable_batchedUpdates=function(p,y){return p(y)},en.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.1.0",en}var r_;function dw(){if(r_)return Yf.exports;r_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Yf.exports=hw(),Yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function fw(){if(i_)return Il;i_=1;var i=cw(),e=Lm(),n=dw();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return m(h),t;if(f===l)return m(h),r;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=f;break}if(T===l){_=!0,l=h,s=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===s){_=!0,s=f,l=h;break}if(T===l){_=!0,l=f,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case P:return"Profiler";case B:return"StrictMode";case ce:return"Suspense";case _e:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case Y:return(t._context.displayName||"Context")+".Consumer";case oe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:Dt(t.type)||"Memo";case b:r=t._payload,t=t._init;try{return Dt(t(r))}catch{}}return null}var ut=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Be=[],k=-1;function ie(t){return{current:t}}function de(t){0>k||(t.current=Be[k],Be[k]=null,k--)}function se(t,r){k++,Be[k]=t.current,t.current=r}var Ee=ie(null),Oe=ie(null),J=ie(null),ee=ie(null);function le(t,r){switch(se(J,r),se(Oe,t),se(Ee,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?wv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=wv(r),t=bv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}de(Ee),se(Ee,t)}function De(){de(Ee),de(Oe),de(J)}function at(t){t.memoizedState!==null&&se(ee,t);var r=Ee.current,s=bv(r,t.type);r!==s&&(se(Oe,t),se(Ee,s))}function ct(t){Oe.current===t&&(de(Ee),de(Oe)),ee.current===t&&(de(ee),Tl._currentValue=ye)}var Qe=Object.prototype.hasOwnProperty,et=i.unstable_scheduleCallback,Gn=i.unstable_cancelCallback,Ht=i.unstable_shouldYield,Rn=i.unstable_requestPaint,Fe=i.unstable_now,In=i.unstable_getCurrentPriorityLevel,Wn=i.unstable_ImmediatePriority,Cn=i.unstable_UserBlockingPriority,fe=i.unstable_NormalPriority,gn=i.unstable_LowPriority,Dn=i.unstable_IdlePriority,Eo=i.log,du=i.unstable_setDisableYieldValue,gt=null,Xe=null;function yn(t){if(typeof Eo=="function"&&du(t),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(gt,t)}catch{}}var Zt=Math.clz32?Math.clz32:oa,fu=Math.log,Fh=Math.LN2;function oa(t){return t>>>=0,t===0?32:31-(fu(t)/Fh|0)|0}var la=256,ua=4194304;function Kn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ja(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Kn(l):(_&=T,_!==0?h=Kn(_):s||(s=T&~t,s!==0&&(h=Kn(s))))):(T=l&~f,T!==0?h=Kn(T):_!==0?h=Kn(_):s||(s=l&~t,s!==0&&(h=Kn(s)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,s=r&-r,f>=s||f===32&&(s&4194048)!==0)?r:h}function ca(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function To(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=la;return la<<=1,(la&4194048)===0&&(la=256),t}function Ao(){var t=ua;return ua<<=1,(ua&62914560)===0&&(ua=4194304),t}function Dr(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function xr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wo(t,r,s,l,h,f){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,G=t.hiddenUpdates;for(s=_&~s;0<s;){var X=31-Zt(s),te=1<<X;T[X]=0,D[X]=-1;var W=G[X];if(W!==null)for(G[X]=null,X=0;X<W.length;X++){var K=W[X];K!==null&&(K.lane&=-536870913)}s&=~te}l!==0&&ar(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~r))}function ar(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Zt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function bo(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-Zt(s),h=1<<l;h&r|t[l]&r&&(t[l]|=r),s&=~h}}function mi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function es(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pi(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:Fv(t.type))}function mu(t,r){var s=he.p;try{return he.p=t,r()}finally{he.p=s}}var ht=Math.random().toString(36).slice(2),xt="__reactFiber$"+ht,At="__reactProps$"+ht,xn="__reactContainer$"+ht,Ro="__reactEvents$"+ht,Gh="__reactListeners$"+ht,gi="__reactHandles$"+ht,pu="__reactResources$"+ht,ha="__reactMarker$"+ht;function yi(t){delete t[xt],delete t[At],delete t[Ro],delete t[Gh],delete t[gi]}function Or(t){var r=t[xt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[xn]||s[xt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Dv(t);t!==null;){if(s=t[xt])return s;t=Dv(t)}return r}t=s,s=t.parentNode}return null}function sr(t){if(t=t[xt]||t[xn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function or(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function sn(t){var r=t[pu];return r||(r=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _t(t){t[ha]=!0}var Io=new Set,ts={};function Yn(t,r){Nr(t,r),Nr(t+"Capture",r)}function Nr(t,r){for(ts[t]=r,t=0;t<r.length;t++)Io.add(r[t])}var gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yu={},da={};function vu(t){return Qe.call(da,t)?!0:Qe.call(yu,t)?!1:gu.test(t)?da[t]=!0:(yu[t]=!0,!1)}function vi(t,r,s){if(vu(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function lr(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Ft(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}var fa,_u;function kr(t){if(fa===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);fa=r&&r[1]||"",_u=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+t+_u}var ns=!1;function rs(t,r){if(!t||ns)return"";ns=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var W=K}Reflect.construct(t,[],te)}else{try{te.call()}catch(K){W=K}t.call(te.prototype)}}else{try{throw Error()}catch(K){W=K}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&W&&typeof K.stack=="string")return[K.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var D=_.split(`
`),G=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===G.length)for(l=D.length-1,h=G.length-1;1<=l&&0<=h&&D[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==G[h]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ns=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?kr(s):""}function Co(t){switch(t.tag){case 26:case 27:case 5:return kr(t.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 15:return rs(t.type,!1);case 11:return rs(t.type.render,!1);case 1:return rs(t.type,!0);case 31:return kr("Activity");default:return""}}function is(t){try{var r="";do r+=Co(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Do(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wh(t){var r=Do(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function as(t){t._valueTracker||(t._valueTracker=Wh(t))}function xo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=Do(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function ma(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kh=/[\n"\\]/g;function wt(t){return t.replace(Kh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vn(t,r,s,l,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+on(r)):t.value!==""+on(r)&&(t.value=""+on(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?_i(t,_,on(r)):s!=null?_i(t,_,on(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+on(T):t.removeAttribute("name")}function pa(t,r,s,l,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;s=s!=null?""+on(s):"",r=r!=null?""+on(r):s,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function _i(t,r,s){r==="number"&&ma(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Pr(t,r,s,l){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+on(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function tt(t,r,s){if(r!=null&&(r=""+on(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+on(s):""}function ga(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(ut(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=on(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function On(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var ya=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||ya.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Oo(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&Eu(t,h,l)}else for(var f in r)r.hasOwnProperty(f)&&Eu(t,f,r[f])}function No(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ss(t){return $h.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Mr=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vr=null,Lr=null;function ko(t){var r=sr(t);if(r&&(t=r.stateNode)){var s=t[At]||null;e:switch(t=r.stateNode,r.type){case"input":if(vn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var h=l[At]||null;if(!h)throw Error(a(90));vn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&xo(l)}break e;case"textarea":tt(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Pr(t,!!s.multiple,r,!1)}}}var ur=!1;function Tu(t,r,s){if(ur)return t(r,s);ur=!0;try{var l=t(r);return l}finally{if(ur=!1,(Vr!==null||Lr!==null)&&(mc(),Vr&&(r=Vr,t=Lr,Lr=Vr=null,ko(r),t)))for(r=0;r<t.length;r++)ko(t[r])}}function va(t,r){var s=t.stateNode;if(s===null)return null;var l=s[At]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if($n)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){kn=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{kn=!1}var cr=null,Ei=null,Ur=null;function Po(){if(Ur)return Ur;var t,r=Ei,s=r.length,l,h="value"in cr?cr.value:cr.textContent,f=h.length;for(t=0;t<s&&r[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&r[s-l]===h[f-l];l++);return Ur=h.slice(t,1<l?1-l:void 0)}function hr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function dr(){return!0}function Mo(){return!1}function Lt(t){function r(s,l,h,f,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?dr:Mo,this.isPropagationStopped=Mo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=Lt(Ke),Ea=E({},Ke,{view:0,detail:0}),Su=Lt(Ea),ls,us,fr,Ta=E({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fr&&(fr&&t.type==="mousemove"?(ls=t.screenX-fr.screenX,us=t.screenY-fr.screenY):us=ls=0,fr=t),ls)},movementY:function(t){return"movementY"in t?t.movementY:us}}),Pn=Lt(Ta),Au=E({},Ta,{dataTransfer:0}),Qh=Lt(Au),Sa=E({},Ea,{relatedTarget:0}),cs=Lt(Sa),Vo=E({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),hs=Lt(Vo),wu=E({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ds=Lt(wu),Xh=E({},Ke,{data:0}),Lo=Lt(Xh),Aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ru[t])?!!r[t]:!1}function wa(){return Uo}var Iu=E({},Ea,{key:function(t){if(t.key){var r=Aa[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(t){return t.type==="keypress"?hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fs=Lt(Iu),Cu=E({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=Lt(Cu),Br=E({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),Du=Lt(Br),xu=E({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ou=Lt(xu),Nu=E({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ms=Lt(Nu),ln=E({},Ke,{newState:0,oldState:0}),ku=Lt(ln),Pu=[9,13,27,32],mr=$n&&"CompositionEvent"in window,c=null;$n&&"documentMode"in document&&(c=document.documentMode);var g=$n&&"TextEvent"in window&&!c,v=$n&&(!mr||c&&8<c&&11>=c),S=" ",q=!1;function $(t,r){switch(t){case"keyup":return Pu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function Ot(t,r){switch(t){case"compositionend":return ue(r);case"keypress":return r.which!==32?null:(q=!0,S);case"textInput":return t=r.data,t===S&&q?null:t;default:return null}}function ze(t,r){if(je)return t==="compositionend"||!mr&&$(t,r)?(t=Po(),Ur=Ei=cr=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ut[t.type]:r==="textarea"}function jr(t,r,s,l){Vr?Lr?Lr.push(l):Lr=[l]:Vr=l,r=Ec(r,"onChange"),0<r.length&&(s=new os("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var Gt=null,pr=null;function jo(t){_v(t,0)}function Mu(t){var r=or(t);if(xo(r))return t}function jp(t,r){if(t==="change")return r}var zp=!1;if($n){var Zh;if($n){var Jh="oninput"in document;if(!Jh){var qp=document.createElement("div");qp.setAttribute("oninput","return;"),Jh=typeof qp.oninput=="function"}Zh=Jh}else Zh=!1;zp=Zh&&(!document.documentMode||9<document.documentMode)}function Hp(){Gt&&(Gt.detachEvent("onpropertychange",Fp),pr=Gt=null)}function Fp(t){if(t.propertyName==="value"&&Mu(pr)){var r=[];jr(r,pr,t,Nn(t)),Tu(jo,r)}}function PS(t,r,s){t==="focusin"?(Hp(),Gt=r,pr=s,Gt.attachEvent("onpropertychange",Fp)):t==="focusout"&&Hp()}function MS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(pr)}function VS(t,r){if(t==="click")return Mu(r)}function LS(t,r){if(t==="input"||t==="change")return Mu(r)}function US(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:US;function zo(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Qe.call(r,h)||!_n(t[h],r[h]))return!1}return!0}function Gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wp(t,r){var s=Gp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Gp(s)}}function Kp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Kp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Yp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ma(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=ma(t.document)}return r}function ed(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var BS=$n&&"documentMode"in document&&11>=document.documentMode,ps=null,td=null,qo=null,nd=!1;function $p(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;nd||ps==null||ps!==ma(l)||(l=ps,"selectionStart"in l&&ed(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qo&&zo(qo,l)||(qo=l,l=Ec(td,"onSelect"),0<l.length&&(r=new os("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=ps)))}function ba(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var gs={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},rd={},Qp={};$n&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Ra(t){if(rd[t])return rd[t];if(!gs[t])return t;var r=gs[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Qp)return rd[t]=r[s];return t}var Xp=Ra("animationend"),Zp=Ra("animationiteration"),Jp=Ra("animationstart"),jS=Ra("transitionrun"),zS=Ra("transitionstart"),qS=Ra("transitioncancel"),eg=Ra("transitionend"),tg=new Map,id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");id.push("scrollEnd");function Qn(t,r){tg.set(t,r),Yn(r,[t])}var ng=new WeakMap;function Mn(t,r){if(typeof t=="object"&&t!==null){var s=ng.get(t);return s!==void 0?s:(r={value:t,source:r,stack:is(r)},ng.set(t,r),r)}return{value:t,source:r,stack:is(r)}}var Vn=[],ys=0,ad=0;function Vu(){for(var t=ys,r=ad=ys=0;r<t;){var s=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var h=Vn[r];Vn[r++]=null;var f=Vn[r];if(Vn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&rg(s,h,f)}}function Lu(t,r,s,l){Vn[ys++]=t,Vn[ys++]=r,Vn[ys++]=s,Vn[ys++]=l,ad|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sd(t,r,s,l){return Lu(t,r,s,l),Uu(t)}function vs(t,r){return Lu(t,null,null,r),Uu(t)}function rg(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-Zt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=s|536870912),f):null}function Uu(t){if(50<fl)throw fl=0,ff=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var _s={};function HS(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,r,s,l){return new HS(t,r,s,l)}function od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zr(t,r){var s=t.alternate;return s===null?(s=En(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ig(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Bu(t,r,s,l,h,f){var _=0;if(l=t,typeof t=="function")od(t)&&(_=1);else if(typeof t=="string")_=GA(t,s,Ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=En(31,s,r,h),t.elementType=I,t.lanes=f,t;case N:return Ia(s.children,h,f,r);case B:_=8,h|=24;break;case P:return t=En(12,s,r,h|2),t.elementType=P,t.lanes=f,t;case ce:return t=En(13,s,r,h),t.elementType=ce,t.lanes=f,t;case _e:return t=En(19,s,r,h),t.elementType=_e,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:case ae:_=10;break e;case Y:_=9;break e;case oe:_=11;break e;case C:_=14;break e;case b:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=En(_,s,r,h),r.elementType=t,r.type=l,r.lanes=f,r}function Ia(t,r,s,l){return t=En(7,t,l,r),t.lanes=s,t}function ld(t,r,s){return t=En(6,t,null,r),t.lanes=s,t}function ud(t,r,s){return r=En(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Es=[],Ts=0,ju=null,zu=0,Ln=[],Un=0,Ca=null,qr=1,Hr="";function Da(t,r){Es[Ts++]=zu,Es[Ts++]=ju,ju=t,zu=r}function ag(t,r,s){Ln[Un++]=qr,Ln[Un++]=Hr,Ln[Un++]=Ca,Ca=t;var l=qr;t=Hr;var h=32-Zt(l)-1;l&=~(1<<h),s+=1;var f=32-Zt(r)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,qr=1<<32-Zt(r)+h|s<<h|l,Hr=f+t}else qr=1<<f|s<<h|l,Hr=t}function cd(t){t.return!==null&&(Da(t,1),ag(t,1,0))}function hd(t){for(;t===ju;)ju=Es[--Ts],Es[Ts]=null,zu=Es[--Ts],Es[Ts]=null;for(;t===Ca;)Ca=Ln[--Un],Ln[Un]=null,Hr=Ln[--Un],Ln[Un]=null,qr=Ln[--Un],Ln[Un]=null}var un=null,yt=null,We=!1,xa=null,gr=!1,dd=Error(a(519));function Oa(t){var r=Error(a(418,""));throw Go(Mn(r,t)),dd}function sg(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[xt]=t,r[At]=l,s){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(s=0;s<pl.length;s++)Ve(pl[s],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),pa(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),as(r);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),ga(r,l.value,l.defaultValue,l.children),as(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||Av(r.textContent,s)?(l.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),l.onScroll!=null&&Ve("scroll",r),l.onScrollEnd!=null&&Ve("scrollend",r),l.onClick!=null&&(r.onclick=Tc),r=!0):r=!1,r||Oa(t)}function og(t){for(un=t.return;un;)switch(un.tag){case 5:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:un=un.return}}function Ho(t){if(t!==un)return!1;if(!We)return og(t),We=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Df(t.type,t.memoizedProps)),s=!s),s&&yt&&Oa(t),og(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){yt=Zn(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}yt=null}}else r===27?(r=yt,Vi(t.type)?(t=kf,kf=null,yt=t):yt=r):yt=un?Zn(t.stateNode.nextSibling):null;return!0}function Fo(){yt=un=null,We=!1}function lg(){var t=xa;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),xa=null),t}function Go(t){xa===null?xa=[t]:xa.push(t)}var fd=ie(null),Na=null,Fr=null;function Ti(t,r,s){se(fd,r._currentValue),r._currentValue=s}function Gr(t){t._currentValue=fd.current,de(fd)}function md(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function pd(t,r,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var D=0;D<r.length;D++)if(T.context===r[D]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),md(f.return,s,t),l||(_=null);break e}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,f=_.alternate,f!==null&&(f.lanes|=s),md(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Wo(t,r,s,l){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===ee.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&pd(r,t,s,l),r.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ka(t){Na=t,Fr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return ug(Na,t)}function Hu(t,r){return Na===null&&ka(t),ug(t,r)}function ug(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Fr===null){if(t===null)throw Error(a(308));Fr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Fr=Fr.next=r;return s}var FS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},GS=i.unstable_scheduleCallback,WS=i.unstable_NormalPriority,kt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new FS,data:new Map,refCount:0}}function Ko(t){t.refCount--,t.refCount===0&&GS(WS,function(){t.controller.abort()})}var Yo=null,yd=0,Ss=0,As=null;function KS(t,r){if(Yo===null){var s=Yo=[];yd=0,Ss=Ef(),As={status:"pending",value:void 0,then:function(l){s.push(l)}}}return yd++,r.then(cg,cg),r}function cg(){if(--yd===0&&Yo!==null){As!==null&&(As.status="fulfilled");var t=Yo;Yo=null,Ss=0,As=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function YS(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var hg=Q.S;Q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&KS(t,r),hg!==null&&hg(t,r)};var Pa=ie(null);function vd(){var t=Pa.current;return t!==null?t:ot.pooledCache}function Fu(t,r){r===null?se(Pa,Pa.current):se(Pa,r.pool)}function dg(){var t=vd();return t===null?null:{parent:kt._currentValue,pool:t}}var $o=Error(a(460)),fg=Error(a(474)),Gu=Error(a(542)),_d={then:function(){}};function mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wu(){}function pg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Wu,Wu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,yg(t),t;default:if(typeof r.status=="string")r.then(Wu,Wu);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,yg(t),t}throw Qo=r,$o}}var Qo=null;function gg(){if(Qo===null)throw Error(a(459));var t=Qo;return Qo=null,t}function yg(t){if(t===$o||t===Gu)throw Error(a(483))}var Si=!1;function Ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ai(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wi(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Uu(t),rg(t,null,s),r}return Lu(t,l,r,s),Uu(t)}function Xo(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,bo(t,s)}}function Sd(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,s=s.next}while(s!==null);f===null?h=f=r:f=f.next=r}else h=f=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Ad=!1;function Zo(){if(Ad){var t=As;if(t!==null)throw t}}function Jo(t,r,s,l){Ad=!1;var h=t.updateQueue;Si=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,G=D.next;D.next=null,_===null?f=G:_.next=G,_=D;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=G:T.next=G,X.lastBaseUpdate=D))}if(f!==null){var te=h.baseState;_=0,X=G=D=null,T=f;do{var W=T.lane&-536870913,K=W!==T.lane;if(K?(qe&W)===W:(l&W)===W){W!==0&&W===Ss&&(Ad=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Re=t,Ae=T;W=r;var it=s;switch(Ae.tag){case 1:if(Re=Ae.payload,typeof Re=="function"){te=Re.call(it,te,W);break e}te=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ae.payload,W=typeof Re=="function"?Re.call(it,te,W):Re,W==null)break e;te=E({},te,W);break e;case 2:Si=!0}}W=T.callback,W!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[W]:K.push(W))}else K={lane:W,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(G=X=K,D=te):X=X.next=K,_|=W;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(D=te),h.baseState=D,h.firstBaseUpdate=G,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),Ni|=_,t.lanes=_,t.memoizedState=te}}function vg(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function _g(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)vg(s[t],r)}var ws=ie(null),Ku=ie(0);function Eg(t,r){t=Zr,se(Ku,t),se(ws,r),Zr=t|r.baseLanes}function wd(){se(Ku,Zr),se(ws,ws.current)}function bd(){Zr=Ku.current,de(ws),de(Ku)}var bi=0,Ne=null,nt=null,bt=null,Yu=!1,bs=!1,Ma=!1,$u=0,el=0,Rs=null,$S=0;function Et(){throw Error(a(321))}function Rd(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!_n(t[s],r[s]))return!1;return!0}function Id(t,r,s,l,h,f){return bi=f,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?ry:iy,Ma=!1,f=s(l,h),Ma=!1,bs&&(f=Sg(r,s,l,h)),Tg(t),f}function Tg(t){Q.H=tc;var r=nt!==null&&nt.next!==null;if(bi=0,bt=nt=Ne=null,Yu=!1,el=0,Rs=null,r)throw Error(a(300));t===null||Bt||(t=t.dependencies,t!==null&&qu(t)&&(Bt=!0))}function Sg(t,r,s,l){Ne=t;var h=0;do{if(bs&&(Rs=null),el=0,bs=!1,25<=h)throw Error(a(301));if(h+=1,bt=nt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=nA,f=r(s,l)}while(bs);return f}function QS(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?tl(r):r,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ne.flags|=1024),r}function Cd(){var t=$u!==0;return $u=0,t}function Dd(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function xd(t){if(Yu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Yu=!1}bi=0,bt=nt=Ne=null,bs=!1,el=$u=0,Rs=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ne.memoizedState=bt=t:bt=bt.next=t,bt}function Rt(){if(nt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var r=bt===null?Ne.memoizedState:bt.next;if(r!==null)bt=r,nt=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},bt===null?Ne.memoizedState=bt=t:bt=bt.next=t}return bt}function Od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var r=el;return el+=1,Rs===null&&(Rs=[]),t=pg(Rs,t,r),r=Ne,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?ry:iy),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===ae)return Jt(t)}throw Error(a(438,String(t)))}function Nd(t){var r=null,s=Ne.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Od(),Ne.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=O;return r.index++,s}function Wr(t,r){return typeof r=="function"?r(t):r}function Xu(t){var r=Rt();return kd(r,nt,t)}function kd(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}r.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var T=_=null,D=null,G=r,X=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(qe&te)===te:(bi&te)===te){var W=G.revertLane;if(W===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Ss&&(X=!0);else if((bi&W)===W){G=G.next,W===Ss&&(X=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(T=D=te,_=f):D=D.next=te,Ne.lanes|=W,Ni|=W;te=G.action,Ma&&s(f,te),f=G.hasEagerState?G.eagerState:s(f,te)}else W={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(T=D=W,_=f):D=D.next=W,Ne.lanes|=te,Ni|=te;G=G.next}while(G!==null&&G!==r);if(D===null?_=f:D.next=T,!_n(f,t.memoizedState)&&(Bt=!0,X&&(s=As,s!==null)))throw s;t.memoizedState=f,t.baseState=_,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pd(t){var r=Rt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);_n(f,r.memoizedState)||(Bt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),s.lastRenderedState=f}return[f,l]}function Ag(t,r,s){var l=Ne,h=Rt(),f=We;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!_n((nt||h).memoizedState,s);_&&(h.memoizedState=s,Bt=!0),h=h.queue;var T=Rg.bind(null,l,h,t);if(nl(2048,8,T,[t]),h.getSnapshot!==r||_||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Is(9,Zu(),bg.bind(null,l,h,s,r),null),ot===null)throw Error(a(349));f||(bi&124)!==0||wg(l,r,s)}return s}function wg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Ne.updateQueue,r===null?(r=Od(),Ne.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function bg(t,r,s,l){r.value=s,r.getSnapshot=l,Ig(r)&&Cg(t)}function Rg(t,r,s){return s(function(){Ig(r)&&Cg(t)})}function Ig(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!_n(t,s)}catch{return!0}}function Cg(t){var r=vs(t,2);r!==null&&bn(r,t,2)}function Md(t){var r=hn();if(typeof t=="function"){var s=t;if(t=s(),Ma){yn(!0);try{s()}finally{yn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:t},r}function Dg(t,r,s,l){return t.baseState=s,kd(t,nt,typeof l=="function"?l:Wr)}function XS(t,r,s,l,h){if(ec(t))throw Error(a(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Q.T!==null?s(!0):f.isTransition=!1,l(f),s=r.pending,s===null?(f.next=r.pending=f,xg(r,f)):(f.next=s.next,r.pending=s.next=f)}}function xg(t,r){var s=r.action,l=r.payload,h=t.state;if(r.isTransition){var f=Q.T,_={};Q.T=_;try{var T=s(h,l),D=Q.S;D!==null&&D(_,T),Og(t,r,T)}catch(G){Vd(t,r,G)}finally{Q.T=f}}else try{f=s(h,l),Og(t,r,f)}catch(G){Vd(t,r,G)}}function Og(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ng(t,r,l)},function(l){return Vd(t,r,l)}):Ng(t,r,s)}function Ng(t,r,s){r.status="fulfilled",r.value=s,kg(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,xg(t,s)))}function Vd(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,kg(r),r=r.next;while(r!==l)}t.action=null}function kg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Pg(t,r){return r}function Mg(t,r){if(We){var s=ot.formState;if(s!==null){e:{var l=Ne;if(We){if(yt){t:{for(var h=yt,f=gr;h.nodeType!==8;){if(!f){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){yt=Zn(h.nextSibling),l=h.data==="F!";break e}}Oa(l)}l=!1}l&&(r=s[0])}}return s=hn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:r},s.queue=l,s=ey.bind(null,Ne,l),l.dispatch=s,l=Md(!1),f=zd.bind(null,Ne,!1,l.queue),l=hn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,s=XS.bind(null,Ne,h,f,s),h.dispatch=s,l.memoizedState=t,[r,s,!1]}function Vg(t){var r=Rt();return Lg(r,nt,t)}function Lg(t,r,s){if(r=kd(t,r,Pg)[0],t=Xu(Wr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=tl(r)}catch(_){throw _===$o?Gu:_}else l=r;r=Rt();var h=r.queue,f=h.dispatch;return s!==r.memoizedState&&(Ne.flags|=2048,Is(9,Zu(),ZS.bind(null,h,s),null)),[l,f,t]}function ZS(t,r){t.action=r}function Ug(t){var r=Rt(),s=nt;if(s!==null)return Lg(r,s,t);Rt(),r=r.memoizedState,s=Rt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function Is(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=Od(),Ne.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function Zu(){return{destroy:void 0,resource:void 0}}function Bg(){return Rt().memoizedState}function Ju(t,r,s,l){var h=hn();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=Is(1|r,Zu(),s,l)}function nl(t,r,s,l){var h=Rt();l=l===void 0?null:l;var f=h.memoizedState.inst;nt!==null&&l!==null&&Rd(l,nt.memoizedState.deps)?h.memoizedState=Is(r,f,s,l):(Ne.flags|=t,h.memoizedState=Is(1|r,f,s,l))}function jg(t,r){Ju(8390656,8,t,r)}function zg(t,r){nl(2048,8,t,r)}function qg(t,r){return nl(4,2,t,r)}function Hg(t,r){return nl(4,4,t,r)}function Fg(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Gg(t,r,s){s=s!=null?s.concat([t]):null,nl(4,4,Fg.bind(null,r,t),s)}function Ld(){}function Wg(t,r){var s=Rt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Rd(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function Kg(t,r){var s=Rt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Rd(r,l[1]))return l[0];if(l=t(),Ma){yn(!0);try{t()}finally{yn(!1)}}return s.memoizedState=[l,r],l}function Ud(t,r,s){return s===void 0||(bi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=Qy(),Ne.lanes|=t,Ni|=t,s)}function Yg(t,r,s,l){return _n(s,r)?s:ws.current!==null?(t=Ud(t,s,l),_n(t,r)||(Bt=!0),t):(bi&42)===0?(Bt=!0,t.memoizedState=s):(t=Qy(),Ne.lanes|=t,Ni|=t,r)}function $g(t,r,s,l,h){var f=he.p;he.p=f!==0&&8>f?f:8;var _=Q.T,T={};Q.T=T,zd(t,!1,r,s);try{var D=h(),G=Q.S;if(G!==null&&G(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=YS(D,l);rl(t,r,X,wn(t))}else rl(t,r,l,wn(t))}catch(te){rl(t,r,{then:function(){},status:"rejected",reason:te},wn())}finally{he.p=f,Q.T=_}}function JS(){}function Bd(t,r,s,l){if(t.tag!==5)throw Error(a(476));var h=Qg(t).queue;$g(t,h,r,ye,s===null?JS:function(){return Xg(t),s(l)})}function Qg(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:ye},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Xg(t){var r=Qg(t).next.queue;rl(t,r,{},wn())}function jd(){return Jt(Tl)}function Zg(){return Rt().memoizedState}function Jg(){return Rt().memoizedState}function eA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=wn();t=Ai(s);var l=wi(r,t,s);l!==null&&(bn(l,r,s),Xo(l,r,s)),r={cache:gd()},t.payload=r;return}r=r.return}}function tA(t,r,s){var l=wn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ec(t)?ty(r,s):(s=sd(t,r,s,l),s!==null&&(bn(s,t,l),ny(s,r,l)))}function ey(t,r,s){var l=wn();rl(t,r,s,l)}function rl(t,r,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ec(t))ty(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var _=r.lastRenderedState,T=f(_,s);if(h.hasEagerState=!0,h.eagerState=T,_n(T,_))return Lu(t,r,h,0),ot===null&&Vu(),!1}catch{}finally{}if(s=sd(t,r,h,l),s!==null)return bn(s,t,l),ny(s,r,l),!0}return!1}function zd(t,r,s,l){if(l={lane:2,revertLane:Ef(),action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(r)throw Error(a(479))}else r=sd(t,s,l,2),r!==null&&bn(r,t,2)}function ec(t){var r=t.alternate;return t===Ne||r!==null&&r===Ne}function ty(t,r){bs=Yu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function ny(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,bo(t,s)}}var tc={readContext:Jt,use:Qu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},ry={readContext:Jt,use:Qu,useCallback:function(t,r){return hn().memoizedState=[t,r===void 0?null:r],t},useContext:Jt,useEffect:jg,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,Ju(4194308,4,Fg.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Ju(4194308,4,t,r)},useInsertionEffect:function(t,r){Ju(4,2,t,r)},useMemo:function(t,r){var s=hn();r=r===void 0?null:r;var l=t();if(Ma){yn(!0);try{t()}finally{yn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=hn();if(s!==void 0){var h=s(r);if(Ma){yn(!0);try{s(r)}finally{yn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=tA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var r=hn();return t={current:t},r.memoizedState=t},useState:function(t){t=Md(t);var r=t.queue,s=ey.bind(null,Ne,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Ld,useDeferredValue:function(t,r){var s=hn();return Ud(s,t,r)},useTransition:function(){var t=Md(!1);return t=$g.bind(null,Ne,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Ne,h=hn();if(We){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),ot===null)throw Error(a(349));(qe&124)!==0||wg(l,r,s)}h.memoizedState=s;var f={value:s,getSnapshot:r};return h.queue=f,jg(Rg.bind(null,l,f,t),[t]),l.flags|=2048,Is(9,Zu(),bg.bind(null,l,f,s,r),null),s},useId:function(){var t=hn(),r=ot.identifierPrefix;if(We){var s=Hr,l=qr;s=(l&~(1<<32-Zt(l)-1)).toString(32)+s,r="«"+r+"R"+s,s=$u++,0<s&&(r+="H"+s.toString(32)),r+="»"}else s=$S++,r="«"+r+"r"+s.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:jd,useFormState:Mg,useActionState:Mg,useOptimistic:function(t){var r=hn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=zd.bind(null,Ne,!0,s),s.dispatch=r,[t,r]},useMemoCache:Nd,useCacheRefresh:function(){return hn().memoizedState=eA.bind(null,Ne)}},iy={readContext:Jt,use:Qu,useCallback:Wg,useContext:Jt,useEffect:zg,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Kg,useReducer:Xu,useRef:Bg,useState:function(){return Xu(Wr)},useDebugValue:Ld,useDeferredValue:function(t,r){var s=Rt();return Yg(s,nt.memoizedState,t,r)},useTransition:function(){var t=Xu(Wr)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:tl(t),r]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:jd,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,r){var s=Rt();return Dg(s,nt,t,r)},useMemoCache:Nd,useCacheRefresh:Jg},nA={readContext:Jt,use:Qu,useCallback:Wg,useContext:Jt,useEffect:zg,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Kg,useReducer:Pd,useRef:Bg,useState:function(){return Pd(Wr)},useDebugValue:Ld,useDeferredValue:function(t,r){var s=Rt();return nt===null?Ud(s,t,r):Yg(s,nt.memoizedState,t,r)},useTransition:function(){var t=Pd(Wr)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:tl(t),r]},useSyncExternalStore:Ag,useId:Zg,useHostTransitionStatus:jd,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,r){var s=Rt();return nt!==null?Dg(s,nt,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:Jg},Cs=null,il=0;function nc(t){var r=il;return il+=1,Cs===null&&(Cs=[]),pg(Cs,t,r)}function al(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function rc(t,r){throw r.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function ay(t){var r=t._init;return r(t._payload)}function sy(t){function r(U,M){if(t){var H=U.deletions;H===null?(U.deletions=[M],U.flags|=16):H.push(M)}}function s(U,M){if(!t)return null;for(;M!==null;)r(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=zr(U,M),U.index=0,U.sibling=null,U}function f(U,M,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<M?(U.flags|=67108866,M):H):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,H,Z){return M===null||M.tag!==6?(M=ld(H,U.mode,Z),M.return=U,M):(M=h(M,H),M.return=U,M)}function D(U,M,H,Z){var ge=H.type;return ge===N?X(U,M,H.props.children,Z,H.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===b&&ay(ge)===M.type)?(M=h(M,H.props),al(M,H),M.return=U,M):(M=Bu(H.type,H.key,H.props,null,U.mode,Z),al(M,H),M.return=U,M)}function G(U,M,H,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=ud(H,U.mode,Z),M.return=U,M):(M=h(M,H.children||[]),M.return=U,M)}function X(U,M,H,Z,ge){return M===null||M.tag!==7?(M=Ia(H,U.mode,Z,ge),M.return=U,M):(M=h(M,H),M.return=U,M)}function te(U,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ld(""+M,U.mode,H),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return H=Bu(M.type,M.key,M.props,null,U.mode,H),al(H,M),H.return=U,H;case L:return M=ud(M,U.mode,H),M.return=U,M;case b:var Z=M._init;return M=Z(M._payload),te(U,M,H)}if(ut(M)||j(M))return M=Ia(M,U.mode,H,null),M.return=U,M;if(typeof M.then=="function")return te(U,nc(M),H);if(M.$$typeof===ae)return te(U,Hu(U,M),H);rc(U,M)}return null}function W(U,M,H,Z){var ge=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ge!==null?null:T(U,M,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===ge?D(U,M,H,Z):null;case L:return H.key===ge?G(U,M,H,Z):null;case b:return ge=H._init,H=ge(H._payload),W(U,M,H,Z)}if(ut(H)||j(H))return ge!==null?null:X(U,M,H,Z,null);if(typeof H.then=="function")return W(U,M,nc(H),Z);if(H.$$typeof===ae)return W(U,M,Hu(U,H),Z);rc(U,H)}return null}function K(U,M,H,Z,ge){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(H)||null,T(M,U,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return U=U.get(Z.key===null?H:Z.key)||null,D(M,U,Z,ge);case L:return U=U.get(Z.key===null?H:Z.key)||null,G(M,U,Z,ge);case b:var Pe=Z._init;return Z=Pe(Z._payload),K(U,M,H,Z,ge)}if(ut(Z)||j(Z))return U=U.get(H)||null,X(M,U,Z,ge,null);if(typeof Z.then=="function")return K(U,M,H,nc(Z),ge);if(Z.$$typeof===ae)return K(U,M,H,Hu(M,Z),ge);rc(M,Z)}return null}function Re(U,M,H,Z){for(var ge=null,Pe=null,ve=M,we=M=0,zt=null;ve!==null&&we<H.length;we++){ve.index>we?(zt=ve,ve=null):zt=ve.sibling;var Ge=W(U,ve,H[we],Z);if(Ge===null){ve===null&&(ve=zt);break}t&&ve&&Ge.alternate===null&&r(U,ve),M=f(Ge,M,we),Pe===null?ge=Ge:Pe.sibling=Ge,Pe=Ge,ve=zt}if(we===H.length)return s(U,ve),We&&Da(U,we),ge;if(ve===null){for(;we<H.length;we++)ve=te(U,H[we],Z),ve!==null&&(M=f(ve,M,we),Pe===null?ge=ve:Pe.sibling=ve,Pe=ve);return We&&Da(U,we),ge}for(ve=l(ve);we<H.length;we++)zt=K(ve,U,we,H[we],Z),zt!==null&&(t&&zt.alternate!==null&&ve.delete(zt.key===null?we:zt.key),M=f(zt,M,we),Pe===null?ge=zt:Pe.sibling=zt,Pe=zt);return t&&ve.forEach(function(zi){return r(U,zi)}),We&&Da(U,we),ge}function Ae(U,M,H,Z){if(H==null)throw Error(a(151));for(var ge=null,Pe=null,ve=M,we=M=0,zt=null,Ge=H.next();ve!==null&&!Ge.done;we++,Ge=H.next()){ve.index>we?(zt=ve,ve=null):zt=ve.sibling;var zi=W(U,ve,Ge.value,Z);if(zi===null){ve===null&&(ve=zt);break}t&&ve&&zi.alternate===null&&r(U,ve),M=f(zi,M,we),Pe===null?ge=zi:Pe.sibling=zi,Pe=zi,ve=zt}if(Ge.done)return s(U,ve),We&&Da(U,we),ge;if(ve===null){for(;!Ge.done;we++,Ge=H.next())Ge=te(U,Ge.value,Z),Ge!==null&&(M=f(Ge,M,we),Pe===null?ge=Ge:Pe.sibling=Ge,Pe=Ge);return We&&Da(U,we),ge}for(ve=l(ve);!Ge.done;we++,Ge=H.next())Ge=K(ve,U,we,Ge.value,Z),Ge!==null&&(t&&Ge.alternate!==null&&ve.delete(Ge.key===null?we:Ge.key),M=f(Ge,M,we),Pe===null?ge=Ge:Pe.sibling=Ge,Pe=Ge);return t&&ve.forEach(function(rw){return r(U,rw)}),We&&Da(U,we),ge}function it(U,M,H,Z){if(typeof H=="object"&&H!==null&&H.type===N&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:e:{for(var ge=H.key;M!==null;){if(M.key===ge){if(ge=H.type,ge===N){if(M.tag===7){s(U,M.sibling),Z=h(M,H.props.children),Z.return=U,U=Z;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===b&&ay(ge)===M.type){s(U,M.sibling),Z=h(M,H.props),al(Z,H),Z.return=U,U=Z;break e}s(U,M);break}else r(U,M);M=M.sibling}H.type===N?(Z=Ia(H.props.children,U.mode,Z,H.key),Z.return=U,U=Z):(Z=Bu(H.type,H.key,H.props,null,U.mode,Z),al(Z,H),Z.return=U,U=Z)}return _(U);case L:e:{for(ge=H.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){s(U,M.sibling),Z=h(M,H.children||[]),Z.return=U,U=Z;break e}else{s(U,M);break}else r(U,M);M=M.sibling}Z=ud(H,U.mode,Z),Z.return=U,U=Z}return _(U);case b:return ge=H._init,H=ge(H._payload),it(U,M,H,Z)}if(ut(H))return Re(U,M,H,Z);if(j(H)){if(ge=j(H),typeof ge!="function")throw Error(a(150));return H=ge.call(H),Ae(U,M,H,Z)}if(typeof H.then=="function")return it(U,M,nc(H),Z);if(H.$$typeof===ae)return it(U,M,Hu(U,H),Z);rc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(s(U,M.sibling),Z=h(M,H),Z.return=U,U=Z):(s(U,M),Z=ld(H,U.mode,Z),Z.return=U,U=Z),_(U)):s(U,M)}return function(U,M,H,Z){try{il=0;var ge=it(U,M,H,Z);return Cs=null,ge}catch(ve){if(ve===$o||ve===Gu)throw ve;var Pe=En(29,ve,null,U.mode);return Pe.lanes=Z,Pe.return=U,Pe}finally{}}}var Ds=sy(!0),oy=sy(!1),Bn=ie(null),yr=null;function Ri(t){var r=t.alternate;se(Pt,Pt.current&1),se(Bn,t),yr===null&&(r===null||ws.current!==null||r.memoizedState!==null)&&(yr=t)}function ly(t){if(t.tag===22){if(se(Pt,Pt.current),se(Bn,t),yr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(yr=t)}}else Ii()}function Ii(){se(Pt,Pt.current),se(Bn,Bn.current)}function Kr(t){de(Bn),yr===t&&(yr=null),de(Pt)}var Pt=ie(0);function ic(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Nf(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function qd(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:E({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Hd={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=wn(),h=Ai(l);h.payload=r,s!=null&&(h.callback=s),r=wi(t,h,l),r!==null&&(bn(r,t,l),Xo(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=wn(),h=Ai(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=wi(t,h,l),r!==null&&(bn(r,t,l),Xo(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=wn(),l=Ai(s);l.tag=2,r!=null&&(l.callback=r),r=wi(t,l,s),r!==null&&(bn(r,t,s),Xo(r,t,s))}};function uy(t,r,s,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):r.prototype&&r.prototype.isPureReactComponent?!zo(s,l)||!zo(h,f):!0}function cy(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&Hd.enqueueReplaceState(r,r.state,null)}function Va(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=E({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function hy(t){ac(t)}function dy(t){console.error(t)}function fy(t){ac(t)}function sc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function my(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Fd(t,r,s){return s=Ai(s),s.tag=3,s.payload={element:null},s.callback=function(){sc(t,r)},s}function py(t){return t=Ai(t),t.tag=3,t}function gy(t,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){my(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){my(r,s,l),typeof h!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function rA(t,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&Wo(r,s,h,!0),s=Bn.current,s!==null){switch(s.tag){case 13:return yr===null?pf():s.alternate===null&&vt===0&&(vt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===_d?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),yf(t,l,h)),!1;case 22:return s.flags|=65536,l===_d?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),yf(t,l,h)),!1}throw Error(a(435,s.tag))}return yf(t,l,h),pf(),!1}if(We)return r=Bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==dd&&(t=Error(a(422),{cause:l}),Go(Mn(t,s)))):(l!==dd&&(r=Error(a(423),{cause:l}),Go(Mn(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,s),h=Fd(t.stateNode,l,h),Sd(t,h),vt!==4&&(vt=2)),!1;var f=Error(a(520),{cause:l});if(f=Mn(f,s),dl===null?dl=[f]:dl.push(f),vt!==4&&(vt=2),r===null)return!0;l=Mn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Fd(s.stateNode,l,t),Sd(s,t),!1;case 1:if(r=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ki===null||!ki.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=py(h),gy(h,t,s,l),Sd(s,h),!1}s=s.return}while(s!==null);return!1}var yy=Error(a(461)),Bt=!1;function Wt(t,r,s,l){r.child=t===null?oy(r,null,s,l):Ds(r,t.child,s,l)}function vy(t,r,s,l,h){s=s.render;var f=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ka(r),l=Id(t,r,s,_,f,h),T=Cd(),t!==null&&!Bt?(Dd(t,r,h),Yr(t,r,h)):(We&&T&&cd(r),r.flags|=1,Wt(t,r,l,h),r.child)}function _y(t,r,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!od(f)&&f.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=f,Ey(t,r,f,l,h)):(t=Bu(s.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Zd(t,h)){var _=f.memoizedProps;if(s=s.compare,s=s!==null?s:zo,s(_,l)&&t.ref===r.ref)return Yr(t,r,h)}return r.flags|=1,t=zr(f,l),t.ref=r.ref,t.return=r,r.child=t}function Ey(t,r,s,l,h){if(t!==null){var f=t.memoizedProps;if(zo(f,l)&&t.ref===r.ref)if(Bt=!1,r.pendingProps=l=f,Zd(t,h))(t.flags&131072)!==0&&(Bt=!0);else return r.lanes=t.lanes,Yr(t,r,h)}return Gd(t,r,s,l,h)}function Ty(t,r,s){var l=r.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(h=r.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return Sy(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(r,f!==null?f.cachePool:null),f!==null?Eg(r,f):wd(),ly(r);else return r.lanes=r.childLanes=536870912,Sy(t,r,f!==null?f.baseLanes|s:s,s)}else f!==null?(Fu(r,f.cachePool),Eg(r,f),Ii(),r.memoizedState=null):(t!==null&&Fu(r,null),wd(),Ii());return Wt(t,r,h,s),r.child}function Sy(t,r,s,l){var h=vd();return h=h===null?null:{parent:kt._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},t!==null&&Fu(r,null),wd(),ly(r),t!==null&&Wo(t,r,l,!0),null}function oc(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Gd(t,r,s,l,h){return ka(r),s=Id(t,r,s,l,void 0,h),l=Cd(),t!==null&&!Bt?(Dd(t,r,h),Yr(t,r,h)):(We&&l&&cd(r),r.flags|=1,Wt(t,r,s,h),r.child)}function Ay(t,r,s,l,h,f){return ka(r),r.updateQueue=null,s=Sg(r,l,s,h),Tg(t),l=Cd(),t!==null&&!Bt?(Dd(t,r,f),Yr(t,r,f)):(We&&l&&cd(r),r.flags|=1,Wt(t,r,s,f),r.child)}function wy(t,r,s,l,h){if(ka(r),r.stateNode===null){var f=_s,_=s.contextType;typeof _=="object"&&_!==null&&(f=Jt(_)),f=new s(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hd,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Ed(r),_=s.contextType,f.context=typeof _=="object"&&_!==null?Jt(_):_s,f.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(qd(r,s,_,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Hd.enqueueReplaceState(f,f.state,null),Jo(r,l,f,h),Zo(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var T=r.memoizedProps,D=Va(s,T);f.props=D;var G=f.context,X=s.contextType;_=_s,typeof X=="object"&&X!==null&&(_=Jt(X));var te=s.getDerivedStateFromProps;X=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||G!==_)&&cy(r,f,l,_),Si=!1;var W=r.memoizedState;f.state=W,Jo(r,l,f,h),Zo(),G=r.memoizedState,T||W!==G||Si?(typeof te=="function"&&(qd(r,s,te,l),G=r.memoizedState),(D=Si||uy(r,s,D,l,W,G,_))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),f.props=l,f.state=G,f.context=_,l=D):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Td(t,r),_=r.memoizedProps,X=Va(s,_),f.props=X,te=r.pendingProps,W=f.context,G=s.contextType,D=_s,typeof G=="object"&&G!==null&&(D=Jt(G)),T=s.getDerivedStateFromProps,(G=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==te||W!==D)&&cy(r,f,l,D),Si=!1,W=r.memoizedState,f.state=W,Jo(r,l,f,h),Zo();var K=r.memoizedState;_!==te||W!==K||Si||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof T=="function"&&(qd(r,s,T,l),K=r.memoizedState),(X=Si||uy(r,s,X,l,W,K,D)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,D)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&W===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&W===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),f.props=l,f.state=K,f.context=D,l=X):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&W===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&W===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,oc(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=Ds(r,t.child,null,h),r.child=Ds(r,null,s,h)):Wt(t,r,s,h),r.memoizedState=f.state,t=r.child):t=Yr(t,r,h),t}function by(t,r,s,l){return Fo(),r.flags|=256,Wt(t,r,s,l),r.child}var Wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(t){return{baseLanes:t,cachePool:dg()}}function Yd(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=jn),t}function Ry(t,r,s){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Pt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(We){if(h?Ri(r):Ii(),We){var T=yt,D;if(D=T){e:{for(D=T,T=gr;D.nodeType!==8;){if(!T){T=null;break e}if(D=Zn(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ca!==null?{id:qr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},D=En(18,null,null,0),D.stateNode=T,D.return=r,r.child=D,un=r,yt=null,D=!0):D=!1}D||Oa(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Nf(T)?r.lanes=32:r.lanes=536870912,null;Kr(r)}return T=l.children,l=l.fallback,h?(Ii(),h=r.mode,T=lc({mode:"hidden",children:T},h),l=Ia(l,h,s,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Kd(s),h.childLanes=Yd(t,_,s),r.memoizedState=Wd,l):(Ri(r),$d(r,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(f)r.flags&256?(Ri(r),r.flags&=-257,r=Qd(t,r,s)):r.memoizedState!==null?(Ii(),r.child=t.child,r.flags|=128,r=null):(Ii(),h=l.fallback,T=r.mode,l=lc({mode:"visible",children:l.children},T),h=Ia(h,T,s,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ds(r,t.child,null,s),l=r.child,l.memoizedState=Kd(s),l.childLanes=Yd(t,_,s),r.memoizedState=Wd,r=h);else if(Ri(r),Nf(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(a(419)),l.stack="",l.digest=_,Go({value:l,source:null,stack:null}),r=Qd(t,r,s)}else if(Bt||Wo(t,r,s,!1),_=(s&t.childLanes)!==0,Bt||_){if(_=ot,_!==null&&(l=s&-s,l=(l&42)!==0?1:mi(l),l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,vs(t,l),bn(_,t,l),yy;T.data==="$?"||pf(),r=Qd(t,r,s)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,yt=Zn(T.nextSibling),un=r,We=!0,xa=null,gr=!1,t!==null&&(Ln[Un++]=qr,Ln[Un++]=Hr,Ln[Un++]=Ca,qr=t.id,Hr=t.overflow,Ca=r),r=$d(r,l.children),r.flags|=4096);return r}return h?(Ii(),h=l.fallback,T=r.mode,D=t.child,G=D.sibling,l=zr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,G!==null?h=zr(G,h):(h=Ia(h,T,s,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=Kd(s):(D=T.cachePool,D!==null?(G=kt._currentValue,D=D.parent!==G?{parent:G,pool:G}:D):D=dg(),T={baseLanes:T.baseLanes|s,cachePool:D}),h.memoizedState=T,h.childLanes=Yd(t,_,s),r.memoizedState=Wd,l):(Ri(r),s=t.child,t=s.sibling,s=zr(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function $d(t,r){return r=lc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function lc(t,r){return t=En(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qd(t,r,s){return Ds(r,t.child,null,s),t=$d(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Iy(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),md(t.return,r,s)}function Xd(t,r,s,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=h)}function Cy(t,r,s){var l=r.pendingProps,h=l.revealOrder,f=l.tail;if(Wt(t,r,l.children,s),l=Pt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iy(t,s,r);else if(t.tag===19)Iy(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Pt,l),h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&ic(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),Xd(r,!1,h,s,f);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ic(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Xd(r,!0,s,null,f);break;case"together":Xd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Ni|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(Wo(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=zr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=zr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Zd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function iA(t,r,s){switch(r.tag){case 3:le(r,r.stateNode.containerInfo),Ti(r,kt,t.memoizedState.cache),Fo();break;case 27:case 5:at(r);break;case 4:le(r,r.stateNode.containerInfo);break;case 10:Ti(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ri(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Ry(t,r,s):(Ri(r),t=Yr(t,r,s),t!==null?t.sibling:null);Ri(r);break;case 19:var h=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(Wo(t,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return Cy(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Pt,Pt.current),l)break;return null;case 22:case 23:return r.lanes=0,Ty(t,r,s);case 24:Ti(r,kt,t.memoizedState.cache)}return Yr(t,r,s)}function Dy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Bt=!0;else{if(!Zd(t,s)&&(r.flags&128)===0)return Bt=!1,iA(t,r,s);Bt=(t.flags&131072)!==0}else Bt=!1,We&&(r.flags&1048576)!==0&&ag(r,zu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")od(l)?(t=Va(l,t),r.tag=1,r=wy(null,r,l,t,s)):(r.tag=0,r=Gd(null,r,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===oe){r.tag=11,r=vy(null,r,l,t,s);break e}else if(h===C){r.tag=14,r=_y(null,r,l,t,s);break e}}throw r=Dt(l)||l,Error(a(306,r,""))}}return r;case 0:return Gd(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=Va(l,r.pendingProps),wy(t,r,l,h,s);case 3:e:{if(le(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,Td(t,r),Jo(r,l,null,s);var _=r.memoizedState;if(l=_.cache,Ti(r,kt,l),l!==f.cache&&pd(r,[kt],s,!0),Zo(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=by(t,r,l,s);break e}else if(l!==h){h=Mn(Error(a(424)),r),Go(h),r=by(t,r,l,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(yt=Zn(t.firstChild),un=r,We=!0,xa=null,gr=!0,s=oy(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Fo(),l===h){r=Yr(t,r,s);break e}Wt(t,r,l,s)}r=r.child}return r;case 26:return oc(t,r),t===null?(s=kv(r.type,null,r.pendingProps,null))?r.memoizedState=s:We||(s=r.type,t=r.pendingProps,l=Sc(J.current).createElement(s),l[xt]=r,l[At]=t,Yt(l,s,t),_t(l),r.stateNode=l):r.memoizedState=kv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return at(r),t===null&&We&&(l=r.stateNode=xv(r.type,r.pendingProps,J.current),un=r,gr=!0,h=yt,Vi(r.type)?(kf=h,yt=Zn(l.firstChild)):yt=h),Wt(t,r,r.pendingProps.children,s),oc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&We&&((h=l=yt)&&(l=NA(l,r.type,r.pendingProps,gr),l!==null?(r.stateNode=l,un=r,yt=Zn(l.firstChild),gr=!1,h=!0):h=!1),h||Oa(r)),at(r),h=r.type,f=r.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Df(h,f)?l=null:_!==null&&Df(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Id(t,r,QS,null,null,s),Tl._currentValue=h),oc(t,r),Wt(t,r,l,s),r.child;case 6:return t===null&&We&&((t=s=yt)&&(s=kA(s,r.pendingProps,gr),s!==null?(r.stateNode=s,un=r,yt=null,t=!0):t=!1),t||Oa(r)),null;case 13:return Ry(t,r,s);case 4:return le(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ds(r,null,l,s):Wt(t,r,l,s),r.child;case 11:return vy(t,r,r.type,r.pendingProps,s);case 7:return Wt(t,r,r.pendingProps,s),r.child;case 8:return Wt(t,r,r.pendingProps.children,s),r.child;case 12:return Wt(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Ti(r,r.type,l.value),Wt(t,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,ka(r),h=Jt(h),l=l(h),r.flags|=1,Wt(t,r,l,s),r.child;case 14:return _y(t,r,r.type,r.pendingProps,s);case 15:return Ey(t,r,r.type,r.pendingProps,s);case 19:return Cy(t,r,s);case 31:return l=r.pendingProps,s=r.mode,l={mode:l.mode,children:l.children},t===null?(s=lc(l,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=zr(t.child,l),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return Ty(t,r,s);case 24:return ka(r),l=Jt(kt),t===null?(h=vd(),h===null&&(h=ot,f=gd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),r.memoizedState={parent:l,cache:h},Ed(r),Ti(r,kt,h)):((t.lanes&s)!==0&&(Td(t,r),Jo(r,null,null,s),Zo()),h=t.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ti(r,kt,l)):(l=f.cache,Ti(r,kt,l),l!==h.cache&&pd(r,[kt],s,!0))),Wt(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function $r(t){t.flags|=4}function xy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Uv(r)){if(r=Bn.current,r!==null&&((qe&4194048)===qe?yr!==null:(qe&62914560)!==qe&&(qe&536870912)===0||r!==yr))throw Qo=_d,fg;t.flags|=8192}}function uc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ao():536870912,t.lanes|=r,ks|=r)}function sl(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function mt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function aA(t,r,s){var l=r.pendingProps;switch(hd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(r),null;case 1:return mt(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Gr(kt),De(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ho(r)?$r(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,lg())),mt(r),null;case 26:return s=r.memoizedState,t===null?($r(r),s!==null?(mt(r),xy(r,s)):(mt(r),r.flags&=-16777217)):s?s!==t.memoizedState?($r(r),mt(r),xy(r,s)):(mt(r),r.flags&=-16777217):(t.memoizedProps!==l&&$r(r),mt(r),r.flags&=-16777217),null;case 27:ct(r),s=J.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&$r(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return mt(r),null}t=Ee.current,Ho(r)?sg(r):(t=xv(h,l,s),r.stateNode=t,$r(r))}return mt(r),null;case 5:if(ct(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&$r(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return mt(r),null}if(t=Ee.current,Ho(r))sg(r);else{switch(h=Sc(J.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[xt]=r,t[At]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Yt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$r(r)}}return mt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&$r(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=J.current,Ho(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,h=un,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Av(t.nodeValue,s)),t||Oa(r)}else t=Sc(t).createTextNode(l),t[xt]=r,r.stateNode=t}return mt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ho(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xt]=r}else Fo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),h=!1}else h=lg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Kr(r),r):(Kr(r),null)}if(Kr(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),uc(r,r.updateQueue),mt(r),null;case 4:return De(),t===null&&wf(r.stateNode.containerInfo),mt(r),null;case 10:return Gr(r.type),mt(r),null;case 19:if(de(Pt),h=r.memoizedState,h===null)return mt(r),null;if(l=(r.flags&128)!==0,f=h.rendering,f===null)if(l)sl(h,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=ic(t),f!==null){for(r.flags|=128,sl(h,!1),t=f.updateQueue,r.updateQueue=t,uc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)ig(s,t),s=s.sibling;return se(Pt,Pt.current&1|2),r.child}t=t.sibling}h.tail!==null&&Fe()>dc&&(r.flags|=128,l=!0,sl(h,!1),r.lanes=4194304)}else{if(!l)if(t=ic(f),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,uc(r,t),sl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!We)return mt(r),null}else 2*Fe()-h.renderingStartTime>dc&&s!==536870912&&(r.flags|=128,l=!0,sl(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(t=h.last,t!==null?t.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Fe(),r.sibling=null,t=Pt.current,se(Pt,l?t&1|2:t&1),r):(mt(r),null);case 22:case 23:return Kr(r),bd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(mt(r),r.subtreeFlags&6&&(r.flags|=8192)):mt(r),s=r.updateQueue,s!==null&&uc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&de(Pa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Gr(kt),mt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function sA(t,r){switch(hd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Gr(kt),De(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ct(r),null;case 13:if(Kr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Fo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return de(Pt),null;case 4:return De(),null;case 10:return Gr(r.type),null;case 22:case 23:return Kr(r),bd(),t!==null&&de(Pa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Gr(kt),null;case 25:return null;default:return null}}function Oy(t,r){switch(hd(r),r.tag){case 3:Gr(kt),De();break;case 26:case 27:case 5:ct(r);break;case 4:De();break;case 13:Kr(r);break;case 19:de(Pt);break;case 10:Gr(r.type);break;case 22:case 23:Kr(r),bd(),t!==null&&de(Pa);break;case 24:Gr(kt)}}function ol(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,_=s.inst;l=f(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){st(r,r.return,T)}}function Ci(t,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var D=s,G=T;try{G()}catch(X){st(h,D,X)}}}l=l.next}while(l!==f)}}catch(X){st(r,r.return,X)}}function Ny(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{_g(r,s)}catch(l){st(t,t.return,l)}}}function ky(t,r,s){s.props=Va(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){st(t,r,l)}}function ll(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){st(t,r,h)}}function vr(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){st(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){st(t,r,h)}else s.current=null}function Py(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){st(t,t.return,h)}}function Jd(t,r,s){try{var l=t.stateNode;IA(l,t.type,s,r),l[At]=r}catch(h){st(t,t.return,h)}}function My(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vi(t.type)||t.tag===4}function ef(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||My(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tf(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Tc));else if(l!==4&&(l===27&&Vi(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(tf(t,r,s),t=t.sibling;t!==null;)tf(t,r,s),t=t.sibling}function cc(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&Vi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(cc(t,r,s),t=t.sibling;t!==null;)cc(t,r,s),t=t.sibling}function Vy(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Yt(r,l,s),r[xt]=t,r[At]=s}catch(f){st(t,t.return,f)}}var Qr=!1,Tt=!1,nf=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,jt=null;function oA(t,r){if(t=t.containerInfo,If=Cc,t=Yp(t),ed(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var _=0,T=-1,D=-1,G=0,X=0,te=t,W=null;t:for(;;){for(var K;te!==s||h!==0&&te.nodeType!==3||(T=_+h),te!==f||l!==0&&te.nodeType!==3||(D=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(K=te.firstChild)!==null;)W=te,te=K;for(;;){if(te===t)break t;if(W===s&&++G===h&&(T=_),W===f&&++X===l&&(D=_),(K=te.nextSibling)!==null)break;te=W,W=te.parentNode}te=K}s=T===-1||D===-1?null:{start:T,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Cf={focusedElem:t,selectionRange:s},Cc=!1,jt=r;jt!==null;)if(r=jt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,jt=t;else for(;jt!==null;){switch(r=jt,f=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=r,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Re=Va(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Re,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){st(s,s.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Of(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,jt=t;break}jt=r.return}}function Uy(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Di(t,s),l&4&&ol(5,s);break;case 1:if(Di(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){st(s,s.return,_)}else{var h=Va(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){st(s,s.return,_)}}l&64&&Ny(s),l&512&&ll(s,s.return);break;case 3:if(Di(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{_g(t,r)}catch(_){st(s,s.return,_)}}break;case 27:r===null&&l&4&&Vy(s);case 26:case 5:Di(t,s),r===null&&l&4&&Py(s),l&512&&ll(s,s.return);break;case 12:Di(t,s);break;case 13:Di(t,s),l&4&&zy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=gA.bind(null,s),PA(t,s))));break;case 22:if(l=s.memoizedState!==null||Qr,!l){r=r!==null&&r.memoizedState!==null||Tt,h=Qr;var f=Tt;Qr=l,(Tt=r)&&!f?xi(t,s,(s.subtreeFlags&8772)!==0):Di(t,s),Qr=h,Tt=f}break;case 30:break;default:Di(t,s)}}function By(t){var r=t.alternate;r!==null&&(t.alternate=null,By(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&yi(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,dn=!1;function Xr(t,r,s){for(s=s.child;s!==null;)jy(t,r,s),s=s.sibling}function jy(t,r,s){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(gt,s)}catch{}switch(s.tag){case 26:Tt||vr(s,r),Xr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Tt||vr(s,r);var l=dt,h=dn;Vi(s.type)&&(dt=s.stateNode,dn=!1),Xr(t,r,s),yl(s.stateNode),dt=l,dn=h;break;case 5:Tt||vr(s,r);case 6:if(l=dt,h=dn,dt=null,Xr(t,r,s),dt=l,dn=h,dt!==null)if(dn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(s.stateNode)}catch(f){st(s,r,f)}else try{dt.removeChild(s.stateNode)}catch(f){st(s,r,f)}break;case 18:dt!==null&&(dn?(t=dt,Cv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),bl(t)):Cv(dt,s.stateNode));break;case 4:l=dt,h=dn,dt=s.stateNode.containerInfo,dn=!0,Xr(t,r,s),dt=l,dn=h;break;case 0:case 11:case 14:case 15:Tt||Ci(2,s,r),Tt||Ci(4,s,r),Xr(t,r,s);break;case 1:Tt||(vr(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ky(s,r,l)),Xr(t,r,s);break;case 21:Xr(t,r,s);break;case 22:Tt=(l=Tt)||s.memoizedState!==null,Xr(t,r,s),Tt=l;break;default:Xr(t,r,s)}}function zy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bl(t)}catch(s){st(r,r.return,s)}}function lA(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ly),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ly),r;default:throw Error(a(435,t.tag))}}function rf(t,r){var s=lA(t);r.forEach(function(l){var h=yA.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function Tn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Vi(T.type)){dt=T.stateNode,dn=!1;break e}break;case 5:dt=T.stateNode,dn=!1;break e;case 3:case 4:dt=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(dt===null)throw Error(a(160));jy(f,_,h),dt=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)qy(r,t),r=r.sibling}var Xn=null;function qy(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(r,t),Sn(t),l&4&&(Ci(3,t,t.return),ol(3,t),Ci(5,t,t.return));break;case 1:Tn(r,t),Sn(t),l&512&&(Tt||s===null||vr(s,s.return)),l&64&&Qr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Xn;if(Tn(r,t),Sn(t),l&512&&(Tt||s===null||vr(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ha]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Yt(f,l,s),f[xt]=t,_t(f),l=f;break e;case"link":var _=Vv("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}f=h.createElement(l),Yt(f,l,s),h.head.appendChild(f);break;case"meta":if(_=Vv("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}f=h.createElement(l),Yt(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[xt]=t,_t(f),l=f}t.stateNode=l}else Lv(h,t.type,t.stateNode);else t.stateNode=Mv(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Lv(h,t.type,t.stateNode):Mv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Tn(r,t),Sn(t),l&512&&(Tt||s===null||vr(s,s.return)),s!==null&&l&4&&Jd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Tn(r,t),Sn(t),l&512&&(Tt||s===null||vr(s,s.return)),t.flags&32){h=t.stateNode;try{On(h,"")}catch(K){st(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Jd(t,h,s!==null?s.memoizedProps:h)),l&1024&&(nf=!0);break;case 6:if(Tn(r,t),Sn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(K){st(t,t.return,K)}}break;case 3:if(bc=null,h=Xn,Xn=Ac(r.containerInfo),Tn(r,t),Xn=h,Sn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{bl(r.containerInfo)}catch(K){st(t,t.return,K)}nf&&(nf=!1,Hy(t));break;case 4:l=Xn,Xn=Ac(t.stateNode.containerInfo),Tn(r,t),Sn(t),Xn=l;break;case 12:Tn(r,t),Sn(t);break;case 13:Tn(r,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(cf=Fe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 22:h=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,G=Qr,X=Tt;if(Qr=G||h,Tt=X||D,Tn(r,t),Tt=X,Qr=G,Sn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||D||Qr||Tt||La(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){D=s=r;try{if(f=D.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var te=D.memoizedProps.style,W=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(K){st(D,D.return,K)}}}else if(r.tag===6){if(s===null){D=r;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(K){st(D,D.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,rf(t,s))));break;case 19:Tn(r,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 30:break;case 21:break;default:Tn(r,t),Sn(t)}}function Sn(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(My(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=ef(t);cc(t,f,h);break;case 5:var _=s.stateNode;s.flags&32&&(On(_,""),s.flags&=-33);var T=ef(t);cc(t,T,_);break;case 3:case 4:var D=s.stateNode.containerInfo,G=ef(t);tf(t,G,D);break;default:throw Error(a(161))}}catch(X){st(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Hy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Di(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Uy(t,r.alternate,r),r=r.sibling}function La(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ci(4,r,r.return),La(r);break;case 1:vr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&ky(r,r.return,s),La(r);break;case 27:yl(r.stateNode);case 26:case 5:vr(r,r.return),La(r);break;case 22:r.memoizedState===null&&La(r);break;case 30:La(r);break;default:La(r)}t=t.sibling}}function xi(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,f=r,_=f.flags;switch(f.tag){case 0:case 11:case 15:xi(h,f,s),ol(4,f);break;case 1:if(xi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){st(l,l.return,G)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)vg(D[h],T)}catch(G){st(l,l.return,G)}}s&&_&64&&Ny(f),ll(f,f.return);break;case 27:Vy(f);case 26:case 5:xi(h,f,s),s&&l===null&&_&4&&Py(f),ll(f,f.return);break;case 12:xi(h,f,s);break;case 13:xi(h,f,s),s&&_&4&&zy(h,f);break;case 22:f.memoizedState===null&&xi(h,f,s),ll(f,f.return);break;case 30:break;default:xi(h,f,s)}r=r.sibling}}function af(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ko(s))}function sf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ko(t))}function _r(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Fy(t,r,s,l),r=r.sibling}function Fy(t,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:_r(t,r,s,l),h&2048&&ol(9,r);break;case 1:_r(t,r,s,l);break;case 3:_r(t,r,s,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Ko(t)));break;case 12:if(h&2048){_r(t,r,s,l),t=r.stateNode;try{var f=r.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){st(r,r.return,D)}}else _r(t,r,s,l);break;case 13:_r(t,r,s,l);break;case 23:break;case 22:f=r.stateNode,_=r.alternate,r.memoizedState!==null?f._visibility&2?_r(t,r,s,l):ul(t,r):f._visibility&2?_r(t,r,s,l):(f._visibility|=2,xs(t,r,s,l,(r.subtreeFlags&10256)!==0)),h&2048&&af(_,r);break;case 24:_r(t,r,s,l),h&2048&&sf(r.alternate,r);break;default:_r(t,r,s,l)}}function xs(t,r,s,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=t,_=r,T=s,D=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:xs(f,_,T,D,h),ol(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?xs(f,_,T,D,h):ul(f,_):(X._visibility|=2,xs(f,_,T,D,h)),h&&G&2048&&af(_.alternate,_);break;case 24:xs(f,_,T,D,h),h&&G&2048&&sf(_.alternate,_);break;default:xs(f,_,T,D,h)}r=r.sibling}}function ul(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,h=l.flags;switch(l.tag){case 22:ul(s,l),h&2048&&af(l.alternate,l);break;case 24:ul(s,l),h&2048&&sf(l.alternate,l);break;default:ul(s,l)}r=r.sibling}}var cl=8192;function Os(t){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)Gy(t),t=t.sibling}function Gy(t){switch(t.tag){case 26:Os(t),t.flags&cl&&t.memoizedState!==null&&KA(Xn,t.memoizedState,t.memoizedProps);break;case 5:Os(t);break;case 3:case 4:var r=Xn;Xn=Ac(t.stateNode.containerInfo),Os(t),Xn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=cl,cl=16777216,Os(t),cl=r):Os(t));break;default:Os(t)}}function Wy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function hl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];jt=l,Yy(l,t)}Wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&Ci(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,hc(t)):hl(t);break;default:hl(t)}}function hc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];jt=l,Yy(l,t)}Wy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ci(8,r,r.return),hc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,hc(r));break;default:hc(r)}t=t.sibling}}function Yy(t,r){for(;jt!==null;){var s=jt;switch(s.tag){case 0:case 11:case 15:Ci(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ko(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,jt=l;else e:for(s=t;jt!==null;){l=jt;var h=l.sibling,f=l.return;if(By(l),l===s){jt=null;break e}if(h!==null){h.return=f,jt=h;break e}jt=f}}}var uA={getCacheForType:function(t){var r=Jt(kt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},cA=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ot=null,Me=null,qe=0,Je=0,An=null,Oi=!1,Ns=!1,of=!1,Zr=0,vt=0,Ni=0,Ua=0,lf=0,jn=0,ks=0,dl=null,fn=null,uf=!1,cf=0,dc=1/0,fc=null,ki=null,Kt=0,Pi=null,Ps=null,Ms=0,hf=0,df=null,$y=null,fl=0,ff=null;function wn(){if((Ze&2)!==0&&qe!==0)return qe&-qe;if(Q.T!==null){var t=Ss;return t!==0?t:Ef()}return pi()}function Qy(){jn===0&&(jn=(qe&536870912)===0||We?So():536870912);var t=Bn.current;return t!==null&&(t.flags|=32),jn}function bn(t,r,s){(t===ot&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Vs(t,0),Mi(t,qe,jn,!1)),xr(t,s),((Ze&2)===0||t!==ot)&&(t===ot&&((Ze&2)===0&&(Ua|=s),vt===4&&Mi(t,qe,jn,!1)),Er(t))}function Xy(t,r,s){if((Ze&6)!==0)throw Error(a(327));var l=!s&&(r&124)===0&&(r&t.expiredLanes)===0||ca(t,r),h=l?fA(t,r):gf(t,r,!0),f=l;do{if(h===0){Ns&&!l&&Mi(t,r,0,!1);break}else{if(s=t.current.alternate,f&&!hA(s)){h=gf(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;h=dl;var D=T.current.memoizedState.isDehydrated;if(D&&(Vs(T,_).flags|=256),_=gf(T,_,!1),_!==2){if(of&&!D){T.errorRecoveryDisabledLanes|=f,Ua|=f,h=4;break e}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Vs(t,0),Mi(t,r,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Mi(l,r,jn,!Oi);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=cf+300-Fe(),10<h)){if(Mi(l,r,jn,!Oi),Ja(l,0,!0)!==0)break e;l.timeoutHandle=Rv(Zy.bind(null,l,s,fn,fc,uf,r,jn,Ua,ks,Oi,f,2,-0,0),h);break e}Zy(l,s,fn,fc,uf,r,jn,Ua,ks,Oi,f,0,-0,0)}}break}while(!0);Er(t)}function Zy(t,r,s,l,h,f,_,T,D,G,X,te,W,K){if(t.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(El={stylesheets:null,count:0,unsuspend:WA},Gy(r),te=YA(),te!==null)){t.cancelPendingCommit=te(av.bind(null,t,r,f,s,l,h,_,T,D,X,1,W,K)),Mi(t,f,_,!G);return}av(t,r,f,s,l,h,_,T,D)}function hA(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Mi(t,r,s,l){r&=~lf,r&=~Ua,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var f=31-Zt(h),_=1<<f;l[f]=-1,h&=~_}s!==0&&ar(t,s,r)}function mc(){return(Ze&6)===0?(ml(0),!1):!0}function mf(){if(Me!==null){if(Je===0)var t=Me.return;else t=Me,Fr=Na=null,xd(t),Cs=null,il=0,t=Me;for(;t!==null;)Oy(t.alternate,t),t=t.return;Me=null}}function Vs(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,DA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),mf(),ot=t,Me=s=zr(t.current,null),qe=r,Je=0,An=null,Oi=!1,Ns=ca(t,r),of=!1,ks=jn=lf=Ua=Ni=vt=0,fn=dl=null,uf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Zt(l),f=1<<h;r|=t[h],l&=~f}return Zr=r,Vu(),s}function Jy(t,r){Ne=null,Q.H=tc,r===$o||r===Gu?(r=gg(),Je=3):r===fg?(r=gg(),Je=4):Je=r===yy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Me===null&&(vt=1,sc(t,Mn(r,t.current)))}function ev(){var t=Q.H;return Q.H=tc,t===null?tc:t}function tv(){var t=Q.A;return Q.A=uA,t}function pf(){vt=4,Oi||(qe&4194048)!==qe&&Bn.current!==null||(Ns=!0),(Ni&134217727)===0&&(Ua&134217727)===0||ot===null||Mi(ot,qe,jn,!1)}function gf(t,r,s){var l=Ze;Ze|=2;var h=ev(),f=tv();(ot!==t||qe!==r)&&(fc=null,Vs(t,r)),r=!1;var _=vt;e:do try{if(Je!==0&&Me!==null){var T=Me,D=An;switch(Je){case 8:mf(),_=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(r=!0);var G=Je;if(Je=0,An=null,Ls(t,T,D,G),s&&Ns){_=0;break e}break;default:G=Je,Je=0,An=null,Ls(t,T,D,G)}}dA(),_=vt;break}catch(X){Jy(t,X)}while(!0);return r&&t.shellSuspendCounter++,Fr=Na=null,Ze=l,Q.H=h,Q.A=f,Me===null&&(ot=null,qe=0,Vu()),_}function dA(){for(;Me!==null;)nv(Me)}function fA(t,r){var s=Ze;Ze|=2;var l=ev(),h=tv();ot!==t||qe!==r?(fc=null,dc=Fe()+500,Vs(t,r)):Ns=ca(t,r);e:do try{if(Je!==0&&Me!==null){r=Me;var f=An;t:switch(Je){case 1:Je=0,An=null,Ls(t,r,f,1);break;case 2:case 9:if(mg(f)){Je=0,An=null,rv(r);break}r=function(){Je!==2&&Je!==9||ot!==t||(Je=7),Er(t)},f.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:mg(f)?(Je=0,An=null,rv(r)):(Je=0,An=null,Ls(t,r,f,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var T=Me;if(!_||Uv(_)){Je=0,An=null;var D=T.sibling;if(D!==null)Me=D;else{var G=T.return;G!==null?(Me=G,pc(G)):Me=null}break t}}Je=0,An=null,Ls(t,r,f,5);break;case 6:Je=0,An=null,Ls(t,r,f,6);break;case 8:mf(),vt=6;break e;default:throw Error(a(462))}}mA();break}catch(X){Jy(t,X)}while(!0);return Fr=Na=null,Q.H=l,Q.A=h,Ze=s,Me!==null?0:(ot=null,qe=0,Vu(),vt)}function mA(){for(;Me!==null&&!Ht();)nv(Me)}function nv(t){var r=Dy(t.alternate,t,Zr);t.memoizedProps=t.pendingProps,r===null?pc(t):Me=r}function rv(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Ay(s,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Ay(s,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:xd(r);default:Oy(s,r),r=Me=ig(r,Zr),r=Dy(s,r,Zr)}t.memoizedProps=t.pendingProps,r===null?pc(t):Me=r}function Ls(t,r,s,l){Fr=Na=null,xd(r),Cs=null,il=0;var h=r.return;try{if(rA(t,h,r,s,qe)){vt=1,sc(t,Mn(s,t.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;vt=1,sc(t,Mn(s,t.current)),Me=null;return}r.flags&32768?(We||l===1?t=!0:Ns||(qe&536870912)!==0?t=!1:(Oi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),iv(r,t)):pc(r)}function pc(t){var r=t;do{if((r.flags&32768)!==0){iv(r,Oi);return}t=r.return;var s=aA(r.alternate,r,Zr);if(s!==null){Me=s;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=t}while(r!==null);vt===0&&(vt=5)}function iv(t,r){do{var s=sA(t.alternate,t);if(s!==null){s.flags&=32767,Me=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Me=t;return}Me=t=s}while(t!==null);vt=6,Me=null}function av(t,r,s,l,h,f,_,T,D){t.cancelPendingCommit=null;do gc();while(Kt!==0);if((Ze&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(f=r.lanes|r.childLanes,f|=ad,wo(t,s,f,_,T,D),t===ot&&(Me=ot=null,qe=0),Ps=r,Pi=t,Ms=s,hf=f,df=h,$y=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vA(fe,function(){return cv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=he.p,he.p=2,_=Ze,Ze|=4;try{oA(t,r,s)}finally{Ze=_,he.p=h,Q.T=l}}Kt=1,sv(),ov(),lv()}}function sv(){if(Kt===1){Kt=0;var t=Pi,r=Ps,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=he.p;he.p=2;var h=Ze;Ze|=4;try{qy(r,t);var f=Cf,_=Yp(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&Kp(T.ownerDocument.documentElement,T)){if(D!==null&&ed(T)){var G=D.start,X=D.end;if(X===void 0&&(X=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(X,T.value.length);else{var te=T.ownerDocument||document,W=te&&te.defaultView||window;if(W.getSelection){var K=W.getSelection(),Re=T.textContent.length,Ae=Math.min(D.start,Re),it=D.end===void 0?Ae:Math.min(D.end,Re);!K.extend&&Ae>it&&(_=it,it=Ae,Ae=_);var U=Wp(T,Ae),M=Wp(T,it);if(U&&M&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var H=te.createRange();H.setStart(U.node,U.offset),K.removeAllRanges(),Ae>it?(K.addRange(H),K.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),K.addRange(H))}}}}for(te=[],K=T;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var Z=te[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Cc=!!If,Cf=If=null}finally{Ze=h,he.p=l,Q.T=s}}t.current=r,Kt=2}}function ov(){if(Kt===2){Kt=0;var t=Pi,r=Ps,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=he.p;he.p=2;var h=Ze;Ze|=4;try{Uy(t,r.alternate,r)}finally{Ze=h,he.p=l,Q.T=s}}Kt=3}}function lv(){if(Kt===4||Kt===3){Kt=0,Rn();var t=Pi,r=Ps,s=Ms,l=$y;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,Ps=Pi=null,uv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ki=null),es(s),r=r.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(gt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,h=he.p,he.p=2,Q.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{Q.T=r,he.p=h}}(Ms&3)!==0&&gc(),Er(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===ff?fl++:(fl=0,ff=t):fl=0,ml(0)}}function uv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Ko(r)))}function gc(t){return sv(),ov(),lv(),cv()}function cv(){if(Kt!==5)return!1;var t=Pi,r=hf;hf=0;var s=es(Ms),l=Q.T,h=he.p;try{he.p=32>s?32:s,Q.T=null,s=df,df=null;var f=Pi,_=Ms;if(Kt=0,Ps=Pi=null,Ms=0,(Ze&6)!==0)throw Error(a(331));var T=Ze;if(Ze|=4,Ky(f.current),Fy(f,f.current,_,s),Ze=T,ml(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(gt,f)}catch{}return!0}finally{he.p=h,Q.T=l,uv(t,r)}}function hv(t,r,s){r=Mn(s,r),r=Fd(t.stateNode,r,2),t=wi(t,r,2),t!==null&&(xr(t,2),Er(t))}function st(t,r,s){if(t.tag===3)hv(t,t,s);else for(;r!==null;){if(r.tag===3){hv(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ki===null||!ki.has(l))){t=Mn(s,t),s=py(2),l=wi(r,s,2),l!==null&&(gy(s,l,r,t),xr(l,2),Er(l));break}}r=r.return}}function yf(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new cA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(of=!0,h.add(s),t=pA.bind(null,t,r,s),r.then(t,t))}function pA(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ot===t&&(qe&s)===s&&(vt===4||vt===3&&(qe&62914560)===qe&&300>Fe()-cf?(Ze&2)===0&&Vs(t,0):lf|=s,ks===qe&&(ks=0)),Er(t)}function dv(t,r){r===0&&(r=Ao()),t=vs(t,r),t!==null&&(xr(t,r),Er(t))}function gA(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),dv(t,s)}function yA(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),dv(t,s)}function vA(t,r){return et(t,r)}var yc=null,Us=null,vf=!1,vc=!1,_f=!1,Ba=0;function Er(t){t!==Us&&t.next===null&&(Us===null?yc=Us=t:Us=Us.next=t),vc=!0,vf||(vf=!0,EA())}function ml(t,r){if(!_f&&vc){_f=!0;do for(var s=!1,l=yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Zt(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,gv(l,f))}else f=qe,f=Ja(l,l===ot?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ca(l,f)||(s=!0,gv(l,f));l=l.next}while(s);_f=!1}}function _A(){fv()}function fv(){vc=vf=!1;var t=0;Ba!==0&&(CA()&&(t=Ba),Ba=0);for(var r=Fe(),s=null,l=yc;l!==null;){var h=l.next,f=mv(l,r);f===0?(l.next=null,s===null?yc=h:s.next=h,h===null&&(Us=s)):(s=l,(t!==0||(f&3)!==0)&&(vc=!0)),l=h}ml(t)}function mv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Zt(f),T=1<<_,D=h[_];D===-1?((T&s)===0||(T&l)!==0)&&(h[_]=To(T,r)):D<=r&&(t.expiredLanes|=T),f&=~T}if(r=ot,s=qe,s=Ja(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ca(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&Gn(l),es(s)){case 2:case 8:s=Cn;break;case 32:s=fe;break;case 268435456:s=Dn;break;default:s=fe}return l=pv.bind(null,t),s=et(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&Gn(l),t.callbackPriority=2,t.callbackNode=null,2}function pv(t,r){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(gc()&&t.callbackNode!==s)return null;var l=qe;return l=Ja(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Xy(t,l,r),mv(t,Fe()),t.callbackNode!=null&&t.callbackNode===s?pv.bind(null,t):null)}function gv(t,r){if(gc())return null;Xy(t,r,!0)}function EA(){xA(function(){(Ze&6)!==0?et(Wn,_A):fv()})}function Ef(){return Ba===0&&(Ba=So()),Ba}function yv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ss(""+t)}function vv(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function TA(t,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var f=yv((h[At]||null).action),_=l.submitter;_&&(r=(r=_[At]||null)?yv(r.formAction):_.getAttribute("formAction"),r!==null&&(f=r,_=null));var T=new os("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ba!==0){var D=_?vv(h,_):new FormData(h);Bd(s,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=_?vv(h,_):new FormData(h),Bd(s,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Tf=0;Tf<id.length;Tf++){var Sf=id[Tf],SA=Sf.toLowerCase(),AA=Sf[0].toUpperCase()+Sf.slice(1);Qn(SA,"on"+AA)}Qn(Xp,"onAnimationEnd"),Qn(Zp,"onAnimationIteration"),Qn(Jp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(jS,"onTransitionRun"),Qn(zS,"onTransitionStart"),Qn(qS,"onTransitionCancel"),Qn(eg,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function _v(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,G=T.currentTarget;if(T=T.listener,D!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=G;try{f(h)}catch(X){ac(X)}h.currentTarget=null,f=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,G=T.currentTarget,T=T.listener,D!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=G;try{f(h)}catch(X){ac(X)}h.currentTarget=null,f=D}}}}function Ve(t,r){var s=r[Ro];s===void 0&&(s=r[Ro]=new Set);var l=t+"__bubble";s.has(l)||(Ev(r,t,2,!1),s.add(l))}function Af(t,r,s){var l=0;r&&(l|=4),Ev(s,t,l,r)}var _c="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[_c]){t[_c]=!0,Io.forEach(function(s){s!=="selectionchange"&&(wA.has(s)||Af(s,!1,t),Af(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[_c]||(r[_c]=!0,Af("selectionchange",!1,r))}}function Ev(t,r,s,l){switch(Fv(r)){case 2:var h=XA;break;case 8:h=ZA;break;default:h=Uf}s=h.bind(null,r,s,t),h=void 0,!kn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function bf(t,r,s,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Or(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=f=_;continue e}T=T.parentNode}}l=l.return}Tu(function(){var G=f,X=Nn(s),te=[];e:{var W=tg.get(t);if(W!==void 0){var K=os,Re=t;switch(t){case"keypress":if(hr(s)===0)break e;case"keydown":case"keyup":K=fs;break;case"focusin":Re="focus",K=cs;break;case"focusout":Re="blur",K=cs;break;case"beforeblur":case"afterblur":K=cs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Du;break;case Xp:case Zp:case Jp:K=hs;break;case eg:K=Ou;break;case"scroll":case"scrollend":K=Su;break;case"wheel":K=ms;break;case"copy":case"cut":case"paste":K=ds;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Bo;break;case"toggle":case"beforetoggle":K=ku}var Ae=(r&4)!==0,it=!Ae&&(t==="scroll"||t==="scrollend"),U=Ae?W!==null?W+"Capture":null:W;Ae=[];for(var M=G,H;M!==null;){var Z=M;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||U===null||(Z=va(M,U),Z!=null&&Ae.push(gl(M,Z,H))),it)break;M=M.return}0<Ae.length&&(W=new K(W,Re,null,s,X),te.push({event:W,listeners:Ae}))}}if((r&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",W&&s!==Mr&&(Re=s.relatedTarget||s.fromElement)&&(Or(Re)||Re[xn]))break e;if((K||W)&&(W=X.window===X?X:(W=X.ownerDocument)?W.defaultView||W.parentWindow:window,K?(Re=s.relatedTarget||s.toElement,K=G,Re=Re?Or(Re):null,Re!==null&&(it=u(Re),Ae=Re.tag,Re!==it||Ae!==5&&Ae!==27&&Ae!==6)&&(Re=null)):(K=null,Re=G),K!==Re)){if(Ae=Pn,Z="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Bo,Z="onPointerLeave",U="onPointerEnter",M="pointer"),it=K==null?W:or(K),H=Re==null?W:or(Re),W=new Ae(Z,M+"leave",K,s,X),W.target=it,W.relatedTarget=H,Z=null,Or(X)===G&&(Ae=new Ae(U,M+"enter",Re,s,X),Ae.target=H,Ae.relatedTarget=it,Z=Ae),it=Z,K&&Re)t:{for(Ae=K,U=Re,M=0,H=Ae;H;H=Bs(H))M++;for(H=0,Z=U;Z;Z=Bs(Z))H++;for(;0<M-H;)Ae=Bs(Ae),M--;for(;0<H-M;)U=Bs(U),H--;for(;M--;){if(Ae===U||U!==null&&Ae===U.alternate)break t;Ae=Bs(Ae),U=Bs(U)}Ae=null}else Ae=null;K!==null&&Tv(te,W,K,Ae,!1),Re!==null&&it!==null&&Tv(te,it,Re,Ae,!0)}}e:{if(W=G?or(G):window,K=W.nodeName&&W.nodeName.toLowerCase(),K==="select"||K==="input"&&W.type==="file")var ge=jp;else if(Nt(W))if(zp)ge=LS;else{ge=MS;var Pe=PS}else K=W.nodeName,!K||K.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?G&&No(G.elementType)&&(ge=jp):ge=VS;if(ge&&(ge=ge(t,G))){jr(te,ge,s,X);break e}Pe&&Pe(t,W,G),t==="focusout"&&G&&W.type==="number"&&G.memoizedProps.value!=null&&_i(W,"number",W.value)}switch(Pe=G?or(G):window,t){case"focusin":(Nt(Pe)||Pe.contentEditable==="true")&&(ps=Pe,td=G,qo=null);break;case"focusout":qo=td=ps=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,$p(te,s,X);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":$p(te,s,X)}var ve;if(mr)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else je?$(t,s)&&(we="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(we="onCompositionStart");we&&(v&&s.locale!=="ko"&&(je||we!=="onCompositionStart"?we==="onCompositionEnd"&&je&&(ve=Po()):(cr=X,Ei="value"in cr?cr.value:cr.textContent,je=!0)),Pe=Ec(G,we),0<Pe.length&&(we=new Lo(we,t,null,s,X),te.push({event:we,listeners:Pe}),ve?we.data=ve:(ve=ue(s),ve!==null&&(we.data=ve)))),(ve=g?Ot(t,s):ze(t,s))&&(we=Ec(G,"onBeforeInput"),0<we.length&&(Pe=new Lo("onBeforeInput","beforeinput",null,s,X),te.push({event:Pe,listeners:we}),Pe.data=ve)),TA(te,t,G,s,X)}_v(te,r)})}function gl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Ec(t,r){for(var s=r+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=va(t,s),h!=null&&l.unshift(gl(t,h,f)),h=va(t,r),h!=null&&l.push(gl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Tv(t,r,s,l,h){for(var f=r._reactName,_=[];s!==null&&s!==l;){var T=s,D=T.alternate,G=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||G===null||(D=G,h?(G=va(s,f),G!=null&&_.unshift(gl(s,G,D))):h||(G=va(s,f),G!=null&&_.push(gl(s,G,D)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var bA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function Sv(t){return(typeof t=="string"?t:""+t).replace(bA,`
`).replace(RA,"")}function Av(t,r){return r=Sv(r),Sv(t)===r}function Tc(){}function rt(t,r,s,l,h,f){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||On(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&On(t,""+l);break;case"className":lr(t,"class",l);break;case"tabIndex":lr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(t,s,l);break;case"style":Oo(t,l,f);break;case"data":if(r!=="object"){lr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ss(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(r!=="input"&&rt(t,r,"name",h.name,h,null),rt(t,r,"formEncType",h.formEncType,h,null),rt(t,r,"formMethod",h.formMethod,h,null),rt(t,r,"formTarget",h.formTarget,h,null)):(rt(t,r,"encType",h.encType,h,null),rt(t,r,"method",h.method,h,null),rt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ss(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ss(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),vi(t,"popover",l);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Yh.get(s)||s,vi(t,s,l))}}function Rf(t,r,s,l,h,f){switch(s){case"style":Oo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?On(t,l):(typeof l=="number"||typeof l=="bigint")&&On(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ts.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),f=t[At]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):vi(t,s,l)}}}function Yt(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var _=s[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:rt(t,r,f,_,s,null)}}h&&rt(t,r,"srcSet",s.srcSet,s,null),l&&rt(t,r,"src",s.src,s,null);return;case"input":Ve("invalid",t);var T=f=_=h=null,D=null,G=null;for(l in s)if(s.hasOwnProperty(l)){var X=s[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":D=X;break;case"defaultChecked":G=X;break;case"value":f=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,r));break;default:rt(t,r,l,X,s,null)}}pa(t,f,T,D,G,_,h,!1),as(t);return;case"select":Ve("invalid",t),l=_=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:rt(t,r,h,T,s,null)}r=f,s=_,t.multiple=!!l,r!=null?Pr(t,!!l,r,!1):s!=null&&Pr(t,!!l,s,!0);return;case"textarea":Ve("invalid",t),f=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:rt(t,r,_,T,s,null)}ga(t,l,h,f),as(t);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,r,D,l,s,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<pl.length;l++)Ve(pl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in s)if(s.hasOwnProperty(G)&&(l=s[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:rt(t,r,G,l,s,null)}return;default:if(No(r)){for(X in s)s.hasOwnProperty(X)&&(l=s[X],l!==void 0&&Rf(t,r,X,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&rt(t,r,T,l,s,null))}function IA(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,D=null,G=null,X=null;for(K in s){var te=s[K];if(s.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty(K)||rt(t,r,K,null,l,te)}}for(var W in l){var K=l[W];if(te=s[W],l.hasOwnProperty(W)&&(K!=null||te!=null))switch(W){case"type":f=K;break;case"name":h=K;break;case"checked":G=K;break;case"defaultChecked":X=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,r));break;default:K!==te&&rt(t,r,W,K,l,te)}}vn(t,_,T,D,G,X,f,h);return;case"select":K=_=T=W=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(f)||rt(t,r,f,null,l,D)}for(h in l)if(f=l[h],D=s[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":W=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==D&&rt(t,r,h,f,l,D)}r=T,s=_,l=K,W!=null?Pr(t,!!s,W,!1):!!l!=!!s&&(r!=null?Pr(t,!!s,r,!0):Pr(t,!!s,s?[]:"",!1));return;case"textarea":K=W=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(t,r,T,null,l,h)}for(_ in l)if(h=l[_],f=s[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":W=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&rt(t,r,_,h,l,f)}tt(t,W,K);return;case"option":for(var Re in s)if(W=s[Re],s.hasOwnProperty(Re)&&W!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:rt(t,r,Re,null,l,W)}for(D in l)if(W=l[D],K=s[D],l.hasOwnProperty(D)&&W!==K&&(W!=null||K!=null))switch(D){case"selected":t.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:rt(t,r,D,W,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in s)W=s[Ae],s.hasOwnProperty(Ae)&&W!=null&&!l.hasOwnProperty(Ae)&&rt(t,r,Ae,null,l,W);for(G in l)if(W=l[G],K=s[G],l.hasOwnProperty(G)&&W!==K&&(W!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,r));break;default:rt(t,r,G,W,l,K)}return;default:if(No(r)){for(var it in s)W=s[it],s.hasOwnProperty(it)&&W!==void 0&&!l.hasOwnProperty(it)&&Rf(t,r,it,void 0,l,W);for(X in l)W=l[X],K=s[X],!l.hasOwnProperty(X)||W===K||W===void 0&&K===void 0||Rf(t,r,X,W,l,K);return}}for(var U in s)W=s[U],s.hasOwnProperty(U)&&W!=null&&!l.hasOwnProperty(U)&&rt(t,r,U,null,l,W);for(te in l)W=l[te],K=s[te],!l.hasOwnProperty(te)||W===K||W==null&&K==null||rt(t,r,te,W,l,K)}var If=null,Cf=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function wv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Df(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xf=null;function CA(){var t=window.event;return t&&t.type==="popstate"?t===xf?!1:(xf=t,!0):(xf=null,!1)}var Rv=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,xA=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(t){return Iv.resolve(null).then(t).catch(OA)}:Rv;function OA(t){setTimeout(function(){throw t})}function Vi(t){return t==="head"}function Cv(t,r){var s=r,l=0,h=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var _=t.ownerDocument;if(s&1&&yl(_.documentElement),s&2&&yl(_.body),s&4)for(s=_.head,yl(s),_=s.firstChild;_;){var T=_.nextSibling,D=_.nodeName;_[ha]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(h===0){t.removeChild(f),bl(r);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);bl(r)}function Of(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Of(s),yi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function NA(t,r,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ha])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function kA(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Zn(t.nextSibling),t===null))return null;return t}function Nf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function PA(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Zn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var kf=null;function Dv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function xv(t,r,s){switch(r=Sc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function yl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);yi(t)}var zn=new Map,Ov=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Jr=he.d;he.d={f:MA,r:VA,D:LA,C:UA,L:BA,m:jA,X:qA,S:zA,M:HA};function MA(){var t=Jr.f(),r=mc();return t||r}function VA(t){var r=sr(t);r!==null&&r.tag===5&&r.type==="form"?Xg(r):Jr.r(t)}var js=typeof document>"u"?null:document;function Nv(t,r,s){var l=js;if(l&&typeof r=="string"&&r){var h=wt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Ov.has(h)||(Ov.add(h),t={rel:t,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Yt(r,"link",t),_t(r),l.head.appendChild(r)))}}function LA(t){Jr.D(t),Nv("dns-prefetch",t,null)}function UA(t,r){Jr.C(t,r),Nv("preconnect",t,r)}function BA(t,r,s){Jr.L(t,r,s);var l=js;if(l&&t&&r){var h='link[rel="preload"][as="'+wt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+wt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+wt(s.imageSizes)+'"]')):h+='[href="'+wt(t)+'"]';var f=h;switch(r){case"style":f=zs(t);break;case"script":f=qs(t)}zn.has(f)||(t=E({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),zn.set(f,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(vl(f))||r==="script"&&l.querySelector(_l(f))||(r=l.createElement("link"),Yt(r,"link",t),_t(r),l.head.appendChild(r)))}}function jA(t,r){Jr.m(t,r);var s=js;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+wt(l)+'"][href="'+wt(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qs(t)}if(!zn.has(f)&&(t=E({rel:"modulepreload",href:t},r),zn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(_l(f)))return}l=s.createElement("link"),Yt(l,"link",t),_t(l),s.head.appendChild(l)}}}function zA(t,r,s){Jr.S(t,r,s);var l=js;if(l&&t){var h=sn(l).hoistableStyles,f=zs(t);r=r||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(vl(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},s),(s=zn.get(f))&&Pf(t,s);var D=_=l.createElement("link");_t(D),Yt(D,"link",t),D._p=new Promise(function(G,X){D.onload=G,D.onerror=X}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,wc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function qA(t,r){Jr.X(t,r);var s=js;if(s&&t){var l=sn(s).hoistableScripts,h=qs(t),f=l.get(h);f||(f=s.querySelector(_l(h)),f||(t=E({src:t,async:!0},r),(r=zn.get(h))&&Mf(t,r),f=s.createElement("script"),_t(f),Yt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function HA(t,r){Jr.M(t,r);var s=js;if(s&&t){var l=sn(s).hoistableScripts,h=qs(t),f=l.get(h);f||(f=s.querySelector(_l(h)),f||(t=E({src:t,async:!0,type:"module"},r),(r=zn.get(h))&&Mf(t,r),f=s.createElement("script"),_t(f),Yt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function kv(t,r,s,l){var h=(h=J.current)?Ac(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=zs(s.href),s=sn(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=zs(s.href);var f=sn(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(vl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),zn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(t,s),f||FA(h,t,s,_.state))),r&&l===null)throw Error(a(528,""));return _}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=qs(s),s=sn(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function zs(t){return'href="'+wt(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function Pv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function FA(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Yt(r,"link",s),_t(r),t.head.appendChild(r))}function qs(t){return'[src="'+wt(t)+'"]'}function _l(t){return"script[async]"+t}function Mv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+wt(s.href)+'"]');if(l)return r.instance=l,_t(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_t(l),Yt(l,"style",h),wc(l,s.precedence,t),r.instance=l;case"stylesheet":h=zs(s.href);var f=t.querySelector(vl(h));if(f)return r.state.loading|=4,r.instance=f,_t(f),f;l=Pv(s),(h=zn.get(h))&&Pf(l,h),f=(t.ownerDocument||t).createElement("link"),_t(f);var _=f;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Yt(f,"link",l),r.state.loading|=4,wc(f,s.precedence,t),r.instance=f;case"script":return f=qs(s.src),(h=t.querySelector(_l(f)))?(r.instance=h,_t(h),h):(l=s,(h=zn.get(f))&&(l=E({},s),Mf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),_t(h),Yt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,wc(l,s.precedence,t));return r.instance}function wc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Pf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Mf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var bc=null;function Vv(t,r,s){if(bc===null){var l=new Map,h=bc=new Map;h.set(s,l)}else h=bc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[ha]||f[xt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function Lv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function GA(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var El=null;function WA(){}function KA(t,r,s){if(El===null)throw Error(a(475));var l=El;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=zs(s.href),f=t.querySelector(vl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Rc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=f,_t(f);return}f=t.ownerDocument||t,s=Pv(s),(h=zn.get(h))&&Pf(s,h),f=f.createElement("link"),_t(f);var _=f;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Yt(f,"link",s),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Rc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function YA(){if(El===null)throw Error(a(475));var t=El;return t.stylesheets&&t.count===0&&Vf(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&Vf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)Vf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Vf(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,r.forEach($A,t),Ic=null,Rc.call(t))}function $A(t,r){if(!(r.state.loading&4)){var s=Ic.get(t);if(s)var l=s.get(null);else{s=new Map,Ic.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),f=s.get(_)||l,f===l&&s.set(null,h),s.set(_,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Tl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function QA(t,r,s,l,h,f,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Bv(t,r,s,l,h,f,_,T,D,G,X,te){return t=new QA(t,r,s,_,T,D,G,te),r=1,f===!0&&(r|=24),f=En(3,null,null,r),t.current=f,f.stateNode=t,r=gd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:r},Ed(f),t}function jv(t){return t?(t=_s,t):_s}function zv(t,r,s,l,h,f){h=jv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ai(r),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=wi(t,l,r),s!==null&&(bn(s,t,r),Xo(s,t,r))}function qv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Lf(t,r){qv(t,r),(t=t.alternate)&&qv(t,r)}function Hv(t){if(t.tag===13){var r=vs(t,67108864);r!==null&&bn(r,t,67108864),Lf(t,67108864)}}var Cc=!0;function XA(t,r,s,l){var h=Q.T;Q.T=null;var f=he.p;try{he.p=2,Uf(t,r,s,l)}finally{he.p=f,Q.T=h}}function ZA(t,r,s,l){var h=Q.T;Q.T=null;var f=he.p;try{he.p=8,Uf(t,r,s,l)}finally{he.p=f,Q.T=h}}function Uf(t,r,s,l){if(Cc){var h=Bf(l);if(h===null)bf(t,r,l,Dc,s),Gv(t,l);else if(ew(h,t,r,s,l))l.stopPropagation();else if(Gv(t,l),r&4&&-1<JA.indexOf(t)){for(;h!==null;){var f=sr(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Kn(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-Zt(_);T.entanglements[1]|=D,_&=~D}Er(f),(Ze&6)===0&&(dc=Fe()+500,ml(0))}}break;case 13:T=vs(f,2),T!==null&&bn(T,f,2),mc(),Lf(f,2)}if(f=Bf(l),f===null&&bf(t,r,l,Dc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else bf(t,r,l,null,s)}}function Bf(t){return t=Nn(t),jf(t)}var Dc=null;function jf(t){if(Dc=null,t=Or(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=d(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Dc=t,null}function Fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(In()){case Wn:return 2;case Cn:return 8;case fe:case gn:return 32;case Dn:return 268435456;default:return 32}default:return 32}}var zf=!1,Li=null,Ui=null,Bi=null,Sl=new Map,Al=new Map,ji=[],JA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gv(t,r){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":Sl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(r.pointerId)}}function wl(t,r,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=sr(r),r!==null&&Hv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function ew(t,r,s,l,h){switch(r){case"focusin":return Li=wl(Li,t,r,s,l,h),!0;case"dragenter":return Ui=wl(Ui,t,r,s,l,h),!0;case"mouseover":return Bi=wl(Bi,t,r,s,l,h),!0;case"pointerover":var f=h.pointerId;return Sl.set(f,wl(Sl.get(f)||null,t,r,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,wl(Al.get(f)||null,t,r,s,l,h)),!0}return!1}function Wv(t){var r=Or(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=d(s),r!==null){t.blockedOn=r,mu(t.priority,function(){if(s.tag===13){var l=wn();l=mi(l);var h=vs(s,l);h!==null&&bn(h,s,l),Lf(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Bf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Mr=l,s.target.dispatchEvent(l),Mr=null}else return r=sr(s),r!==null&&Hv(r),t.blockedOn=s,!1;r.shift()}return!0}function Kv(t,r,s){xc(t)&&s.delete(r)}function tw(){zf=!1,Li!==null&&xc(Li)&&(Li=null),Ui!==null&&xc(Ui)&&(Ui=null),Bi!==null&&xc(Bi)&&(Bi=null),Sl.forEach(Kv),Al.forEach(Kv)}function Oc(t,r){t.blockedOn===r&&(t.blockedOn=null,zf||(zf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tw)))}var Nc=null;function Yv(t){Nc!==t&&(Nc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(jf(l||s)===null)continue;break}var f=sr(s);f!==null&&(t.splice(r,3),r-=3,Bd(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function bl(t){function r(D){return Oc(D,t)}Li!==null&&Oc(Li,t),Ui!==null&&Oc(Ui,t),Bi!==null&&Oc(Bi,t),Sl.forEach(r),Al.forEach(r);for(var s=0;s<ji.length;s++){var l=ji[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ji.length&&(s=ji[0],s.blockedOn===null);)Wv(s),s.blockedOn===null&&ji.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],_=h[At]||null;if(typeof f=="function")_||Yv(s);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[At]||null)T=_.formAction;else if(jf(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Yv(s)}}}function qf(t){this._internalRoot=t}kc.prototype.render=qf.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=wn();zv(s,l,t,r,null,null)},kc.prototype.unmount=qf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;zv(t.current,2,null,t,null,null),mc(),r[xn]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var r=pi();t={blockedOn:null,target:t,priority:r};for(var s=0;s<ji.length&&r!==0&&r<ji[s].priority;s++);ji.splice(s,0,t),s===0&&Wv(t)}};var $v=e.version;if($v!=="19.1.0")throw Error(a(527,$v,"19.1.0"));he.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var nw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{gt=Pc.inject(nw),Xe=Pc}catch{}}return Il.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",h=hy,f=dy,_=fy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Bv(t,1,!1,null,null,s,l,h,f,_,T,null),t[xn]=r.current,wf(t),new qf(r)},Il.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=hy,_=dy,T=fy,D=null,G=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(G=s.formState)),r=Bv(t,1,!0,r,s??null,l,h,f,_,T,D,G),r.context=jv(null),s=r.current,l=wn(),l=mi(l),h=Ai(l),h.callback=null,wi(s,h,l),s=l,r.current.lanes=s,xr(r,s),Er(r),t[xn]=r.current,wf(t),new kc(r)},Il.version="19.1.0",Il}var a_;function mw(){if(a_)return Gf.exports;a_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gf.exports=fw(),Gf.exports}var pw=mw(),Cl={},s_;function gw(){if(s_)return Cl;s_=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.parse=d,Cl.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function d(A,L){const N=new u,B=A.length;if(B<2)return N;const P=(L==null?void 0:L.decode)||E;let F=0;do{const Y=A.indexOf("=",F);if(Y===-1)break;const ae=A.indexOf(";",F),oe=ae===-1?B:ae;if(Y>oe){F=A.lastIndexOf(";",Y-1)+1;continue}const ce=m(A,F,Y),_e=p(A,Y,ce),C=A.slice(ce,_e);if(N[C]===void 0){let b=m(A,Y+1,oe),I=p(A,oe,b);const O=P(A.slice(b,I));N[C]=O}F=oe+1}while(F<B);return N}function m(A,L,N){do{const B=A.charCodeAt(L);if(B!==32&&B!==9)return L}while(++L<N);return N}function p(A,L,N){for(;L>N;){const B=A.charCodeAt(--L);if(B!==32&&B!==9)return L+1}return N}function y(A,L,N){const B=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const P=B(L);if(!e.test(P))throw new TypeError(`argument val is invalid: ${L}`);let F=A+"="+P;if(!N)return F;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);F+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);F+="; Domain="+N.domain}if(N.path){if(!a.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);F+="; Path="+N.path}if(N.expires){if(!w(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);F+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(F+="; HttpOnly"),N.secure&&(F+="; Secure"),N.partitioned&&(F+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return F}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return Cl}gw();var o_="popstate";function yw(i={}){function e(a,o){let{pathname:u,search:d,hash:m}=a.location;return lm("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:ql(o)}return _w(e,n,null,i)}function ft(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Fn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vw(){return Math.random().toString(36).substring(2,10)}function l_(i,e){return{usr:i.state,key:i.key,idx:e}}function lm(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?lo(e):e,state:n,key:e&&e.key||a||vw()}}function ql({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function lo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function _w(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,m="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function w(){m="POP";let P=E(),F=P==null?null:P-y;y=P,p&&p({action:m,location:B.location,delta:F})}function A(P,F){m="PUSH";let Y=lm(B.location,P,F);y=E()+1;let ae=l_(Y,y),oe=B.createHref(Y);try{d.pushState(ae,"",oe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(oe)}u&&p&&p({action:m,location:B.location,delta:1})}function L(P,F){m="REPLACE";let Y=lm(B.location,P,F);y=E();let ae=l_(Y,y),oe=B.createHref(Y);d.replaceState(ae,"",oe),u&&p&&p({action:m,location:B.location,delta:0})}function N(P){return Ew(P)}let B={get action(){return m},get location(){return i(o,d)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(o_,w),p=P,()=>{o.removeEventListener(o_,w),p=null}},createHref(P){return e(o,P)},createURL:N,encodeLocation(P){let F=N(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:A,replace:L,go(P){return d.go(P)}};return B}function Ew(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:ql(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function qE(i,e,n="/"){return Tw(i,e,n,!1)}function Tw(i,e,n,a){let o=typeof e=="string"?lo(e):e,u=si(o.pathname||"/",n);if(u==null)return null;let d=HE(i);Sw(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let y=kw(u);m=Ow(d[p],y,a)}return m}function HE(i,e=[],n=[],a=""){let o=(u,d,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(ft(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=ni([a,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),HE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Dw(y,u.index),routesMeta:E})};return i.forEach((u,d)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,d);else for(let p of FE(u.path))o(u,d,p)}),e}function FE(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=FE(a.join("/")),m=[];return m.push(...d.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...d),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Sw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:xw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Aw=/^:[\w-]+$/,ww=3,bw=2,Rw=1,Iw=10,Cw=-2,u_=i=>i==="*";function Dw(i,e){let n=i.split("/"),a=n.length;return n.some(u_)&&(a+=Cw),e&&(a+=bw),n.filter(o=>!u_(o)).reduce((o,u)=>o+(Aw.test(u)?ww:u===""?Rw:Iw),a)}function xw(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function Ow(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",d=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=th({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),A=p.route;if(!w&&y&&n&&!a[a.length-1].route.index&&(w=th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),d.push({params:o,pathname:ni([u,w.pathname]),pathnameBase:Lw(ni([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=ni([u,w.pathnameBase]))}return d}function th(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=Nw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:w},A)=>{if(E==="*"){let N=m[A]||"";d=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const L=m[A];return w&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:i}}function Nw(i,e=!1,n=!0){Fn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function kw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function si(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function Pw(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?lo(i):i;return{pathname:n?n.startsWith("/")?n:Mw(n,e):e,search:Uw(a),hash:Bw(o)}}function Mw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $f(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Um(i){let e=Vw(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Bm(i,e,n,a=!1){let o;typeof i=="string"?o=lo(i):(o={...i},ft(!o.pathname||!o.pathname.includes("?"),$f("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),$f("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),$f("#","search","hash",o)));let u=i===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=n;else{let w=e.length-1;if(!a&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=Pw(o,m),y=d&&d!=="/"&&d.endsWith("/"),E=(u||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var ni=i=>i.join("/").replace(/\/\/+/g,"/"),Lw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Uw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Bw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function jw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var GE=["POST","PUT","PATCH","DELETE"];new Set(GE);var zw=["GET",...GE];new Set(zw);var uo=z.createContext(null);uo.displayName="DataRouter";var Ah=z.createContext(null);Ah.displayName="DataRouterState";var WE=z.createContext({isTransitioning:!1});WE.displayName="ViewTransition";var qw=z.createContext(new Map);qw.displayName="Fetchers";var Hw=z.createContext(null);Hw.displayName="Await";var rr=z.createContext(null);rr.displayName="Navigation";var Zl=z.createContext(null);Zl.displayName="Location";var ir=z.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var jm=z.createContext(null);jm.displayName="RouteError";function Fw(i,{relative:e}={}){ft(co(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=z.useContext(rr),{hash:o,pathname:u,search:d}=Jl(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ni([n,u])),a.createHref({pathname:m,search:d,hash:o})}function co(){return z.useContext(Zl)!=null}function hi(){return ft(co(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Zl).location}var KE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YE(i){z.useContext(rr).static||z.useLayoutEffect(i)}function di(){let{isDataRoute:i}=z.useContext(ir);return i?i1():Gw()}function Gw(){ft(co(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(uo),{basename:e,navigator:n}=z.useContext(rr),{matches:a}=z.useContext(ir),{pathname:o}=hi(),u=JSON.stringify(Um(a)),d=z.useRef(!1);return YE(()=>{d.current=!0}),z.useCallback((p,y={})=>{if(Fn(d.current,KE),!d.current)return;if(typeof p=="number"){n.go(p);return}let E=Bm(p,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ni([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,i])}z.createContext(null);function Ww(){let{matches:i}=z.useContext(ir),e=i[i.length-1];return e?e.params:{}}function Jl(i,{relative:e}={}){let{matches:n}=z.useContext(ir),{pathname:a}=hi(),o=JSON.stringify(Um(n));return z.useMemo(()=>Bm(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function Kw(i,e){return $E(i,e)}function $E(i,e,n,a){var F;ft(co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(rr),{matches:u}=z.useContext(ir),d=u[u.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",E=d&&d.route;{let Y=E&&E.path||"";QE(p,!E||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let w=hi(),A;if(e){let Y=typeof e=="string"?lo(e):e;ft(y==="/"||((F=Y.pathname)==null?void 0:F.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),A=Y}else A=w;let L=A.pathname||"/",N=L;if(y!=="/"){let Y=y.replace(/^\//,"").split("/");N="/"+L.replace(/^\//,"").split("/").slice(Y.length).join("/")}let B=qE(i,{pathname:N});Fn(E||B!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Fn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=Zw(B&&B.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:ni([y,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?y:ni([y,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,a);return e&&P?z.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},P):P}function Yw(){let i=r1(),e=jw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,d)}var $w=z.createElement(Yw,null),Qw=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?z.createElement(ir.Provider,{value:this.props.routeContext},z.createElement(jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Xw({routeContext:i,match:e,children:n}){let a=z.useContext(uo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ir.Provider,{value:i},n)}function Zw(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:w}=n,A=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||A){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let w,A=!1,L=null,N=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,L=y.route.errorElement||$w,d&&(m<0&&E===0?(QE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,N=null):m===E&&(A=!0,N=y.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,E+1)),P=()=>{let F;return w?F=L:A?F=N:y.route.Component?F=z.createElement(y.route.Component,null):y.route.element?F=y.route.element:F=p,z.createElement(Xw,{match:y,routeContext:{outlet:p,matches:B,isDataRoute:n!=null},children:F})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?z.createElement(Qw,{location:n.location,revalidation:n.revalidation,component:L,error:w,children:P(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):P()},null)}function zm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jw(i){let e=z.useContext(uo);return ft(e,zm(i)),e}function e1(i){let e=z.useContext(Ah);return ft(e,zm(i)),e}function t1(i){let e=z.useContext(ir);return ft(e,zm(i)),e}function qm(i){let e=t1(i),n=e.matches[e.matches.length-1];return ft(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function n1(){return qm("useRouteId")}function r1(){var a;let i=z.useContext(jm),e=e1("useRouteError"),n=qm("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[n]}function i1(){let{router:i}=Jw("useNavigate"),e=qm("useNavigate"),n=z.useRef(!1);return YE(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Fn(n.current,KE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var c_={};function QE(i,e,n){!e&&!c_[i]&&(c_[i]=!0,Fn(!1,n))}z.memo(a1);function a1({routes:i,future:e,state:n}){return $E(i,void 0,n,e)}function qc({to:i,replace:e,state:n,relative:a}){ft(co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(rr);Fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(ir),{pathname:d}=hi(),m=di(),p=Bm(i,Um(u),d,a==="path"),y=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:a})},[m,y,a,e,n]),null}function Hi(i){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s1({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){ft(!co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=lo(n));let{pathname:p="/",search:y="",hash:E="",state:w=null,key:A="default"}=n,L=z.useMemo(()=>{let N=si(p,d);return N==null?null:{location:{pathname:N,search:y,hash:E,state:w,key:A},navigationType:a}},[d,p,y,E,w,A,a]);return Fn(L!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:z.createElement(rr.Provider,{value:m},z.createElement(Zl.Provider,{children:e,value:L}))}function o1({children:i,location:e}){return Kw(um(i),e)}function um(i,e=[]){let n=[];return z.Children.forEach(i,(a,o)=>{if(!z.isValidElement(a))return;let u=[...e,o];if(a.type===z.Fragment){n.push.apply(n,um(a.props.children,u));return}ft(a.type===Hi,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=um(a.props.children,u)),n.push(d)}),n}var Hc="get",Fc="application/x-www-form-urlencoded";function wh(i){return i!=null&&typeof i.tagName=="string"}function l1(i){return wh(i)&&i.tagName.toLowerCase()==="button"}function u1(i){return wh(i)&&i.tagName.toLowerCase()==="form"}function c1(i){return wh(i)&&i.tagName.toLowerCase()==="input"}function h1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function d1(i,e){return i.button===0&&(!e||e==="_self")&&!h1(i)}function cm(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let a=i[n];return e.concat(Array.isArray(a)?a.map(o=>[n,o]):[[n,a]])},[]))}function f1(i,e){let n=cm(i);return e&&e.forEach((a,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Mc=null;function m1(){if(Mc===null)try{new FormData(document.createElement("form"),0),Mc=!1}catch{Mc=!0}return Mc}var p1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qf(i){return i!=null&&!p1.has(i)?(Fn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fc}"`),null):i}function g1(i,e){let n,a,o,u,d;if(u1(i)){let m=i.getAttribute("action");a=m?si(m,e):null,n=i.getAttribute("method")||Hc,o=Qf(i.getAttribute("enctype"))||Fc,u=new FormData(i)}else if(l1(i)||c1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(a=p?si(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Hc,o=Qf(i.getAttribute("formenctype"))||Qf(m.getAttribute("enctype"))||Fc,u=new FormData(m,i),!m1()){let{name:y,type:E,value:w}=i;if(E==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,w)}}else{if(wh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hc,a=null,o=Fc,d=i}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:d}}function Hm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function y1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function _1(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await y1(u,n);return d.links?d.links():[]}return[]}));return A1(a.flat(1).filter(v1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function h_(i,e,n,a,o,u){let d=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>d(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var w;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function E1(i,e,{includeHydrateFallback:n}={}){return T1(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function T1(i){return[...new Set(i)]}function S1(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function A1(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(S1(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var w1=new Set([100,101,204,205]);function b1(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&si(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function XE(){let i=z.useContext(uo);return Hm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function R1(){let i=z.useContext(Ah);return Hm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Fm=z.createContext(void 0);Fm.displayName="FrameworkContext";function ZE(){let i=z.useContext(Fm);return Hm(i,"You must render this element inside a <HydratedRouter> element"),i}function I1(i,e){let n=z.useContext(Fm),[a,o]=z.useState(!1),[u,d]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:w}=e,A=z.useRef(null);z.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let B=F=>{F.forEach(Y=>{d(Y.isIntersecting)})},P=new IntersectionObserver(B,{threshold:.5});return A.current&&P.observe(A.current),()=>{P.disconnect()}}},[i]),z.useEffect(()=>{if(a){let B=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(B)}}},[a]);let L=()=>{o(!0)},N=()=>{o(!1),d(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Dl(m,L),onBlur:Dl(p,N),onMouseEnter:Dl(y,L),onMouseLeave:Dl(E,N),onTouchStart:Dl(w,L)}]:[!1,A,{}]}function Dl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function C1({page:i,...e}){let{router:n}=XE(),a=z.useMemo(()=>qE(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?z.createElement(x1,{page:i,matches:a,...e}):null}function D1(i){let{manifest:e,routeModules:n}=ZE(),[a,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return _1(i,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[i,e,n]),a}function x1({page:i,matches:e,...n}){let a=hi(),{manifest:o,routeModules:u}=ZE(),{basename:d}=XE(),{loaderData:m,matches:p}=R1(),y=z.useMemo(()=>h_(i,e,p,o,a,"data"),[i,e,p,o,a]),E=z.useMemo(()=>h_(i,e,p,o,a,"assets"),[i,e,p,o,a]),w=z.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let N=new Set,B=!1;if(e.forEach(F=>{var ae;let Y=o.routes[F.route.id];!Y||!Y.hasLoader||(!y.some(oe=>oe.route.id===F.route.id)&&F.route.id in m&&((ae=u[F.route.id])!=null&&ae.shouldRevalidate)||Y.hasClientLoader?B=!0:N.add(F.route.id))}),N.size===0)return[];let P=b1(i,d);return B&&N.size>0&&P.searchParams.set("_routes",e.filter(F=>N.has(F.route.id)).map(F=>F.route.id).join(",")),[P.pathname+P.search]},[d,m,a,o,y,e,i,u]),A=z.useMemo(()=>E1(E,o),[E,o]),L=D1(E);return z.createElement(z.Fragment,null,w.map(N=>z.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),A.map(N=>z.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),L.map(({key:N,link:B})=>z.createElement("link",{key:N,...B})))}function O1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var JE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JE&&(window.__reactRouterVersion="7.6.2")}catch{}function N1({basename:i,children:e,window:n}){let a=z.useRef();a.current==null&&(a.current=yw({window:n,v5Compat:!0}));let o=a.current,[u,d]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>d(p))},[d]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(s1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var e0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t0=z.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:m,target:p,to:y,preventScrollReset:E,viewTransition:w,...A},L){let{basename:N}=z.useContext(rr),B=typeof y=="string"&&e0.test(y),P,F=!1;if(typeof y=="string"&&B&&(P=y,JE))try{let I=new URL(window.location.href),O=y.startsWith("//")?new URL(I.protocol+y):new URL(y),V=si(O.pathname,N);O.origin===I.origin&&V!=null?y=V+O.search+O.hash:F=!0}catch{Fn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=Fw(y,{relative:o}),[ae,oe,ce]=I1(a,A),_e=V1(y,{replace:d,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function C(I){e&&e(I),I.defaultPrevented||_e(I)}let b=z.createElement("a",{...A,...ce,href:P||Y,onClick:F||u?e:C,ref:O1(L,oe),target:p,"data-discover":!B&&n==="render"?"true":void 0});return ae&&!B?z.createElement(z.Fragment,null,b,z.createElement(C1,{page:Y})):b});t0.displayName="Link";var k1=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:m,children:p,...y},E){let w=Jl(d,{relative:y.relative}),A=hi(),L=z.useContext(Ah),{navigator:N,basename:B}=z.useContext(rr),P=L!=null&&q1(w)&&m===!0,F=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,Y=A.pathname,ae=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),ae=ae?ae.toLowerCase():null,F=F.toLowerCase()),ae&&B&&(ae=si(ae,B)||ae);const oe=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ce=Y===F||!o&&Y.startsWith(F)&&Y.charAt(oe)==="/",_e=ae!=null&&(ae===F||!o&&ae.startsWith(F)&&ae.charAt(F.length)==="/"),C={isActive:ce,isPending:_e,isTransitioning:P},b=ce?e:void 0,I;typeof a=="function"?I=a(C):I=[a,ce?"active":null,_e?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(C):u;return z.createElement(t0,{...y,"aria-current":b,className:I,ref:E,style:O,to:d,viewTransition:m},typeof p=="function"?p(C):p)});k1.displayName="NavLink";var P1=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:d=Hc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:w,...A},L)=>{let N=j1(),B=z1(m,{relative:y}),P=d.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&e0.test(m),Y=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let oe=ae.nativeEvent.submitter,ce=(oe==null?void 0:oe.getAttribute("formmethod"))||d;N(oe||ae.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:w})};return z.createElement("form",{ref:L,method:P,action:B,onSubmit:a?p:Y,...A,"data-discover":!F&&i==="render"?"true":void 0})});P1.displayName="Form";function M1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n0(i){let e=z.useContext(uo);return ft(e,M1(i)),e}function V1(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:d}={}){let m=di(),p=hi(),y=Jl(i,{relative:u});return z.useCallback(E=>{if(d1(E,e)){E.preventDefault();let w=n!==void 0?n:ql(p)===ql(y);m(i,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:d})}},[p,m,y,n,a,e,i,o,u,d])}function L1(i){Fn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=z.useRef(cm(i)),n=z.useRef(!1),a=hi(),o=z.useMemo(()=>f1(a.search,n.current?null:e.current),[a.search]),u=di(),d=z.useCallback((m,p)=>{const y=cm(typeof m=="function"?m(o):m);n.current=!0,u("?"+y,p)},[u,o]);return[o,d]}var U1=0,B1=()=>`__${String(++U1)}__`;function j1(){let{router:i}=n0("useSubmit"),{basename:e}=z.useContext(rr),n=n1();return z.useCallback(async(a,o={})=>{let{action:u,method:d,encType:m,formData:p,body:y}=g1(a,e);if(o.navigate===!1){let E=o.fetcherKey||B1();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function z1(i,{relative:e}={}){let{basename:n}=z.useContext(rr),a=z.useContext(ir);ft(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Jl(i||".",{relative:e})},d=hi();if(i==null){u.search=d.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ni([n,u.pathname])),ql(u)}function q1(i,e={}){let n=z.useContext(WE);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=n0("useViewTransitionState"),o=Jl(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=si(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=si(n.nextLocation.pathname,a)||n.nextLocation.pathname;return th(o.pathname,d)!=null||th(o.pathname,u)!=null}[...w1];function Ye(i){return R.jsxs(R.Fragment,{children:[R.jsx("style",{children:`
            .okBtn{
                position: relative;
                display: flex;
                align-items: center;
                justify-content: center;
                height: 100%;
                min-height: 2.5em;
                background-color: #171717;
                color: #e4e4e4;
                font-size: 1em;
                user-select: none;
                cursor: pointer;
                outline: none;
            }
            .okBtn:active {
                background-color: #686868;
            }
            .key-press-active {
                background-color: #686868;
            }
            .okBtn:is(:hover, :focus) span{
                animation: hoverText 1s ease-in-out infinite;
            }
            @keyframes hoverText {
                0% {
                    opacity: 1;
                }
                50% {
                    opacity: 0;
                }
                100% {
                    opacity: 1;
                }
            }

            .okBtn:is(:hover, :focus) .cornerBtn11,
            .okBtn:is(:hover, :focus) .cornerBtn12,
            .okBtn:is(:hover, :focus) .cornerBtn13,
            .okBtn:is(:hover, :focus) .cornerBtn14 {
                opacity: 1;
            }
            .okBtn:active .cornerBtn11 {
                transform: translateX(2px) translateY(2px);
                transition: all 0.05s ease-in-out;
            }
            .okBtn:active .cornerBtn12 {
                transform: translateX(-2px) translateY(2px);
                transition: all 0.05s ease-in-out;
            }
            .okBtn:active .cornerBtn13 {
                transform: translateX(2px) translateY(-2px);
                transition: all 0.05s ease-in-out;
            }
            .okBtn:active .cornerBtn14 {
                transform: translateX(-2px) translateY(-2px);
                transition: all 0.05s ease-in-out;
            }
            .key-press-active .cornerBtn11 {
                transform: translateX(2px) translateY(2px);
                transition: all 0.05s ease-in-out;
            }
            .key-press-active .cornerBtn12 {
                transform: translateX(-2px) translateY(2px);
                transition: all 0.05s ease-in-out;
            }
            .key-press-active .cornerBtn13 {
                transform: translateX(2px) translateY(-2px);
                transition: all 0.05s ease-in-out;
            }
            .key-press-active .cornerBtn14 {
                transform: translateX(-2px) translateY(-2px);
                transition: all 0.05s ease-in-out;
            }

            .cornerBtn11,
            .cornerBtn12,
            .cornerBtn13,
            .cornerBtn14 {
                position: absolute;
                width: 0.75em;
                height: 0.75em;
                background-color: transparent;
                margin: -0.45em;
                opacity: 0;
            }
            .cornerBtn11{
                top: 0;
                left: 0;
                border-top: 2px solid var(--color4);
                border-left: 2px solid var(--color4);
            }
            .cornerBtn12 {
                top: 0;
                right: 0;
                border-top: 2px solid var(--color4);
                border-right: 2px solid var(--color4);
            }
            .cornerBtn13 {
                bottom: 0;
                left: 0;
                border-bottom: 2px solid var(--color4);
                border-left: 2px solid var(--color4);
            }
            .cornerBtn14 {
                bottom: 0;
                right: 0;
                border-bottom: 2px solid var(--color4);
                border-right: 2px solid var(--color4);
            }
        `}),R.jsxs("div",{tabIndex:0,className:"okBtn",id:i.btnID,onClick:i.clickData,style:{width:i.width,height:i.height,display:i.displayMode},children:[R.jsx("span",{children:i.btnName}),R.jsx("div",{className:"cornerBtn11"}),R.jsx("div",{className:"cornerBtn12"}),R.jsx("div",{className:"cornerBtn13"}),R.jsx("div",{className:"cornerBtn14"})]})]})}function eu(i){const[e,n]=z.useState("light");z.useEffect(()=>{const o=localStorage.getItem("theme")||"light";n(o),document.documentElement.setAttribute("data-theme",o)},[]);const a=()=>{const o=e==="light"?"dark":"light";n(o),document.documentElement.setAttribute("data-theme",o),localStorage.setItem("theme",o)};return R.jsxs(R.Fragment,{children:[R.jsx("style",{children:`
                .theme-toggle-btn {
                    position: relative;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    cursor: pointer;
                    width: 6em;
                    background-color: #171717;
                    color: #e4e4e4;
                    height: 2.5em;
                    border: none;
                    border-radius: 5px;
                    font-weight: bold;
                    transition: background-color 0.3s ease, color 0.3s ease;
                }

                .theme-toggle-btn:hover {
                    background-color: #2c2c2c;
                }
            `}),R.jsx(Ye,{className:"theme-toggle-btn",displayMode:i.displayMode,btnID:"themeBtn",clickData:a,width:i.btnWidth,btnName:e==="dark"?"Dark":"Light"})]})}const H1=()=>{};var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},F1=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],d=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],d=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},i0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,m=d?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|y>>6,L=y&63;p||(L=64,d||(A=64)),a.push(n[E],n[w],n[A],n[L])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(r0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):F1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new G1;const A=u<<2|m>>4;if(a.push(A),y!==64){const L=m<<4&240|y>>2;if(a.push(L),w!==64){const N=y<<6&192|w;a.push(N)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class G1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W1=function(i){const e=r0(i);return i0.encodeByteArray(e,!0)},nh=function(i){return W1(i).replace(/\./g,"")},a0=function(i){try{return i0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=()=>K1().__FIREBASE_DEFAULTS__,$1=()=>{if(typeof process>"u"||typeof d_>"u")return;const i=d_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Q1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&a0(i[1]);return e&&JSON.parse(e)},bh=()=>{try{return H1()||Y1()||$1()||Q1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},s0=i=>{var e,n;return(n=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},X1=i=>{const e=s0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},o0=()=>{var i;return(i=bh())===null||i===void 0?void 0:i.config},l0=i=>{var e;return(e=bh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(i){return i.endsWith(".cloudworkstations.dev")}async function u0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[nh(JSON.stringify(n)),nh(JSON.stringify(d)),""].join(".")}const Vl={};function eb(){const i={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?i.emulator.push(e):i.prod.push(e);return i}function tb(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let f_=!1;function c0(i,e){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||Vl[i]===e||Vl[i]||f_)return;Vl[i]=e;function n(A){return`__firebase__banner__${A}`}const a="__firebase__banner",u=eb().prod.length>0;function d(){const A=document.getElementById(a);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,L){A.setAttribute("width","24"),A.setAttribute("id",L),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{f_=!0,d()},A}function E(A,L){A.setAttribute("id",L),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=tb(a),L=n("text"),N=document.getElementById(L)||document.createElement("span"),B=n("learnmore"),P=document.getElementById(B)||document.createElement("a"),F=n("preprendIcon"),Y=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ae=A.element;m(ae),E(P,B);const oe=y();p(Y,F),ae.append(Y,N,P,oe),document.body.appendChild(ae)}u?(N.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function rb(){var i;const e=(i=bh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ib(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ab(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function sb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ob(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function lb(){return!rb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ub(){try{return typeof indexedDB=="object"}catch{return!1}}function cb(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="FirebaseError";class fi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=hb,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?db(u,a):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new fi(o,m,a)}}function db(i,e){return i.replace(fb,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const fb=/\{\$([^}]+)}/g;function mb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function qa(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],d=e[o];if(m_(u)&&m_(d)){if(!qa(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function m_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function xl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ol(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function pb(i,e){const n=new gb(i,e);return n.subscribe.bind(n)}class gb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");yb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Xf),o.error===void 0&&(o.error=Xf),o.complete===void 0&&(o.complete=Xf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yb(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Xf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(i){return i&&i._delegate?i._delegate:i}class Ha{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Z1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Eb(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&d.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:_b(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _b(i){return i===ja?void 0:i}function Eb(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const Sb={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Ab=Le.INFO,wb={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},bb=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=wb[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=Ab,this._logHandler=bb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Rb=(i,e)=>e.some(n=>i instanceof n);let p_,g_;function Ib(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cb(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h0=new WeakMap,hm=new WeakMap,d0=new WeakMap,Zf=new WeakMap,Wm=new WeakMap;function Db(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n($i(i.result)),o()},d=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&h0.set(n,i)}).catch(()=>{}),Wm.set(e,i),e}function xb(i){if(hm.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});hm.set(i,e)}let dm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return hm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||d0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Ob(i){dm=i(dm)}function Nb(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(Jf(this),e,...n);return d0.set(a,e.sort?e.sort():[e]),$i(a)}:Cb().includes(i)?function(...e){return i.apply(Jf(this),e),$i(h0.get(this))}:function(...e){return $i(i.apply(Jf(this),e))}}function kb(i){return typeof i=="function"?Nb(i):(i instanceof IDBTransaction&&xb(i),Rb(i,Ib())?new Proxy(i,dm):i)}function $i(i){if(i instanceof IDBRequest)return Db(i);if(Zf.has(i))return Zf.get(i);const e=kb(i);return e!==i&&(Zf.set(i,e),Wm.set(e,i)),e}const Jf=i=>Wm.get(i);function Pb(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),m=$i(d);return a&&d.addEventListener("upgradeneeded",p=>{a($i(d.result),p.oldVersion,p.newVersion,$i(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Mb=["get","getKey","getAll","getAllKeys","count"],Vb=["put","add","delete","clear"],em=new Map;function y_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=Vb.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Mb.includes(n)))return;const u=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return em.set(e,u),u}Ob(i=>({...i,get:(e,n,a)=>y_(e,n)||i.get(e,n,a),has:(e,n)=>!!y_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ub(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Ub(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fm="@firebase/app",v_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Gm("@firebase/app"),Bb="@firebase/app-compat",jb="@firebase/analytics-compat",zb="@firebase/analytics",qb="@firebase/app-check-compat",Hb="@firebase/app-check",Fb="@firebase/auth",Gb="@firebase/auth-compat",Wb="@firebase/database",Kb="@firebase/data-connect",Yb="@firebase/database-compat",$b="@firebase/functions",Qb="@firebase/functions-compat",Xb="@firebase/installations",Zb="@firebase/installations-compat",Jb="@firebase/messaging",eR="@firebase/messaging-compat",tR="@firebase/performance",nR="@firebase/performance-compat",rR="@firebase/remote-config",iR="@firebase/remote-config-compat",aR="@firebase/storage",sR="@firebase/storage-compat",oR="@firebase/firestore",lR="@firebase/ai",uR="@firebase/firestore-compat",cR="firebase",hR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="[DEFAULT]",dR={[fm]:"fire-core",[Bb]:"fire-core-compat",[zb]:"fire-analytics",[jb]:"fire-analytics-compat",[Hb]:"fire-app-check",[qb]:"fire-app-check-compat",[Fb]:"fire-auth",[Gb]:"fire-auth-compat",[Wb]:"fire-rtdb",[Kb]:"fire-data-connect",[Yb]:"fire-rtdb-compat",[$b]:"fire-fn",[Qb]:"fire-fn-compat",[Xb]:"fire-iid",[Zb]:"fire-iid-compat",[Jb]:"fire-fcm",[eR]:"fire-fcm-compat",[tR]:"fire-perf",[nR]:"fire-perf-compat",[rR]:"fire-rc",[iR]:"fire-rc-compat",[aR]:"fire-gcs",[sR]:"fire-gcs-compat",[oR]:"fire-fst",[uR]:"fire-fst-compat",[lR]:"fire-vertex","fire-js":"fire-js",[cR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,fR=new Map,pm=new Map;function __(i,e){try{i.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function eo(i){const e=i.name;if(pm.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,i);for(const n of rh.values())__(n,i);for(const n of fR.values())__(n,i);return!0}function Km(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function qn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new tu("app","Firebase",mR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=hR;function f0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:mm,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Qi.create("bad-app-name",{appName:String(o)});if(n||(n=o0()),!n)throw Qi.create("no-options");const u=rh.get(o);if(u){if(qa(n,u.options)&&qa(a,u.config))return u;throw Qi.create("duplicate-app",{appName:o})}const d=new Tb(o);for(const p of pm.values())d.addComponent(p);const m=new pR(n,a,d);return rh.set(o,m),m}function m0(i=mm){const e=rh.get(i);if(!e&&i===mm&&o0())return f0();if(!e)throw Qi.create("no-app",{appName:i});return e}function Xi(i,e,n){var a;let o=(a=dR[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(m.join(" "));return}eo(new Ha(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firebase-heartbeat-database",yR=1,Hl="firebase-heartbeat-store";let tm=null;function p0(){return tm||(tm=Pb(gR,yR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Qi.create("idb-open",{originalErrorMessage:i.message})})),tm}async function vR(i){try{const n=(await p0()).transaction(Hl),a=await n.objectStore(Hl).get(g0(i));return await n.done,a}catch(e){if(e instanceof fi)oi.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function E_(i,e){try{const a=(await p0()).transaction(Hl,"readwrite");await a.objectStore(Hl).put(e,g0(i)),await a.done}catch(n){if(n instanceof fi)oi.warn(n.message);else{const a=Qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(a.message)}}}function g0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=1024,ER=30;class TR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=T_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>ER){const d=wR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T_(),{heartbeatsToSend:a,unsentEntries:o}=SR(this._heartbeatsCache.heartbeats),u=nh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return oi.warn(n),""}}}function T_(){return new Date().toISOString().substring(0,10)}function SR(i,e=_R){const n=[];let a=i.slice();for(const o of i){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),S_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),S_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class AR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ub()?cb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return E_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return E_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function S_(i){return nh(JSON.stringify({version:2,heartbeats:i})).length}function wR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(i){eo(new Ha("platform-logger",e=>new Lb(e),"PRIVATE")),eo(new Ha("heartbeat",e=>new TR(e),"PRIVATE")),Xi(fm,v_,i),Xi(fm,v_,"esm2017"),Xi("fire-js","")}bR("");var RR="firebase",IR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(RR,IR,"app");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zi,y0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function I(){}I.prototype=b.prototype,C.D=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(O,V,j){for(var x=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)x[Dt-2]=arguments[Dt];return b.prototype[V].apply(O,x)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,I){I||(I=0);var O=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)O[V]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(V=0;16>V;++V)O[V]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],V=C.g[2];var j=C.g[3],x=b+(j^I&(V^j))+O[0]+3614090360&4294967295;b=I+(x<<7&4294967295|x>>>25),x=j+(V^b&(I^V))+O[1]+3905402710&4294967295,j=b+(x<<12&4294967295|x>>>20),x=V+(I^j&(b^I))+O[2]+606105819&4294967295,V=j+(x<<17&4294967295|x>>>15),x=I+(b^V&(j^b))+O[3]+3250441966&4294967295,I=V+(x<<22&4294967295|x>>>10),x=b+(j^I&(V^j))+O[4]+4118548399&4294967295,b=I+(x<<7&4294967295|x>>>25),x=j+(V^b&(I^V))+O[5]+1200080426&4294967295,j=b+(x<<12&4294967295|x>>>20),x=V+(I^j&(b^I))+O[6]+2821735955&4294967295,V=j+(x<<17&4294967295|x>>>15),x=I+(b^V&(j^b))+O[7]+4249261313&4294967295,I=V+(x<<22&4294967295|x>>>10),x=b+(j^I&(V^j))+O[8]+1770035416&4294967295,b=I+(x<<7&4294967295|x>>>25),x=j+(V^b&(I^V))+O[9]+2336552879&4294967295,j=b+(x<<12&4294967295|x>>>20),x=V+(I^j&(b^I))+O[10]+4294925233&4294967295,V=j+(x<<17&4294967295|x>>>15),x=I+(b^V&(j^b))+O[11]+2304563134&4294967295,I=V+(x<<22&4294967295|x>>>10),x=b+(j^I&(V^j))+O[12]+1804603682&4294967295,b=I+(x<<7&4294967295|x>>>25),x=j+(V^b&(I^V))+O[13]+4254626195&4294967295,j=b+(x<<12&4294967295|x>>>20),x=V+(I^j&(b^I))+O[14]+2792965006&4294967295,V=j+(x<<17&4294967295|x>>>15),x=I+(b^V&(j^b))+O[15]+1236535329&4294967295,I=V+(x<<22&4294967295|x>>>10),x=b+(V^j&(I^V))+O[1]+4129170786&4294967295,b=I+(x<<5&4294967295|x>>>27),x=j+(I^V&(b^I))+O[6]+3225465664&4294967295,j=b+(x<<9&4294967295|x>>>23),x=V+(b^I&(j^b))+O[11]+643717713&4294967295,V=j+(x<<14&4294967295|x>>>18),x=I+(j^b&(V^j))+O[0]+3921069994&4294967295,I=V+(x<<20&4294967295|x>>>12),x=b+(V^j&(I^V))+O[5]+3593408605&4294967295,b=I+(x<<5&4294967295|x>>>27),x=j+(I^V&(b^I))+O[10]+38016083&4294967295,j=b+(x<<9&4294967295|x>>>23),x=V+(b^I&(j^b))+O[15]+3634488961&4294967295,V=j+(x<<14&4294967295|x>>>18),x=I+(j^b&(V^j))+O[4]+3889429448&4294967295,I=V+(x<<20&4294967295|x>>>12),x=b+(V^j&(I^V))+O[9]+568446438&4294967295,b=I+(x<<5&4294967295|x>>>27),x=j+(I^V&(b^I))+O[14]+3275163606&4294967295,j=b+(x<<9&4294967295|x>>>23),x=V+(b^I&(j^b))+O[3]+4107603335&4294967295,V=j+(x<<14&4294967295|x>>>18),x=I+(j^b&(V^j))+O[8]+1163531501&4294967295,I=V+(x<<20&4294967295|x>>>12),x=b+(V^j&(I^V))+O[13]+2850285829&4294967295,b=I+(x<<5&4294967295|x>>>27),x=j+(I^V&(b^I))+O[2]+4243563512&4294967295,j=b+(x<<9&4294967295|x>>>23),x=V+(b^I&(j^b))+O[7]+1735328473&4294967295,V=j+(x<<14&4294967295|x>>>18),x=I+(j^b&(V^j))+O[12]+2368359562&4294967295,I=V+(x<<20&4294967295|x>>>12),x=b+(I^V^j)+O[5]+4294588738&4294967295,b=I+(x<<4&4294967295|x>>>28),x=j+(b^I^V)+O[8]+2272392833&4294967295,j=b+(x<<11&4294967295|x>>>21),x=V+(j^b^I)+O[11]+1839030562&4294967295,V=j+(x<<16&4294967295|x>>>16),x=I+(V^j^b)+O[14]+4259657740&4294967295,I=V+(x<<23&4294967295|x>>>9),x=b+(I^V^j)+O[1]+2763975236&4294967295,b=I+(x<<4&4294967295|x>>>28),x=j+(b^I^V)+O[4]+1272893353&4294967295,j=b+(x<<11&4294967295|x>>>21),x=V+(j^b^I)+O[7]+4139469664&4294967295,V=j+(x<<16&4294967295|x>>>16),x=I+(V^j^b)+O[10]+3200236656&4294967295,I=V+(x<<23&4294967295|x>>>9),x=b+(I^V^j)+O[13]+681279174&4294967295,b=I+(x<<4&4294967295|x>>>28),x=j+(b^I^V)+O[0]+3936430074&4294967295,j=b+(x<<11&4294967295|x>>>21),x=V+(j^b^I)+O[3]+3572445317&4294967295,V=j+(x<<16&4294967295|x>>>16),x=I+(V^j^b)+O[6]+76029189&4294967295,I=V+(x<<23&4294967295|x>>>9),x=b+(I^V^j)+O[9]+3654602809&4294967295,b=I+(x<<4&4294967295|x>>>28),x=j+(b^I^V)+O[12]+3873151461&4294967295,j=b+(x<<11&4294967295|x>>>21),x=V+(j^b^I)+O[15]+530742520&4294967295,V=j+(x<<16&4294967295|x>>>16),x=I+(V^j^b)+O[2]+3299628645&4294967295,I=V+(x<<23&4294967295|x>>>9),x=b+(V^(I|~j))+O[0]+4096336452&4294967295,b=I+(x<<6&4294967295|x>>>26),x=j+(I^(b|~V))+O[7]+1126891415&4294967295,j=b+(x<<10&4294967295|x>>>22),x=V+(b^(j|~I))+O[14]+2878612391&4294967295,V=j+(x<<15&4294967295|x>>>17),x=I+(j^(V|~b))+O[5]+4237533241&4294967295,I=V+(x<<21&4294967295|x>>>11),x=b+(V^(I|~j))+O[12]+1700485571&4294967295,b=I+(x<<6&4294967295|x>>>26),x=j+(I^(b|~V))+O[3]+2399980690&4294967295,j=b+(x<<10&4294967295|x>>>22),x=V+(b^(j|~I))+O[10]+4293915773&4294967295,V=j+(x<<15&4294967295|x>>>17),x=I+(j^(V|~b))+O[1]+2240044497&4294967295,I=V+(x<<21&4294967295|x>>>11),x=b+(V^(I|~j))+O[8]+1873313359&4294967295,b=I+(x<<6&4294967295|x>>>26),x=j+(I^(b|~V))+O[15]+4264355552&4294967295,j=b+(x<<10&4294967295|x>>>22),x=V+(b^(j|~I))+O[6]+2734768916&4294967295,V=j+(x<<15&4294967295|x>>>17),x=I+(j^(V|~b))+O[13]+1309151649&4294967295,I=V+(x<<21&4294967295|x>>>11),x=b+(V^(I|~j))+O[4]+4149444226&4294967295,b=I+(x<<6&4294967295|x>>>26),x=j+(I^(b|~V))+O[11]+3174756917&4294967295,j=b+(x<<10&4294967295|x>>>22),x=V+(b^(j|~I))+O[2]+718787259&4294967295,V=j+(x<<15&4294967295|x>>>17),x=I+(j^(V|~b))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+j&4294967295}a.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var I=b-this.blockSize,O=this.B,V=this.h,j=0;j<b;){if(V==0)for(;j<=I;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<b;)if(O[V++]=C.charCodeAt(j++),V==this.blockSize){o(this,O),V=0;break}}else for(;j<b;)if(O[V++]=C[j++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=b},a.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var I=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=I&255,I/=256;for(this.u(C),C=Array(16),b=I=0;4>b;++b)for(var O=0;32>O;O+=8)C[I++]=this.g[b]>>>O&255;return C};function u(C,b){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;for(var I=[],O=!0,V=C.length-1;0<=V;V--){var j=C[V]|0;O&&j==b||(I[V]=j,O=!1)}this.g=I}var m={};function p(C){return-128<=C&&128>C?u(C,function(b){return new d([b|0],0>b?-1:0)}):new d([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return w;if(0>C)return P(y(-C));for(var b=[],I=1,O=0;C>=I;O++)b[O]=C/I|0,I*=4294967296;return new d(b,0)}function E(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return P(E(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(b,8)),O=w,V=0;V<C.length;V+=8){var j=Math.min(8,C.length-V),x=parseInt(C.substring(V,V+j),b);8>j?(j=y(Math.pow(b,j)),O=O.j(j).add(y(x))):(O=O.j(I),O=O.add(y(x)))}return O}var w=p(0),A=p(1),L=p(16777216);i=d.prototype,i.m=function(){if(B(this))return-P(this).m();for(var C=0,b=1,I=0;I<this.g.length;I++){var O=this.i(I);C+=(0<=O?O:4294967296+O)*b,b*=4294967296}return C},i.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(B(this))return"-"+P(this).toString(C);for(var b=y(Math.pow(C,6)),I=this,O="";;){var V=oe(I,b).g;I=F(I,V.j(b));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=V,N(I))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},i.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function B(C){return C.h==-1}i.l=function(C){return C=F(this,C),B(C)?-1:N(C)?0:1};function P(C){for(var b=C.g.length,I=[],O=0;O<b;O++)I[O]=~C.g[O];return new d(I,~C.h).add(A)}i.abs=function(){return B(this)?P(this):this},i.add=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],O=0,V=0;V<=b;V++){var j=O+(this.i(V)&65535)+(C.i(V)&65535),x=(j>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);O=x>>>16,j&=65535,x&=65535,I[V]=x<<16|j}return new d(I,I[I.length-1]&-2147483648?-1:0)};function F(C,b){return C.add(P(b))}i.j=function(C){if(N(this)||N(C))return w;if(B(this))return B(C)?P(this).j(P(C)):P(P(this).j(C));if(B(C))return P(this.j(P(C)));if(0>this.l(L)&&0>C.l(L))return y(this.m()*C.m());for(var b=this.g.length+C.g.length,I=[],O=0;O<2*b;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<C.g.length;V++){var j=this.i(O)>>>16,x=this.i(O)&65535,Dt=C.i(V)>>>16,ut=C.i(V)&65535;I[2*O+2*V]+=x*ut,Y(I,2*O+2*V),I[2*O+2*V+1]+=j*ut,Y(I,2*O+2*V+1),I[2*O+2*V+1]+=x*Dt,Y(I,2*O+2*V+1),I[2*O+2*V+2]+=j*Dt,Y(I,2*O+2*V+2)}for(O=0;O<b;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=b;O<2*b;O++)I[O]=0;return new d(I,0)};function Y(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function ae(C,b){this.g=C,this.h=b}function oe(C,b){if(N(b))throw Error("division by zero");if(N(C))return new ae(w,w);if(B(C))return b=oe(P(C),b),new ae(P(b.g),P(b.h));if(B(b))return b=oe(C,P(b)),new ae(P(b.g),b.h);if(30<C.g.length){if(B(C)||B(b))throw Error("slowDivide_ only works with positive integers.");for(var I=A,O=b;0>=O.l(C);)I=ce(I),O=ce(O);var V=_e(I,1),j=_e(O,1);for(O=_e(O,2),I=_e(I,2);!N(O);){var x=j.add(O);0>=x.l(C)&&(V=V.add(I),j=x),O=_e(O,1),I=_e(I,1)}return b=F(C,V.j(b)),new ae(V,b)}for(V=w;0<=C.l(b);){for(I=Math.max(1,Math.floor(C.m()/b.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=y(I),x=j.j(b);B(x)||0<x.l(C);)I-=O,j=y(I),x=j.j(b);N(j)&&(j=A),V=V.add(j),C=F(C,x)}return new ae(V,C)}i.A=function(C){return oe(this,C).h},i.and=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],O=0;O<b;O++)I[O]=this.i(O)&C.i(O);return new d(I,this.h&C.h)},i.or=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],O=0;O<b;O++)I[O]=this.i(O)|C.i(O);return new d(I,this.h|C.h)},i.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],O=0;O<b;O++)I[O]=this.i(O)^C.i(O);return new d(I,this.h^C.h)};function ce(C){for(var b=C.g.length+1,I=[],O=0;O<b;O++)I[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(I,C.h)}function _e(C,b){var I=b>>5;b%=32;for(var O=C.g.length-I,V=[],j=0;j<O;j++)V[j]=0<b?C.i(j+I)>>>b|C.i(j+I+1)<<32-b:C.i(j+I);return new d(V,C.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,y0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Zi=d}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v0,Nl,_0,Gc,gm,E0,T0,S0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,g){if(g)e:{var v=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in v))break e;v=v[q]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,S=!1,q={next:function(){if(!S&&v<c.length){var $=v++;return{value:g($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function w(c,g,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function A(c,g,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function L(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,q,$){for(var ue=Array(arguments.length-2),je=2;je<arguments.length;je++)ue[je-2]=arguments[je];return g.prototype[q].apply(S,ue)}}function B(c){const g=c.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function P(c,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const q=c.length||0,$=S.length||0;c.length=q+$;for(let ue=0;ue<$;ue++)c[q+ue]=S[ue]}else c.push(S)}}class F{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Y(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ce=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function _e(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function C(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function b(c){const g={};for(const v in c)g[v]=c[v];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let v,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(v in S)c[v]=S[v];for(let $=0;$<I.length;$++)v=I[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function V(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function j(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Be;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Dt{constructor(){this.h=this.g=null}add(g,v){const S=ut.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ut=new F(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ye=!1,Be=new Dt,k=()=>{const c=m.Promise.resolve(void 0);he=()=>{c.then(ie)}};var ie=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){j(v)}var g=ut;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ye=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function Oe(c,g){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ce){e:{try{oe(g.nodeName);var q=!0;break e}catch{}q=!1}q||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:J[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}N(Oe,se);var J={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),le=0;function De(c,g,v,S,q){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=q,this.key=++le,this.da=this.fa=!1}function at(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ct(c){this.src=c,this.g={},this.h=0}ct.prototype.add=function(c,g,v,S,q){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ue=et(c,g,S,q);return-1<ue?(g=c[ue],v||(g.fa=!1)):(g=new De(g,this.src,$,!!S,q),g.fa=v,c.push(g)),g};function Qe(c,g){var v=g.type;if(v in c.g){var S=c.g[v],q=Array.prototype.indexOf.call(S,g,void 0),$;($=0<=q)&&Array.prototype.splice.call(S,q,1),$&&(at(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function et(c,g,v,S){for(var q=0;q<c.length;++q){var $=c[q];if(!$.da&&$.listener==g&&$.capture==!!v&&$.ha==S)return q}return-1}var Gn="closure_lm_"+(1e6*Math.random()|0),Ht={};function Rn(c,g,v,S,q){if(Array.isArray(g)){for(var $=0;$<g.length;$++)Rn(c,g[$],v,S,q);return null}return v=du(v),c&&c[ee]?c.K(g,v,y(S)?!!S.capture:!1,q):Fe(c,g,v,!1,S,q)}function Fe(c,g,v,S,q,$){if(!g)throw Error("Invalid event type");var ue=y(q)?!!q.capture:!!q,je=Dn(c);if(je||(c[Gn]=je=new ct(c)),v=je.add(g,v,S,ue,$),v.proxy)return v;if(S=In(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)Ee||(q=ue),q===void 0&&(q=!1),c.addEventListener(g.toString(),S,q);else if(c.attachEvent)c.attachEvent(fe(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function In(){function c(v){return g.call(c.src,c.listener,v)}const g=gn;return c}function Wn(c,g,v,S,q){if(Array.isArray(g))for(var $=0;$<g.length;$++)Wn(c,g[$],v,S,q);else S=y(S)?!!S.capture:!!S,v=du(v),c&&c[ee]?(c=c.i,g=String(g).toString(),g in c.g&&($=c.g[g],v=et($,v,S,q),-1<v&&(at($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[g],c.h--)))):c&&(c=Dn(c))&&(g=c.g[g.toString()],c=-1,g&&(c=et(g,v,S,q)),(v=-1<c?g[c]:null)&&Cn(v))}function Cn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ee])Qe(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(fe(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=Dn(g))?(Qe(v,c),v.h==0&&(v.src=null,g[Gn]=null)):at(c)}}}function fe(c){return c in Ht?Ht[c]:Ht[c]="on"+c}function gn(c,g){if(c.da)c=!0;else{g=new Oe(g,this);var v=c.listener,S=c.ha||c.src;c.fa&&Cn(c),c=v.call(S,g)}return c}function Dn(c){return c=c[Gn],c instanceof ct?c:null}var Eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function du(c){return typeof c=="function"?c:(c[Eo]||(c[Eo]=function(g){return c.handleEvent(g)}),c[Eo])}function gt(){de.call(this),this.i=new ct(this),this.M=this,this.F=null}N(gt,de),gt.prototype[ee]=!0,gt.prototype.removeEventListener=function(c,g,v,S){Wn(this,c,g,v,S)};function Xe(c,g){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new se(g,c);else if(g instanceof se)g.target=g.target||c;else{var q=g;g=new se(S,c),O(g,q)}if(q=!0,v)for(var $=v.length-1;0<=$;$--){var ue=g.g=v[$];q=yn(ue,S,!0,g)&&q}if(ue=g.g=c,q=yn(ue,S,!0,g)&&q,q=yn(ue,S,!1,g)&&q,v)for($=0;$<v.length;$++)ue=g.g=v[$],q=yn(ue,S,!1,g)&&q}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],S=0;S<v.length;S++)at(v[S]);delete c.g[g],c.h--}}this.F=null},gt.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},gt.prototype.L=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function yn(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,$=0;$<g.length;++$){var ue=g[$];if(ue&&!ue.da&&ue.capture==v){var je=ue.listener,Ot=ue.ha||ue.src;ue.fa&&Qe(c.i,ue),q=je.call(Ot,S)!==!1&&q}}return q&&!S.defaultPrevented}function Zt(c,g,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function fu(c){c.g=Zt(()=>{c.g=null,c.i&&(c.i=!1,fu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Fh extends de{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(c){de.call(this),this.h=c,this.g={}}N(oa,de);var la=[];function ua(c){_e(c.g,function(g,v){this.g.hasOwnProperty(v)&&Cn(g)},c),c.g={}}oa.prototype.N=function(){oa.aa.N.call(this),ua(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=m.JSON.stringify,Ja=m.JSON.parse,ca=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function To(){}To.prototype.h=null;function So(c){return c.h||(c.h=c.i())}function Ao(){}var Dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){se.call(this,"d")}N(xr,se);function wo(){se.call(this,"c")}N(wo,se);var ar={},bo=null;function mi(){return bo=bo||new gt}ar.La="serverreachability";function es(c){se.call(this,ar.La,c)}N(es,se);function pi(c){const g=mi();Xe(g,new es(g))}ar.STAT_EVENT="statevent";function mu(c,g){se.call(this,ar.STAT_EVENT,c),this.stat=g}N(mu,se);function ht(c){const g=mi();Xe(g,new mu(g,c))}ar.Ma="timingevent";function xt(c,g){se.call(this,ar.Ma,c),this.size=g}N(xt,se);function At(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function xn(){this.g=!0}xn.prototype.xa=function(){this.g=!1};function Ro(c,g,v,S,q,$){c.info(function(){if(c.g)if($)for(var ue="",je=$.split("&"),Ot=0;Ot<je.length;Ot++){var ze=je[Ot].split("=");if(1<ze.length){var Ut=ze[0];ze=ze[1];var Nt=Ut.split("_");ue=2<=Nt.length&&Nt[1]=="type"?ue+(Ut+"="+ze+"&"):ue+(Ut+"=redacted&")}}else ue=null;else ue=$;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+g+`
`+v+`
`+ue})}function Gh(c,g,v,S,q,$,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+g+`
`+v+`
`+$+" "+ue})}function gi(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ha(c,v)+(S?" "+S:"")})}function pu(c,g){c.info(function(){return"TIMEOUT: "+g})}xn.prototype.info=function(){};function ha(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var $=q[0];if($!="noop"&&$!="stop"&&$!="close")for(var ue=1;ue<q.length;ue++)q[ue]=""}}}}return Kn(v)}catch{return g}}var yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Or={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sr;function or(){}N(or,To),or.prototype.g=function(){return new XMLHttpRequest},or.prototype.i=function(){return{}},sr=new or;function sn(c,g,v,S){this.j=c,this.i=g,this.l=v,this.R=S||1,this.U=new oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var Io={},ts={};function Yn(c,g,v){c.L=1,c.v=ga(vn(g)),c.m=v,c.P=!0,Nr(c,null)}function Nr(c,g){c.F=Date.now(),da(c),c.A=vn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ko(v.i,"t",S),c.C=0,v=c.j.J,c.h=new _t,c.g=Ou(c.j,v?g:null,!c.m),0<c.O&&(c.M=new Fh(A(c.Y,c,c.g),c.O)),g=c.U,v=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(la[0]=q.toString()),q=la);for(var $=0;$<q.length;$++){var ue=Rn(v,q[$],S||g.handleEvent,!1,g.h||g);if(!ue)break;g.g[ue.key]=ue}g=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),pi(),Ro(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Pn(c)==3?g.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=Pn(this.g);var g=this.g.Ba();const jr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||Nt!=4||g==7||(g==8||0>=jr?pi(3):pi(2)),vi(this);var v=this.g.Z();this.X=v;t:if(gu(this)){var S=Au(this.g);c="";var q=S.length,$=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ft(this),lr(this);var ue="";break t}this.h.i=new m.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!($&&g==q-1)});S.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,Gh(this.i,this.u,this.A,this.l,this.R,Nt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Ot=this.g;if((je=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(je)){var ze=je;break t}}ze=null}if(v=ze)gi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fa(this,v);else{this.o=!1,this.s=3,ht(12),Ft(this),lr(this);break e}}if(this.P){v=!0;let Gt;for(;!this.J&&this.C<ue.length;)if(Gt=yu(this,ue),Gt==ts){Nt==4&&(this.s=4,ht(14),v=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Io){this.s=4,ht(15),gi(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else gi(this.i,this.l,Gt,null),fa(this,Gt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ue.length!=0||this.h.h||(this.s=1,ht(16),v=!1),this.o=this.o&&v,!v)gi(this.i,this.l,ue,"[Invalid Chunked Response]"),Ft(this),lr(this);else if(0<ue.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),wa(Ut),Ut.M=!0,ht(11))}}else gi(this.i,this.l,ue,null),fa(this,ue);Nt==4&&Ft(this),this.o&&!this.J&&(Nt==4?Cu(this.j,this):(this.o=!1,da(this)))}else Qh(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Ft(this),lr(this)}}}catch{}finally{}};function gu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yu(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?ts:(v=Number(g.substring(v,S)),isNaN(v)?Io:(S+=1,S+v>g.length?ts:(g=g.slice(S,S+v),c.C=S+v,g)))}sn.prototype.cancel=function(){this.J=!0,Ft(this)};function da(c){c.S=Date.now()+c.I,vu(c,c.I)}function vu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=At(A(c.ba,c),g)}function vi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(pu(this.i,this.A),this.L!=2&&(pi(),ht(17)),Ft(this),this.s=2,lr(this)):vu(this,this.S-c)};function lr(c){c.j.G==0||c.J||Cu(c.j,c)}function Ft(c){vi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ua(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function fa(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Co(v.h,c))){if(!c.K&&Co(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)fs(v),hs(v);else break e;Uo(v),ht(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=At(A(v.Za,v),6e3));if(1>=rs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Br(v,11)}else if((c.K||v.g==c)&&fs(v),!Y(g))for(q=v.Da.g.parse(g),g=0;g<q.length;g++){let ze=q[g];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const Ut=ze[3];Ut!=null&&(v.la=Ut,v.j.info("VER="+v.la));const Nt=ze[4];Nt!=null&&(v.Aa=Nt,v.j.info("SVER="+v.Aa));const jr=ze[5];jr!=null&&typeof jr=="number"&&0<jr&&(S=1.5*jr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Gt=c.g;if(Gt){const pr=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var $=S.h;$.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(is($,$.h),$.h=null))}if(S.D){const jo=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(S.ya=jo,tt(S.I,S.D,jo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ue=c;if(S.qa=xu(S,S.J?S.ia:null,S.W),ue.K){on(S.h,ue);var je=ue,Ot=S.L;Ot&&(je.I=Ot),je.B&&(vi(je),da(je)),S.g=ue}else Ru(S);0<v.i.length&&ds(v)}else ze[0]!="stop"&&ze[0]!="close"||Br(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Br(v,7):Vo(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}pi(4)}catch{}}var _u=class{constructor(c,g){this.g=c,this.map=g}};function kr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ns(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function rs(c){return c.h?1:c.g?c.g.size:0}function Co(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function is(c,g){c.g?c.g.add(g):c.h=g}function on(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}kr.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Do(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return B(c.i)}function Wh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,S=0;S<v;S++)g.push(c[S]);return g}g=[],v=0;for(S in c)g[v++]=c[S];return g}function as(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const S in c)g[v++]=S;return g}}}function xo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=as(c),S=Wh(c),q=S.length,$=0;$<q;$++)g.call(void 0,S[$],v&&v[$],c)}var ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kh(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),q=null;if(0<=S){var $=c[v].substring(0,S);q=c[v].substring(S+1)}else $=c[v];g($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function wt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wt){this.h=c.h,pa(this,c.j),this.o=c.o,this.g=c.g,_i(this,c.s),this.l=c.l;var g=c.i,v=new Mr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Pr(this,v),this.m=c.m}else c&&(g=String(c).match(ma))?(this.h=!1,pa(this,g[1]||"",!0),this.o=On(g[2]||""),this.g=On(g[3]||"",!0),_i(this,g[4]),this.l=On(g[5]||"",!0),Pr(this,g[6]||"",!0),this.m=On(g[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}wt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ya(g,Oo,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ya(g,Oo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ya(v,v.charAt(0)=="/"?Yh:No,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ya(v,ss)),c.join("")};function vn(c){return new wt(c)}function pa(c,g,v){c.j=v?On(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function _i(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Pr(c,g,v){g instanceof Mr?(c.i=g,Tu(c.i,c.h)):(v||(g=ya(g,$h)),c.i=new Mr(g,c.h))}function tt(c,g,v){c.i.set(g,v)}function ga(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function On(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ya(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,Eu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Eu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,No=/[#\?:]/g,Yh=/[#\?]/g,$h=/[#\?@]/g,ss=/#/g;function Mr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Kh(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=Mr.prototype,i.add=function(c,g){Nn(this),this.i=null,c=ur(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Vr(c,g){Nn(c),g=ur(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Lr(c,g){return Nn(c),g=ur(c,g),c.g.has(g)}i.forEach=function(c,g){Nn(this),this.g.forEach(function(v,S){v.forEach(function(q){c.call(g,q,S,this)},this)},this)},i.na=function(){Nn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const q=c[S];for(let $=0;$<q.length;$++)v.push(g[S])}return v},i.V=function(c){Nn(this);let g=[];if(typeof c=="string")Lr(this,c)&&(g=g.concat(this.g.get(ur(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},i.set=function(c,g){return Nn(this),this.i=null,c=ur(this,c),Lr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ko(c,g,v){Vr(c,g),0<v.length&&(c.i=null,c.g.set(ur(c,g),B(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const $=encodeURIComponent(String(S)),ue=this.V(S);for(S=0;S<ue.length;S++){var q=$;ue[S]!==""&&(q+="="+encodeURIComponent(String(ue[S]))),c.push(q)}}return this.i=c.join("&")};function ur(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Tu(c,g){g&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(v,S){var q=S.toLowerCase();S!=q&&(Vr(this,S),ko(this,q,v))},c)),c.j=g}function va(c,g){const v=new xn;if(m.Image){const S=new Image;S.onload=L(kn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=L(kn,v,"TestLoadImage: error",!1,g,S),S.onabort=L(kn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=L(kn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function $n(c,g){const v=new xn,S=new AbortController,q=setTimeout(()=>{S.abort(),kn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(q),$.ok?kn(v,"TestPingServer: ok",!0,g):kn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),kn(v,"TestPingServer: error",!1,g)})}function kn(c,g,v,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(v)}catch{}}function _a(){this.g=new ca}function cr(c,g,v){const S=v||"";try{xo(c,function(q,$){let ue=q;y(q)&&(ue=Kn(q)),g.push(S+$+"="+encodeURIComponent(ue))})}catch(q){throw g.push(S+"type="+encodeURIComponent("_badmap")),q}}function Ei(c){this.l=c.Ub||null,this.j=c.eb||!1}N(Ei,To),Ei.prototype.g=function(){return new Ur(this.l,this.j)},Ei.prototype.i=function(c){return function(){return c}}({});function Ur(c,g){gt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Ur,gt),i=Ur.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,dr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Po(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Po(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?hr(this):dr(this),this.readyState==3&&Po(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,hr(this))},i.Qa=function(c){this.g&&(this.response=c,hr(this))},i.ga=function(){this.g&&hr(this)};function hr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,dr(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function dr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mo(c){let g="";return _e(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Lt(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Mo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):tt(c,g,v))}function Ke(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ke,gt);var os=/^https?$/i,Ea=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sr.g(),this.v=this.o?So(this.o):So(sr),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch($){Su(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)v.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ea,g,void 0))||S||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ue]of v)this.g.setRequestHeader($,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ta(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Su(this,$)}};function Su(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ls(c),fr(c)}function ls(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),fr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fr(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?us(this):this.bb())},i.bb=function(){us(this)};function us(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Zt(c.Ea,0,c);else if(Xe(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=ue===0){var q=String(c.D).match(ma)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),S=!os.test(q?q.toLowerCase():"")}v=S}if(v)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var $=2<Pn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",ls(c)}}finally{fr(c)}}}}function fr(c,g){if(c.g){Ta(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Xe(c,"ready");try{v.onreadystatechange=S}catch{}}}function Ta(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ja(g)}};function Au(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qh(c){const g={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Y(c[S]))continue;var v=V(c[S]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=g[q]||[];g[q]=$,$.push(v)}C(g,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function cs(c){this.Aa=0,this.i=[],this.j=new xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,c),this.cb=Sa("retryDelaySeedMs",1e4,c),this.Wa=Sa("forwardChannelMaxRetries",2,c),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new kr(c&&c.concurrentRequestLimit),this.Da=new _a,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=cs.prototype,i.la=8,i.G=1,i.connect=function(c,g,v,S){ht(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=xu(this,null,this.W),ds(this)};function Vo(c){if(wu(c),c.G==3){var g=c.U++,v=vn(c.I);if(tt(v,"SID",c.K),tt(v,"RID",g),tt(v,"TYPE","terminate"),Aa(c,v),g=new sn(c,c.j,g),g.L=2,g.v=ga(vn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Ou(g.j,null),g.g.ea(g.v)),g.F=Date.now(),da(g)}Du(c)}function hs(c){c.g&&(wa(c),c.g.cancel(),c.g=null)}function wu(c){hs(c),c.u&&(m.clearTimeout(c.u),c.u=null),fs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ds(c){if(!ns(c.h)&&!c.s){c.s=!0;var g=c.Ga;he||k(),ye||(he(),ye=!0),Be.add(g,c),c.B=0}}function Xh(c,g){return rs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=At(A(c.Ga,c,g),Bo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new sn(this,this.j,c);let $=this.o;if(this.S&&($?($=b($),O($,this.S)):$=this.S),this.m!==null||this.O||(q.H=$,$=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=bu(this,q,g),v=vn(this.I),tt(v,"RID",c),tt(v,"CVER",22),this.D&&tt(v,"X-HTTP-Session-Id",this.D),Aa(this,v),$&&(this.O?g="headers="+encodeURIComponent(String(Mo($)))+"&"+g:this.m&&Lt(v,this.m,$)),is(this.h,q),this.Ua&&tt(v,"TYPE","init"),this.P?(tt(v,"$req",g),tt(v,"SID","null"),q.T=!0,Yn(q,v,null)):Yn(q,v,g),this.G=2}}else this.G==3&&(c?Lo(this,c):this.i.length==0||ns(this.h)||Lo(this))};function Lo(c,g){var v;g?v=g.l:v=c.U++;const S=vn(c.I);tt(S,"SID",c.K),tt(S,"RID",v),tt(S,"AID",c.T),Aa(c,S),c.m&&c.o&&Lt(S,c.m,c.o),v=new sn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=bu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),is(c.h,v),Yn(v,S,g)}function Aa(c,g){c.H&&_e(c.H,function(v,S){tt(g,S,v)}),c.l&&xo({},function(v,S){tt(g,S,v)})}function bu(c,g,v){v=Math.min(c.i.length,v);var S=c.l?A(c.l.Na,c.l,c):null;e:{var q=c.i;let $=-1;for(;;){const ue=["count="+v];$==-1?0<v?($=q[0].g,ue.push("ofs="+$)):$=0:ue.push("ofs="+$);let je=!0;for(let Ot=0;Ot<v;Ot++){let ze=q[Ot].g;const Ut=q[Ot].map;if(ze-=$,0>ze)$=Math.max(0,q[Ot].g-100),je=!1;else try{cr(Ut,ue,"req"+ze+"_")}catch{S&&S(Ut)}}if(je){S=ue.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,S}function Ru(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;he||k(),ye||(he(),ye=!0),Be.add(g,c),c.v=0}}function Uo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=At(A(c.Fa,c),Bo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=At(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),hs(this),Iu(this))};function wa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Iu(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=vn(c.qa);tt(g,"RID","rpc"),tt(g,"SID",c.K),tt(g,"AID",c.T),tt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(g,"TO",c.ja),tt(g,"TYPE","xmlhttp"),Aa(c,g),c.m&&c.o&&Lt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ga(vn(g)),v.m=null,v.P=!0,Nr(v,c)}i.Za=function(){this.C!=null&&(this.C=null,hs(this),Uo(this),ht(19))};function fs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Cu(c,g){var v=null;if(c.g==g){fs(c),wa(c),c.g=null;var S=2}else if(Co(c.h,g))v=g.D,on(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;S=mi(),Xe(S,new xt(S,v)),ds(c)}else Ru(c);else if(q=g.s,q==3||q==0&&0<g.X||!(S==1&&Xh(c,g)||S==2&&Uo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),q){case 1:Br(c,5);break;case 4:Br(c,10);break;case 3:Br(c,6);break;default:Br(c,2)}}}function Bo(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Br(c,g){if(c.j.info("Error code "+g),g==2){var v=A(c.fb,c),S=c.Xa;const q=!S;S=new wt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||pa(S,"https"),ga(S),q?va(S.toString(),v):$n(S.toString(),v)}else ht(2);c.G=0,c.l&&c.l.sa(g),Du(c),wu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Du(c){if(c.G=0,c.ka=[],c.l){const g=Do(c.h);(g.length!=0||c.i.length!=0)&&(P(c.ka,g),P(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function xu(c,g,v){var S=v instanceof wt?vn(v):new wt(v);if(S.g!="")g&&(S.g=g+"."+S.g),_i(S,S.s);else{var q=m.location;S=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var $=new wt(null);S&&pa($,S),g&&($.g=g),q&&_i($,q),v&&($.l=v),S=$}return v=c.D,g=c.ya,v&&g&&tt(S,v,g),tt(S,"VER",c.la),Aa(c,S),S}function Ou(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ke(new Ei({eb:v})):new Ke(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}i=Nu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ms(){}ms.prototype.g=function(c,g){return new ln(c,g)};function ln(c,g){gt.call(this),this.g=new cs(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Y(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Y(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new mr(this)}N(ln,gt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Vo(this.g)},ln.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Kn(c),c=v);g.i.push(new _u(g.Ya++,c)),g.G==3&&ds(g)},ln.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,ln.aa.N.call(this)};function ku(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}N(ku,xr);function Pu(){wo.call(this),this.status=1}N(Pu,wo);function mr(c){this.g=c}N(mr,Nu),mr.prototype.ua=function(){Xe(this.g,"a")},mr.prototype.ta=function(c){Xe(this.g,new ku(c))},mr.prototype.sa=function(c){Xe(this.g,new Pu)},mr.prototype.ra=function(){Xe(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,S0=function(){return new ms},T0=function(){return mi()},E0=ar,gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,Gc=yi,Or.COMPLETE="complete",_0=Or,Ao.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Nl=Ao,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,v0=Ke}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const w_="@firebase/firestore",b_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new Gm("@firebase/firestore");function Hs(){return Fa.logLevel}function me(i,...e){if(Fa.logLevel<=Le.DEBUG){const n=e.map(Ym);Fa.debug(`Firestore (${mo}): ${i}`,...n)}}function li(i,...e){if(Fa.logLevel<=Le.ERROR){const n=e.map(Ym);Fa.error(`Firestore (${mo}): ${i}`,...n)}}function to(i,...e){if(Fa.logLevel<=Le.WARN){const n=e.map(Ym);Fa.warn(`Firestore (${mo}): ${i}`,...n)}}function Ym(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,A0(i,a,n)}function A0(i,e,n){let a=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw li(a),new Error(a)}function $e(i,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,i||A0(e,o,a)}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class DR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xR{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ri,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ri)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string",31837,{l:a}),new w0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class OR{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NR{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new OR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const a=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=PR(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function ke(i,e){return i<e?-1:i>e?1:0}function ym(i,e){let n=0;for(;n<i.length&&n<e.length;){const a=i.codePointAt(n),o=e.codePointAt(n);if(a!==o){if(a<128&&o<128)return ke(a,o);{const u=b0(),d=MR(u.encode(I_(i,n)),u.encode(I_(e,n)));return d!==0?d:ke(a,o)}}n+=a>65535?2:1}return ke(i.length,e.length)}function I_(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function MR(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return ke(i[n],e[n]);return ke(i.length,e.length)}function no(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=-62135596800,D_=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*D_);return new Mt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<C_)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-C_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Mt(0,0))}static max(){return new Ie(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__name__";class Tr{constructor(e,n,a){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&be(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Tr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const a=Tr.isNumericId(e),o=Tr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Tr.extractNumericId(e).compare(Tr.extractNumericId(n)):ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zi.fromString(e.substring(4,e.length-2))}}class lt extends Tr{construct(e,n,a){return new lt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const VR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Tr{construct(e,n,a){return new Qt(e,n,a)}static isValidIdentifier(e){return VR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new Qt([x_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(a+=m,o++):(u(),o++)}if(u(),d)throw new pe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(lt.fromString(e))}static fromName(e){return new Se(lt.fromString(e).popFirst(5))}static empty(){return new Se(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function LR(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(a===1e9?new Mt(n+1,0):new Mt(n,a));return new ea(o,Se.empty(),e)}function UR(i){return new ea(i.readTime,i.key,Fl)}class ea{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ea(Ie.min(),Se.empty(),Fl)}static max(){return new ea(Ie.max(),Se.empty(),Fl)}}function BR(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==jR)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,a)=>{n(e)})}static reject(e){return new ne((n,a)=>{a(e)})}static waitFor(e){return new ne((n,a)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&n()},p=>a(p))}),d=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const a of e)n=n.next(o=>o?ne.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ne((a,o)=>{const u=e.length,d=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{d[y]=E,++m,m===u&&a(d)},E=>o(E))}})}static doWhile(e,n){return new ne((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function qR(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Rh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=-1;function Ih(i){return i==null}function ih(i){return i===0&&1/i==-1/0}function HR(i){return typeof i=="number"&&Number.isInteger(i)&&!ih(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="";function FR(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=O_(e)),e=GR(i.get(n),e);return O_(e)}function GR(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case I0:n+="";break;default:n+=u}}return n}function O_(i){return i+I0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function $a(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function C0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new $t(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new Vt(Qt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new D0("Invalid base64 string: "+u):u}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const WR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(i){if($e(!!i,39018),typeof i=="string"){let e=0;const n=WR.exec(i);if($e(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:St(i.seconds),nanos:St(i.nanos)}}function St(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function na(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="server_timestamp",O0="__type__",N0="__previous_value__",k0="__local_write_time__";function Qm(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[O0])===null||n===void 0?void 0:n.stringValue)===x0}function Ch(i){const e=i.mapValue.fields[N0];return Qm(e)?Ch(e):e}function Gl(i){const e=ta(i.mapValue.fields[k0].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,a,o,u,d,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const ah="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||ah}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="__type__",YR="__max__",Uc={mapValue:{}},M0="__vector__",sh="value";function ra(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Qm(i)?4:QR(i)?9007199254740991:$R(i)?10:11:be(28295,{value:i})}function Rr(i,e){if(i===e)return!0;const n=ra(i);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Gl(i).isEqual(Gl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ta(o.timestampValue),m=ta(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return na(o.bytesValue).isEqual(na(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=St(o.doubleValue),m=St(u.doubleValue);return d===m?ih(d)===ih(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return no(i.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(N_(d)!==N_(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!Rr(d[p],m[p])))return!1;return!0}(i,e);default:return be(52216,{left:i})}}function Kl(i,e){return(i.values||[]).find(n=>Rr(n,e))!==void 0}function ro(i,e){if(i===e)return 0;const n=ra(i),a=ra(e);if(n!==a)return ke(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(u,d){const m=St(u.integerValue||u.doubleValue),p=St(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return P_(i.timestampValue,e.timestampValue);case 4:return P_(Gl(i),Gl(e));case 5:return ym(i.stringValue,e.stringValue);case 6:return function(u,d){const m=na(u),p=na(d);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=ke(m[y],p[y]);if(E!==0)return E}return ke(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const m=ke(St(u.latitude),St(d.latitude));return m!==0?m:ke(St(u.longitude),St(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return M_(i.arrayValue,e.arrayValue);case 10:return function(u,d){var m,p,y,E;const w=u.fields||{},A=d.fields||{},L=(m=w[sh])===null||m===void 0?void 0:m.arrayValue,N=(p=A[sh])===null||p===void 0?void 0:p.arrayValue,B=ke(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((E=N==null?void 0:N.values)===null||E===void 0?void 0:E.length)||0);return B!==0?B:M_(L,N)}(i.mapValue,e.mapValue);case 11:return function(u,d){if(u===Uc.mapValue&&d===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=ym(p[w],E[w]);if(A!==0)return A;const L=ro(m[p[w]],y[E[w]]);if(L!==0)return L}return ke(p.length,E.length)}(i.mapValue,e.mapValue);default:throw be(23264,{Pe:n})}}function P_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=ta(i),a=ta(e),o=ke(n.seconds,a.seconds);return o!==0?o:ke(n.nanos,a.nanos)}function M_(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=ro(n[o],a[o]);if(u)return u}return ke(n.length,a.length)}function io(i){return vm(i)}function vm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=ta(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return na(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Se.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=vm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of a)u?u=!1:o+=",",o+=`${d}:${vm(n.fields[d])}`;return o+"}"}(i.mapValue):be(61005,{value:i})}function Wc(i){switch(ra(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(i);return e?16+Wc(e):16;case 5:return 2*i.stringValue.length;case 6:return na(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Wc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return $a(a.fields,(u,d)=>{o+=u.length+Wc(d)}),o}(i.mapValue);default:throw be(13486,{value:i})}}function V_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function _m(i){return!!i&&"integerValue"in i}function Xm(i){return!!i&&"arrayValue"in i}function L_(i){return!!i&&"nullValue"in i}function U_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Kc(i){return!!i&&"mapValue"in i}function $R(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[P0])===null||n===void 0?void 0:n.stringValue)===M0}function Ll(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return $a(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Ll(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(i.arrayValue.values[n]);return e}return Object.assign({},i)}function QR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===YR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Qt.emptyPath(),a={},o=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}d?a[m.lastSegment()]=Ll(d):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){$a(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new Hn(Ll(this.value))}}function V0(i){const e=[];return $a(i.fields,(n,a)=>{const o=new Qt([n]);if(Kc(a)){const u=V0(a.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,a,o,u,d,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,Ie.min(),Ie.min(),Ie.min(),Hn.empty(),0)}static newFoundDocument(e,n,a,o){return new rn(e,1,n,Ie.min(),a,o,0)}static newNoDocument(e,n){return new rn(e,2,n,Ie.min(),Ie.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Ie.min(),Ie.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.position=e,this.inclusive=n}}function B_(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?a=Se.comparator(Se.fromName(d.referenceValue),n.key):a=ro(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function j_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Rr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function XR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{}class Ct extends L0{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new JR(e,n,a):n==="array-contains"?new nI(e,a):n==="in"?new rI(e,a):n==="not-in"?new iI(e,a):n==="array-contains-any"?new aI(e,a):new Ct(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new eI(e,a):new tI(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ro(n,this.value)):n!==null&&ra(this.value)===ra(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends L0{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new tr(e,n)}matches(e){return U0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function U0(i){return i.op==="and"}function B0(i){return ZR(i)&&U0(i)}function ZR(i){for(const e of i.filters)if(e instanceof tr)return!1;return!0}function Em(i){if(i instanceof Ct)return i.field.canonicalString()+i.op.toString()+io(i.value);if(B0(i))return i.filters.map(e=>Em(e)).join(",");{const e=i.filters.map(n=>Em(n)).join(",");return`${i.op}(${e})`}}function j0(i,e){return i instanceof Ct?function(a,o){return o instanceof Ct&&a.op===o.op&&a.field.isEqual(o.field)&&Rr(a.value,o.value)}(i,e):i instanceof tr?function(a,o){return o instanceof tr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,d,m)=>u&&j0(d,o.filters[m]),!0):!1}(i,e):void be(19439)}function z0(i){return i instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(i):i instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(z0).join(" ,")+"}"}(i):"Filter"}class JR extends Ct{constructor(e,n,a){super(e,n,a),this.key=Se.fromName(a.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class eI extends Ct{constructor(e,n){super(e,"in",n),this.keys=q0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tI extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=q0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function q0(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Se.fromName(a.referenceValue))}class nI extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xm(n)&&Kl(n.arrayValue,this.value)}}class rI extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class iI extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kl(this.value.arrayValue,n)}}class aI extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Kl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n=null,a=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.Ie=null}}function z_(i,e=null,n=[],a=[],o=null,u=null,d=null){return new sI(i,e,n,a,o,u,d)}function Zm(i){const e=Ce(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Em(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>io(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>io(a)).join(",")),e.Ie=n}return e.Ie}function Jm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!XR(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!j0(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!j_(i.startAt,e.startAt)&&j_(i.endAt,e.endAt)}function Tm(i){return Se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n=null,a=[],o=[],u=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function oI(i,e,n,a,o,u,d,m){return new ru(i,e,n,a,o,u,d,m)}function ep(i){return new ru(i)}function q_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function H0(i){return i.collectionGroup!==null}function Ul(i){const e=Ce(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Vt(Qt.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new lh(u,a))}),n.has(Qt.keyField().canonicalString())||e.Ee.push(new lh(Qt.keyField(),a))}return e.Ee}function Sr(i){const e=Ce(i);return e.de||(e.de=lI(e,Ul(i))),e.de}function lI(i,e){if(i.limitType==="F")return z_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new lh(o.field,u)});const n=i.endAt?new oh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new oh(i.startAt.position,i.startAt.inclusive):null;return z_(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function Sm(i,e){const n=i.filters.concat([e]);return new ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Am(i,e,n){return new ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Dh(i,e){return Jm(Sr(i),Sr(e))&&i.limitType===e.limitType}function F0(i){return`${Zm(Sr(i))}|lt:${i.limitType}`}function Fs(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>z0(o)).join(", ")}]`),Ih(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>io(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>io(o)).join(",")),`Target(${a})`}(Sr(i))}; limitType=${i.limitType})`}function xh(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Se.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of Ul(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(d,m,p){const y=B_(d,m,p);return d.inclusive?y<=0:y<0}(a.startAt,Ul(a),o)||a.endAt&&!function(d,m,p){const y=B_(d,m,p);return d.inclusive?y>=0:y>0}(a.endAt,Ul(a),o))}(i,e)}function uI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function G0(i){return(e,n)=>{let a=!1;for(const o of Ul(i)){const u=cI(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function cI(i,e,n){const a=i.field.isKeyField()?Se.comparator(e.key,n.key):function(u,d,m){const p=d.data.field(u),y=m.data.field(u);return p!==null&&y!==null?ro(p,y):be(42886)}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return be(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return C0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new pt(Se.comparator);function ui(){return hI}const W0=new pt(Se.comparator);function kl(...i){let e=W0;for(const n of i)e=e.insert(n.key,n);return e}function K0(i){let e=W0;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function za(){return Bl()}function Y0(){return Bl()}function Bl(){return new Qa(i=>i.toString(),(i,e)=>i.isEqual(e))}const dI=new pt(Se.comparator),fI=new Vt(Se.comparator);function Ue(...i){let e=fI;for(const n of i)e=e.add(n);return e}const mI=new Vt(ke);function pI(){return mI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function $0(i){return{integerValue:""+i}}function gI(i,e){return HR(e)?$0(e):tp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this._=void 0}}function yI(i,e,n){return i instanceof uh?function(o,u){const d={fields:{[O0]:{stringValue:x0},[k0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qm(u)&&(u=Ch(u)),u&&(d.fields[N0]=u),{mapValue:d}}(n,e):i instanceof Yl?X0(i,e):i instanceof $l?Z0(i,e):function(o,u){const d=Q0(o,u),m=H_(d)+H_(o.Re);return _m(d)&&_m(o.Re)?$0(m):tp(o.serializer,m)}(i,e)}function vI(i,e,n){return i instanceof Yl?X0(i,e):i instanceof $l?Z0(i,e):n}function Q0(i,e){return i instanceof ch?function(a){return _m(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class uh extends Oh{}class Yl extends Oh{constructor(e){super(),this.elements=e}}function X0(i,e){const n=J0(e);for(const a of i.elements)n.some(o=>Rr(o,a))||n.push(a);return{arrayValue:{values:n}}}class $l extends Oh{constructor(e){super(),this.elements=e}}function Z0(i,e){let n=J0(e);for(const a of i.elements)n=n.filter(o=>!Rr(o,a));return{arrayValue:{values:n}}}class ch extends Oh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function H_(i){return St(i.integerValue||i.doubleValue)}function J0(i){return Xm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function _I(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof Yl&&o instanceof Yl||a instanceof $l&&o instanceof $l?no(a.elements,o.elements,Rr):a instanceof ch&&o instanceof ch?Rr(a.Re,o.Re):a instanceof uh&&o instanceof uh}(i.transform,e.transform)}class EI{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Nh{}function eT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new nT(i.key,ii.none()):new iu(i.key,i.data,ii.none());{const n=i.data,a=Hn.empty();let o=new Vt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new Xa(i.key,a,new Jn(o.toArray()),ii.none())}}function TI(i,e,n){i instanceof iu?function(o,u,d){const m=o.value.clone(),p=G_(o.fieldTransforms,u,d.transformResults);m.setAll(p),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Xa?function(o,u,d){if(!Yc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=G_(o.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(tT(o)),p.setAll(m),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function jl(i,e,n,a){return i instanceof iu?function(u,d,m,p){if(!Yc(u.precondition,d))return m;const y=u.value.clone(),E=W_(u.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(i,e,n,a):i instanceof Xa?function(u,d,m,p){if(!Yc(u.precondition,d))return m;const y=W_(u.fieldTransforms,p,d),E=d.data;return E.setAll(tT(u)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,a):function(u,d,m){return Yc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(i,e,n)}function SI(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=Q0(a.transform,o||null);u!=null&&(n===null&&(n=Hn.empty()),n.set(a.field,u))}return n||null}function F_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&no(a,o,(u,d)=>_I(u,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class iu extends Nh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xa extends Nh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function G_(i,e,n){const a=new Map;$e(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],d=u.transform,m=e.data.field(u.field);a.set(u.field,vI(d,m,n[o]))}return a}function W_(i,e,n){const a=new Map;for(const o of i){const u=o.transform,d=n.data.field(o.field);a.set(o.field,yI(u,d,e))}return a}class nT extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AI extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&TI(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=jl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=jl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=Y0();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=n.has(o.key)?null:m;const p=eT(d,m);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Ie.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(n,a)=>F_(n,a))&&no(this.baseMutations,e.baseMutations,(n,a)=>F_(n,a))}}class np{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){$e(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return dI}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new np(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,He;function II(i){switch(i){case re.OK:return be(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return be(15467,{code:i})}}function rT(i){if(i===void 0)return li("GRPC error has no .code"),re.UNKNOWN;switch(i){case It.OK:return re.OK;case It.CANCELLED:return re.CANCELLED;case It.UNKNOWN:return re.UNKNOWN;case It.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case It.INTERNAL:return re.INTERNAL;case It.UNAVAILABLE:return re.UNAVAILABLE;case It.UNAUTHENTICATED:return re.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case It.NOT_FOUND:return re.NOT_FOUND;case It.ALREADY_EXISTS:return re.ALREADY_EXISTS;case It.PERMISSION_DENIED:return re.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case It.ABORTED:return re.ABORTED;case It.OUT_OF_RANGE:return re.OUT_OF_RANGE;case It.UNIMPLEMENTED:return re.UNIMPLEMENTED;case It.DATA_LOSS:return re.DATA_LOSS;default:return be(39323,{code:i})}}(He=It||(It={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new Zi([4294967295,4294967295],0);function K_(i){const e=b0().encode(i),n=new y0;return n.update(e),new Uint8Array(n.digest())}function Y_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zi([n,a],0),new Zi([o,u],0)]}class rp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(a<0)throw new Pl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Zi.fromNumber(this.pe)}we(e,n,a){let o=e.add(n.multiply(Zi.fromNumber(a)));return o.compare(CI)===1&&(o=new Zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=K_(e),[a,o]=Y_(n);for(let u=0;u<this.hashCount;u++){const d=this.we(a,o,u);if(!this.be(d))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new rp(u,o,n);return a.forEach(m=>d.insert(m)),d}insert(e){if(this.pe===0)return;const n=K_(e),[a,o]=Y_(n);for(let u=0;u<this.hashCount;u++){const d=this.we(a,o,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new kh(Ie.min(),o,new pt(ke),ui(),Ue())}}class au{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new au(a,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,a,o){this.De=e,this.removedTargetIds=n,this.key=a,this.ve=o}}class iT{constructor(e,n){this.targetId=e,this.Ce=n}}class aT{constructor(e,n,a=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class $_{constructor(){this.Fe=0,this.Me=Q_(),this.xe=Xt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),n=Ue(),a=Ue();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:be(38017,{changeType:u})}}),new au(this.xe,this.Oe,e,n,a)}Qe(){this.Ne=!1,this.Me=Q_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,$e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class DI{constructor(e){this.ze=e,this.je=new Map,this.He=ui(),this.Je=Bc(),this.Ye=Bc(),this.Ze=new pt(ke)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const a=this.rt(n);switch(e.state){case 0:this.it(n)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((a,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,a=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Tm(u))if(a===0){const d=new Se(u.path);this.tt(n,d,rn.newNoDocument(d,Ie.min()))}else $e(a===1,20013,{expectedCount:a});else{const d=this.ut(n);if(d!==a){const m=this.ct(e),p=m?this.lt(m,e,d):1;if(p!==0){this.st(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let d,m;try{d=na(a).toUint8Array()}catch(p){if(p instanceof D0)return to("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new rp(d,o,u)}catch(p){return to(p instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,a){return n.Ce.count===a-this.Tt(e,n.targetId)?0:2}Tt(e,n){const a=this.ze.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const d=this.ze.Pt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,d)=>{const m=this._t(d);if(m){if(u.current&&Tm(m.target)){const p=new Se(m.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,rn.newNoDocument(p,e))}u.Le&&(n.set(d,u.qe()),u.Qe())}});let a=Ue();this.Ye.forEach((u,d)=>{let m=!0;d.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.He.forEach((u,d)=>d.setReadTime(e));const o=new kh(e,n,this.Ze,this.He,a);return this.He=ui(),this.Je=Bc(),this.Ye=Bc(),this.Ze=new pt(ke),o}et(e,n){if(!this.it(e))return;const a=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),a&&(this.He=this.He.insert(n,a))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new $_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Vt(ke),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Vt(ke),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new $_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new pt(Se.comparator)}function Q_(){return new pt(Se.comparator)}const xI={asc:"ASCENDING",desc:"DESCENDING"},OI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NI={and:"AND",or:"OR"};class kI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wm(i,e){return i.useProto3Json||Ih(e)?e:{value:e}}function hh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function PI(i,e){return hh(i,e.toTimestamp())}function Ar(i){return $e(!!i,49232),Ie.fromTimestamp(function(n){const a=ta(n);return new Mt(a.seconds,a.nanos)}(i))}function ip(i,e){return bm(i,e).canonicalString()}function bm(i,e){const n=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function oT(i){const e=lt.fromString(i);return $e(dT(e),10190,{key:e.toString()}),e}function Rm(i,e){return ip(i.databaseId,e.path)}function nm(i,e){const n=oT(e);if(n.get(1)!==i.databaseId.projectId)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Se(uT(n))}function lT(i,e){return ip(i.databaseId,e)}function MI(i){const e=oT(i);return e.length===4?lt.emptyPath():uT(e)}function Im(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function uT(i){return $e(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function X_(i,e,n){return{name:Rm(i,e),fields:n.value.mapValue.fields}}function VI(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?($e(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const E=y.code===void 0?re.UNKNOWN:rT(y.code);return new pe(E,y.message||"")}(d);n=new aT(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=nm(i,a.document.name),u=Ar(a.document.updateTime),d=a.document.createTime?Ar(a.document.createTime):Ie.min(),m=new Hn({mapValue:{fields:a.document.fields}}),p=rn.newFoundDocument(o,u,d,m),y=a.targetIds||[],E=a.removedTargetIds||[];n=new $c(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=nm(i,a.document),u=a.readTime?Ar(a.readTime):Ie.min(),d=rn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new $c([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=nm(i,a.document),u=a.removedTargetIds||[];n=new $c([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new RI(o,u),m=a.targetId;n=new iT(m,d)}}return n}function LI(i,e){let n;if(e instanceof iu)n={update:X_(i,e.key,e.value)};else if(e instanceof nT)n={delete:Rm(i,e.key)};else if(e instanceof Xa)n={update:X_(i,e.key,e.data),updateMask:WI(e.fieldMask)};else{if(!(e instanceof AI))return be(16599,{ft:e.type});n={verify:Rm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,d){const m=d.transform;if(m instanceof uh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ch)return{fieldPath:d.field.canonicalString(),increment:m.Re};throw be(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:PI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)}(i,e.precondition)),n}function UI(i,e){return i&&i.length>0?($e(e!==void 0,14353),i.map(n=>function(o,u){let d=o.updateTime?Ar(o.updateTime):Ar(u);return d.isEqual(Ie.min())&&(d=Ar(u)),new EI(d,o.transformResults||[])}(n,e))):[]}function BI(i,e){return{documents:[lT(i,e.path)]}}function jI(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=lT(i,o);const u=function(y){if(y.length!==0)return hT(tr.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(y){if(y.length!==0)return y.map(E=>function(A){return{field:Gs(A.field),direction:HI(A.dir)}}(E))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=wm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:n,parent:o}}function zI(i){let e=MI(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){$e(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const A=cT(w);return A instanceof tr&&B0(A)?A.getFilters():[A]}(n.where));let d=[];n.orderBy&&(d=function(w){return w.map(A=>function(N){return new lh(Ws(N.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,Ih(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,L=w.values||[];return new oh(L,A)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const A=!w.before,L=w.values||[];return new oh(L,A)}(n.endAt)),oI(e,o,d,u,m,"F",p,y)}function qI(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Ws(n.unaryFilter.field);return Ct.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ws(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ws(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ws(n.unaryFilter.field);return Ct.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(i):i.fieldFilter!==void 0?function(n){return Ct.create(Ws(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(a=>cT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(n.compositeFilter.op))}(i):be(30097,{filter:i})}function HI(i){return xI[i]}function FI(i){return OI[i]}function GI(i){return NI[i]}function Gs(i){return{fieldPath:i.canonicalString()}}function Ws(i){return Qt.fromServerFormat(i.fieldPath)}function hT(i){return i instanceof Ct?function(n){if(n.op==="=="){if(U_(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NAN"}};if(L_(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U_(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NAN"}};if(L_(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(n.field),op:FI(n.op),value:n.value}}}(i):i instanceof tr?function(n){const a=n.getFilters().map(o=>hT(o));return a.length===1?a[0]:{compositeFilter:{op:GI(n.op),filters:a}}}(i):be(54877,{filter:i})}function WI(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,a,o,u=Ie.min(),d=Ie.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.wt=e}}function YI(i){const e=zI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.Cn=new QI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ea.min())}updateCollectionGroup(e,n,a){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class QI{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Vt(lt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Vt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fT=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(fT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ao(0)}static lr(){return new ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="LruGarbageCollector",XI=1048576;function eE([i,e],[n,a]){const o=ke(i,n);return o===0?ke(e,a):o}class ZI{constructor(e){this.Er=e,this.buffer=new Vt(eE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();eE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JI{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(J_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?me(J_,"Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.mr(3e5)})}}class eC{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Rh.le);const a=new ZI(n);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.gr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Z_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let a,o,u,d,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(a=w,m=Date.now(),this.removeTargets(e,a,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(w=>(y=Date.now(),Hs()<=Le.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function tC(i,e){return new eC(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.changes=new Qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ne.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&jl(a.mutation,o,Jn.empty(),Mt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Ue()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Ue()){const o=za();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let d=kl();return u.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const a=za();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Ue()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,a,o){let u=ui();const d=Bl(),m=function(){return Bl()}();return n.forEach((p,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Xa)?u=u.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),jl(E.mutation,y,E.mutation.getFieldMask(),Mt.now())):d.set(y.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>d.set(y,E)),n.forEach((y,E)=>{var w;return m.set(y,new rC(E,(w=d.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Bl();let o=new pt((d,m)=>d-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=a.get(p)||Jn.empty();E=m.applyToLocalView(y,E),a.set(p,E);const w=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,w=Y0();E.forEach(A=>{if(!u.has(A)){const L=eT(n.get(A),a.get(A));L!==null&&w.set(A,L),u=u.add(A)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ne.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(d){return Se.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ne.resolve(za());let m=Fl,p=u;return d.next(y=>ne.forEach(y,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ue())).next(E=>({batchId:m,changes:K0(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(a=>{let o=kl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,p=>{const y=function(w,A){return new ru(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(E=>{E.forEach((w,A)=>{d=d.insert(w,A)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(d=>{u.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,rn.newInvalidDocument(E)))});let m=kl();return d.forEach((p,y)=>{const E=u.get(p);E!==void 0&&jl(E.mutation,y,Jn.empty(),Mt.now()),xh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ne.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ar(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:YI(o.bundledQuery),readTime:Ar(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.overlays=new pt(Se.comparator),this.Qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const a=za();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.St(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(a)),ne.resolve()}getOverlaysForCollection(e,n,a){const o=za(),u=n.length+1,d=new Se(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new pt((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=za(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=za(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return ne.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new bI(n,a));let u=this.Qr.get(n);u===void 0&&(u=Ue(),this.Qr.set(n,u)),this.Qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this.$r=new Vt(qt.Ur),this.Kr=new Vt(qt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const a=new qt(e,n);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.zr(new qt(e,n))}jr(e,n){e.forEach(a=>this.removeReference(a,n))}Hr(e){const n=new Se(new lt([])),a=new qt(n,e),o=new qt(n,e+1),u=[];return this.Kr.forEachInRange([a,o],d=>{this.zr(d),u.push(d.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Se(new lt([])),a=new qt(n,e),o=new qt(n,e+1);let u=Ue();return this.Kr.forEachInRange([a,o],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new qt(e,0),a=this.$r.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class qt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Se.comparator(e.key,n.key)||ke(e.Zr,n.Zr)}static Wr(e,n){return ke(e.Zr,n.Zr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Vt(qt.Ur)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new wI(u,n,a,o);this.mutationQueue.push(d);for(const m of o)this.Xr=this.Xr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(d)}lookupMutationBatch(e,n){return ne.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ti(a),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?$m:this.nr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([a,o],d=>{const m=this.ei(d.Zr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Vt(ke);return n.forEach(o=>{const u=new qt(o,0),d=new qt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,d],m=>{a=a.add(m.Zr)})}),ne.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Se.isDocumentKey(u)||(u=u.child(""));const d=new qt(new Se(u),0);let m=new Vt(ke);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Zr)),!0)},d),ne.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){$e(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return ne.forEach(n.mutations,o=>{const u=new qt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,n){const a=new qt(n,0),o=this.Xr.firstAfterOrEqual(a);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.ii=e,this.docs=function(){return new pt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,d=this.ii(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ne.resolve(a?a.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let a=ui();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))}),ne.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=ui();const d=n.path,m=new Se(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||BR(UR(E),a)<=0||(o.has(E.key)||xh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,a,o){be(9500)}si(e,n){return ne.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new cC(this)}getSize(e){return ne.resolve(this.size)}}class cC extends nC{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),ne.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.persistence=e,this.oi=new Qa(n=>Zm(n),Jm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new ap,this.targetCount=0,this.ui=ao.cr()}forEachTarget(e,n){return this.oi.forEach((a,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this._i&&(this._i=n),ne.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new ao(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Tr(n),ne.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.oi.forEach((d,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.oi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const a=this.oi.get(n)||null;return ne.resolve(a)}addMatchingKeys(e,n,a){return this.ai.Gr(n,a),ne.resolve()}removeMatchingKeys(e,n,a){this.ai.jr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const a=this.ai.Yr(n);return ne.resolve(a)}containsKey(e,n){return ne.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.ci={},this.overlays={},this.li=new Rh(0),this.hi=!1,this.hi=!0,this.Pi=new oC,this.referenceDelegate=e(this),this.Ti=new hC(this),this.indexManager=new $I,this.remoteDocumentCache=function(o){return new uC(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new KI(n),this.Ei=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ci[e.toKey()];return a||(a=new lC(n,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,a){me("MemoryPersistence","Starting transaction:",e);const o=new dC(this.li.next());return this.referenceDelegate.di(),a(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ne.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,n)))}}class dC extends zR{constructor(e){super(),this.currentSequenceNumber=e}}class sp{constructor(e){this.persistence=e,this.Vi=new ap,this.mi=null}static fi(e){return new sp(e)}get gi(){if(this.mi)return this.mi;throw be(60996)}addReference(e,n,a){return this.Vi.addReference(a,n),this.gi.delete(a.toString()),ne.resolve()}removeReference(e,n,a){return this.Vi.removeReference(a,n),this.gi.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.gi,a=>{const o=Se.fromPath(a);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Ie.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(a=>{a?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ne.or([()=>ne.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class dh{constructor(e,n){this.persistence=e,this.yi=new Qa(a=>FR(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=tC(this,n)}static fi(e,n){return new dh(e,n)}di(){}Ai(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}br(e){let n=0;return this.yr(e,a=>{n++}).next(()=>n)}yr(e,n){return ne.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,n).next(m=>{m||(a++,u.removeEntry(d,Ie.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ne.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wc(e.data.value)),n}Dr(e,n,a){return ne.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.ds=a,this.As=o}static Rs(e,n){let a=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new op(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return lb()?8:qR(an())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ws(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.bs(e,n,o,a).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new fC;return this.Ss(e,n,d).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,d,m.size)})}).next(()=>u.result)}Ds(e,n,a,o){return a.documentReadCount<this.gs?(Hs()<=Le.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ne.resolve()):(Hs()<=Le.DEBUG&&me("QueryEngine","Query:",Fs(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(Hs()<=Le.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):ne.resolve())}ws(e,n){if(q_(n))return ne.resolve(null);let a=Sr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Am(n,null,"F"),a=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const d=Ue(...u);return this.ys.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const y=this.vs(n,m);return this.Cs(n,y,d,p.readTime)?this.ws(e,Am(n,null,"F")):this.Fs(e,y,n,p)}))})))}bs(e,n,a,o){return q_(n)||o.isEqual(Ie.min())?ne.resolve(null):this.ys.getDocuments(e,a).next(u=>{const d=this.vs(n,u);return this.Cs(n,d,a,o)?ne.resolve(null):(Hs()<=Le.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fs(n)),this.Fs(e,d,n,LR(o,Fl)).next(m=>m))})}vs(e,n){let a=new Vt(G0(e));return n.forEach((o,u)=>{xh(e,u)&&(a=a.add(u))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Hs()<=Le.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.ys.getDocumentsMatchingQuery(e,n,ea.min(),a)}Fs(e,n,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="LocalStore",pC=3e8;class gC{constructor(e,n,a,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new pt(ke),this.Os=new Qa(u=>Zm(u),Jm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iC(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function yC(i,e,n,a){return new gC(i,e,n,a)}async function pT(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const d=[],m=[];let p=Ue();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(y=>({ks:y,removedBatchIds:d,addedBatchIds:m}))})})}function vC(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const w=y.batch,A=w.keys();let L=ne.resolve();return A.forEach(N=>{L=L.next(()=>E.getEntry(p,N)).next(B=>{const P=y.docVersions.get(N);$e(P!==null,48541),B.version.compareTo(P)<0&&(w.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),E.addEntry(B)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function gT(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function _C(i,e){const n=Ce(i),a=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,w)));let L=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?L=L.withResumeToken(Xt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,a)),o=o.insert(w,L),function(B,P,F){return B.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=pC?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(A,L,E)&&m.push(n.Ti.updateTargetData(u,L))});let p=ui(),y=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(EC(u,d,e.documentUpdates).next(E=>{p=E.qs,y=E.Qs})),!a.isEqual(Ie.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(w=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return ne.waitFor(m).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.xs=o,u))}function EC(i,e,n){let a=Ue(),o=Ue();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let d=ui();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):me(lp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{qs:d,Qs:o}})}function TC(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=$m),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function SC(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Ti.getTargetData(a,e).next(u=>u?(o=u,ne.resolve(o)):n.Ti.allocateTargetId(a).next(d=>(o=new Yi(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(a.targetId,a),n.Os.set(e,a.targetId)),a})}async function Cm(i,e,n){const a=Ce(i),o=a.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!go(d))throw d;me(lp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(o.target)}function tE(i,e,n){const a=Ce(i);let o=Ie.min(),u=Ue();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const w=Ce(p),A=w.Os.get(E);return A!==void 0?ne.resolve(w.xs.get(A)):w.Ti.getTargetData(y,E)}(a,d,Sr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,m.targetId).next(p=>{u=p})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,n?o:Ie.min(),n?u:Ue())).next(m=>(AC(a,uI(e),m),{documents:m,$s:u})))}function AC(i,e,n){let a=i.Ns.get(e)||Ie.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Ns.set(e,a)}class nE{constructor(){this.activeTargetIds=pI()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wC{constructor(){this.xo=new nE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,a){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new nE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="ConnectivityMonitor";class iE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(rE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(rE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function Dm(){return jc===null?jc=function(){return 268435456+Math.round(2147483648*Math.random())}():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="RestConnection",RC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IC{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===ah?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,n,a,o,u){const d=Dm(),m=this.jo(e,n.toUriEncodedString());me(rm,`Sending RPC '${e}' ${d}:`,m,a);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:y}=new URL(m),E=ho(y);return this.Jo(e,m,p,a,E).then(w=>(me(rm,`Received RPC '${e}' ${d}: `,w),w),w=>{throw to(rm,`RPC '${e}' ${d} failed with error: `,w,"url: ",m,"request:",a),w})}Yo(e,n,a,o,u,d){return this.zo(e,n,a,o,u)}Ho(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const a=RC[e];return`${this.Ko}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class DC extends IC{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const d=Dm();return new Promise((m,p)=>{const y=new v0;y.setWithCredentials(!0),y.listenOnce(_0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Gc.NO_ERROR:const w=y.getResponseJson();me(tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),m(w);break;case Gc.TIMEOUT:me(tn,`RPC '${e}' ${d} timed out`),p(new pe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const A=y.getStatus();if(me(tn,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const N=L==null?void 0:L.error;if(N&&N.status&&N.message){const B=function(F){const Y=F.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Y)>=0?Y:re.UNKNOWN}(N.status);p(new pe(B,N.message))}else p(new pe(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new pe(re.UNAVAILABLE,"Connection failed."));break;default:be(9055,{h_:e,streamId:d,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{me(tn,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);me(tn,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",E,a,15)})}I_(e,n,a){const o=Dm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=S0(),m=T0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");me(tn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=d.createWebChannel(E,p);this.E_(w);let A=!1,L=!1;const N=new CC({Zo:P=>{L?me(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(A||(me(tn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),me(tn,`RPC '${e}' stream ${o} sending:`,P),w.send(P))},Xo:()=>w.close()}),B=(P,F,Y)=>{P.listen(F,ae=>{try{Y(ae)}catch(oe){setTimeout(()=>{throw oe},0)}})};return B(w,Nl.EventType.OPEN,()=>{L||(me(tn,`RPC '${e}' stream ${o} transport opened.`),N.__())}),B(w,Nl.EventType.CLOSE,()=>{L||(L=!0,me(tn,`RPC '${e}' stream ${o} transport closed`),N.u_(),this.d_(w))}),B(w,Nl.EventType.ERROR,P=>{L||(L=!0,to(tn,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),N.u_(new pe(re.UNAVAILABLE,"The operation could not be completed")))}),B(w,Nl.EventType.MESSAGE,P=>{var F;if(!L){const Y=P.data[0];$e(!!Y,16349);const ae=Y,oe=(ae==null?void 0:ae.error)||((F=ae[0])===null||F===void 0?void 0:F.error);if(oe){me(tn,`RPC '${e}' stream ${o} received error:`,oe);const ce=oe.status;let _e=function(I){const O=It[I];if(O!==void 0)return rT(O)}(ce),C=oe.message;_e===void 0&&(_e=re.INTERNAL,C="Unknown error status: "+ce+" with message "+oe.message),L=!0,N.u_(new pe(_e,C)),w.close()}else me(tn,`RPC '${e}' stream ${o} received:`,Y),N.c_(Y)}}),B(m,E0.STAT_EVENT,P=>{P.stat===gm.PROXY?me(tn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===gm.NOPROXY&&me(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(i){return new kI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=a,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-a);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="PersistentStream";class vT{constructor(e,n,a,o,u,d,m,p){this.xi=e,this.S_=a,this.D_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new yT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.v_===n&&this.z_(a,o)},a=>{e(()=>{const o=new pe(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(o)})})}z_(e,n){const a=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.j_(o))}),this.stream.onMessage(o=>{a(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return me(aE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(me(aE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xC extends vT{constructor(e,n,a,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=VI(this.serializer,e),a=function(u){if(!("targetChange"in u))return Ie.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?Ar(d.readTime):Ie.min()}(e);return this.listener.Y_(n,a)}Z_(e){const n={};n.database=Im(this.serializer),n.addTarget=function(u,d){let m;const p=d.target;if(m=Tm(p)?{documents:BI(u,p)}:{query:jI(u,p).gt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=sT(u,d.resumeToken);const y=wm(u,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ie.min())>0){m.readTime=hh(u,d.snapshotVersion.toTimestamp());const y=wm(u,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const a=qI(this.serializer,e);a&&(n.labels=a),this.Q_(n)}X_(e){const n={};n.database=Im(this.serializer),n.removeTarget=e,this.Q_(n)}}class OC extends vT{constructor(e,n,a,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=UI(e.writeResults,e.commitTime),a=Ar(e.commitTime);return this.listener.ra(a,n)}ia(){const e={};e.database=Im(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>LI(this.serializer,a))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{}class kC extends NC{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.zo(e,bm(n,a),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(re.UNKNOWN,u.toString())})}Yo(e,n,a,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Yo(e,bm(n,a),o,d,m,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(re.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class PC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(li(n),this.ua=!1):me("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="RemoteStore";class MC{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(d=>{a.enqueueAndForget(async()=>{Za(this)&&(me(Ga,"Restarting streams for network reachability change."),await async function(p){const y=Ce(p);y.da.add(4),await su(y),y.Va.set("Unknown"),y.da.delete(4),await Mh(y)}(this))})}),this.Va=new PC(a,o)}}async function Mh(i){if(Za(i))for(const e of i.Aa)await e(!0)}async function su(i){for(const e of i.Aa)await e(!1)}function _T(i,e){const n=Ce(i);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),dp(n)?hp(n):yo(n).N_()&&cp(n,e))}function up(i,e){const n=Ce(i),a=yo(n);n.Ea.delete(e),a.N_()&&ET(n,e),n.Ea.size===0&&(a.N_()?a.k_():Za(n)&&n.Va.set("Unknown"))}function cp(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yo(i).Z_(e)}function ET(i,e){i.ma.Ke(e),yo(i).X_(e)}function hp(i){i.ma=new DI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),yo(i).start(),i.Va.ca()}function dp(i){return Za(i)&&!yo(i).O_()&&i.Ea.size>0}function Za(i){return Ce(i).da.size===0}function TT(i){i.ma=void 0}async function VC(i){i.Va.set("Online")}async function LC(i){i.Ea.forEach((e,n)=>{cp(i,e)})}async function UC(i,e){TT(i),dp(i)?(i.Va.Pa(e),hp(i)):i.Va.set("Unknown")}async function BC(i,e,n){if(i.Va.set("Online"),e instanceof aT&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ea.delete(m),o.ma.removeTarget(m))}(i,e)}catch(a){me(Ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await fh(i,a)}else if(e instanceof $c?i.ma.Xe(e):e instanceof iT?i.ma.ot(e):i.ma.nt(e),!n.isEqual(Ie.min()))try{const a=await gT(i.localStore);n.compareTo(a)>=0&&await function(u,d){const m=u.ma.It(d);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ea.get(y);E&&u.Ea.set(y,E.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,y)=>{const E=u.Ea.get(p);if(!E)return;u.Ea.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),ET(u,p);const w=new Yi(E.target,p,y,E.sequenceNumber);cp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(a){me(Ga,"Failed to raise snapshot:",a),await fh(i,a)}}async function fh(i,e,n){if(!go(e))throw e;i.da.add(1),await su(i),i.Va.set("Offline"),n||(n=()=>gT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(Ga,"Retrying IndexedDB access"),await n(),i.da.delete(1),await Mh(i)})}function ST(i,e){return e().catch(n=>fh(i,n,e))}async function Vh(i){const e=Ce(i),n=ia(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:$m;for(;jC(e);)try{const o=await TC(e.localStore,a);if(o===null){e.Ia.length===0&&n.k_();break}a=o.batchId,zC(e,o)}catch(o){await fh(e,o)}AT(e)&&wT(e)}function jC(i){return Za(i)&&i.Ia.length<10}function zC(i,e){i.Ia.push(e);const n=ia(i);n.N_()&&n.ea&&n.ta(e.mutations)}function AT(i){return Za(i)&&!ia(i).O_()&&i.Ia.length>0}function wT(i){ia(i).start()}async function qC(i){ia(i).ia()}async function HC(i){const e=ia(i);for(const n of i.Ia)e.ta(n.mutations)}async function FC(i,e,n){const a=i.Ia.shift(),o=np.from(a,e,n);await ST(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Vh(i)}async function GC(i,e){e&&ia(i).ea&&await async function(a,o){if(function(d){return II(d)&&d!==re.ABORTED}(o.code)){const u=a.Ia.shift();ia(a).L_(),await ST(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Vh(a)}}(i,e),AT(i)&&wT(i)}async function sE(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),me(Ga,"RemoteStore received new credentials");const a=Za(n);n.da.add(3),await su(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Mh(n)}async function WC(i,e){const n=Ce(i);e?(n.da.delete(2),await Mh(n)):e||(n.da.add(2),await su(n),n.Va.set("Unknown"))}function yo(i){return i.fa||(i.fa=function(n,a,o){const u=Ce(n);return u.oa(),new xC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:VC.bind(null,i),n_:LC.bind(null,i),i_:UC.bind(null,i),Y_:BC.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),dp(i)?hp(i):i.Va.set("Unknown")):(await i.fa.stop(),TT(i))})),i.fa}function ia(i){return i.ga||(i.ga=function(n,a,o){const u=Ce(n);return u.oa(),new OC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:qC.bind(null,i),i_:GC.bind(null,i),na:HC.bind(null,i),ra:FC.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await Vh(i)):(await i.ga.stop(),i.Ia.length>0&&(me(Ga,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const d=Date.now()+a,m=new fp(e,n,d,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(i,e){if(li("AsyncQueue",`${e}: ${i}`),go(i))return new pe(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{static emptySet(e){return new Ys(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Se.comparator(n.key,a.key):(n,a)=>Se.comparator(n.key,a.key),this.keyedMap=kl(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ys)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Ys;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.pa=new pt(Se.comparator)}track(e){const n=e.doc.key,a=this.pa.get(n);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(n,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(n):e.type===1&&a.type===2?this.pa=this.pa.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,a)=>{e.push(a)}),e}}class so{constructor(e,n,a,o,u,d,m,p,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,o,u){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new so(e,n,Ys.emptySet(n),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class YC{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ce(n),u=o.queries;o.queries=lE(),u.forEach((d,m)=>{for(const p of m.Sa)p.onError(a)})})(this,new pe(re.ABORTED,"Firestore shutting down"))}}function lE(){return new Qa(i=>F0(i),Dh)}async function bT(i,e){const n=Ce(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(a=2):(u=new KC,a=e.va()?0:1);try{switch(a){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=mp(d,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&pp(n)}async function RT(i,e){const n=Ce(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function $C(i,e){const n=Ce(i);let a=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const m of d.Sa)m.Ma(o)&&(a=!0);d.ba=o}}a&&pp(n)}function QC(i,e,n){const a=Ce(i),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function pp(i){i.Ca.forEach(e=>{e.next()})}var xm,uE;(uE=xm||(xm={})).xa="default",uE.Cache="cache";class IT{constructor(e,n,a){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new so(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const a=n!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.key=e}}class DT{constructor(e){this.key=e}}class XC{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.Za=G0(e),this.Xa=new Ys(this.Za)}get eu(){return this.Ha}tu(e,n){const a=n?n.nu:new oE,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),L=xh(this.query,w)?w:null,N=!!A&&this.mutatedKeys.has(A.key),B=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let P=!1;A&&L?A.data.isEqual(L.data)?N!==B&&(a.track({type:3,doc:L}),P=!0):this.ru(A,L)||(a.track({type:2,doc:L}),P=!0,(p&&this.Za(L,p)>0||y&&this.Za(L,y)<0)&&(m=!0)):!A&&L?(a.track({type:0,doc:L}),P=!0):A&&!L&&(a.track({type:1,doc:A}),P=!0,(p||y)&&(m=!0)),P&&(L?(d=d.add(L),u=B?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{Xa:d,nu:a,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((E,w)=>function(L,N){const B=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:P})}};return B(L)-B(N)}(E.type,w.type)||this.Za(E.doc,w.doc)),this.iu(a),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Ja;return this.Ja=p,d.length!==0||y?{snapshot:new so(this.query,e.Xa,u,d,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new oE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const n=[];return e.forEach(a=>{this.Ya.has(a)||n.push(new DT(a))}),this.Ya.forEach(a=>{e.has(a)||n.push(new CT(a))}),n}au(e){this.Ha=e.$s,this.Ya=Ue();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return so.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const gp="SyncEngine";class ZC{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class JC{constructor(e){this.key=e,this.cu=!1}}class eD{constructor(e,n,a,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new Qa(m=>F0(m),Dh),this.Pu=new Map,this.Tu=new Set,this.Iu=new pt(Se.comparator),this.Eu=new Map,this.du=new ap,this.Au={},this.Ru=new Map,this.Vu=ao.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function tD(i,e,n=!0){const a=MT(i);let o;const u=a.hu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await xT(a,e,n,!0),o}async function nD(i,e){const n=MT(i);await xT(n,e,!0,!1)}async function xT(i,e,n,a){const o=await SC(i.localStore,Sr(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await rD(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&_T(i.remoteStore,o),m}async function rD(i,e,n,a,o){i.fu=(w,A,L)=>async function(B,P,F,Y){let ae=P.view.tu(F);ae.Cs&&(ae=await tE(B.localStore,P.query,!1).then(({documents:C})=>P.view.tu(C,ae)));const oe=Y&&Y.targetChanges.get(P.targetId),ce=Y&&Y.targetMismatches.get(P.targetId)!=null,_e=P.view.applyChanges(ae,B.isPrimaryClient,oe,ce);return hE(B,P.targetId,_e.ou),_e.snapshot}(i,w,A,L);const u=await tE(i.localStore,e,!0),d=new XC(e,u.$s),m=d.tu(u.documents),p=au.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),y=d.applyChanges(m,i.isPrimaryClient,p);hE(i,n,y.ou);const E=new ZC(e,n,d);return i.hu.set(e,E),i.Pu.has(n)?i.Pu.get(n).push(e):i.Pu.set(n,[e]),y.snapshot}async function iD(i,e,n){const a=Ce(i),o=a.hu.get(e),u=a.Pu.get(o.targetId);if(u.length>1)return a.Pu.set(o.targetId,u.filter(d=>!Dh(d,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Cm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&up(a.remoteStore,o.targetId),Om(a,o.targetId)}).catch(po)):(Om(a,o.targetId),await Cm(a.localStore,o.targetId,!0))}async function aD(i,e){const n=Ce(i),a=n.hu.get(e),o=n.Pu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),up(n.remoteStore,a.targetId))}async function sD(i,e,n){const a=fD(i);try{const o=await function(d,m){const p=Ce(d),y=Mt.now(),E=m.reduce((L,N)=>L.add(N.key),Ue());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let N=ui(),B=Ue();return p.Bs.getEntries(L,E).next(P=>{N=P,N.forEach((F,Y)=>{Y.isValidDocument()||(B=B.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,N)).next(P=>{w=P;const F=[];for(const Y of m){const ae=SI(Y,w.get(Y.key).overlayedDocument);ae!=null&&F.push(new Xa(Y.key,ae,V0(ae.value.mapValue),ii.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,F,m)}).next(P=>{A=P;const F=P.applyToLocalDocumentSet(w,B);return p.documentOverlayCache.saveOverlays(L,P.batchId,F)})}).then(()=>({batchId:A.batchId,changes:K0(w)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,m,p){let y=d.Au[d.currentUser.toKey()];y||(y=new pt(ke)),y=y.insert(m,p),d.Au[d.currentUser.toKey()]=y}(a,o.batchId,n),await ou(a,o.changes),await Vh(a.remoteStore)}catch(o){const u=mp(o,"Failed to persist write");n.reject(u)}}async function OT(i,e){const n=Ce(i);try{const a=await _C(n.localStore,e);e.targetChanges.forEach((o,u)=>{const d=n.Eu.get(u);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.cu=!0:o.modifiedDocuments.size>0?$e(d.cu,14607):o.removedDocuments.size>0&&($e(d.cu,42227),d.cu=!1))}),await ou(n,a,e)}catch(a){await po(a)}}function cE(i,e,n){const a=Ce(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.hu.forEach((u,d)=>{const m=d.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const p=Ce(d);p.onlineState=m;let y=!1;p.queries.forEach((E,w)=>{for(const A of w.Sa)A.Fa(m)&&(y=!0)}),y&&pp(p)}(a.eventManager,e),o.length&&a.lu.Y_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function oD(i,e,n){const a=Ce(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Eu.get(e),u=o&&o.key;if(u){let d=new pt(Se.comparator);d=d.insert(u,rn.newNoDocument(u,Ie.min()));const m=Ue().add(u),p=new kh(Ie.min(),new Map,new pt(ke),d,m);await OT(a,p),a.Iu=a.Iu.remove(u),a.Eu.delete(e),yp(a)}else await Cm(a.localStore,e,!1).then(()=>Om(a,e,n)).catch(po)}async function lD(i,e){const n=Ce(i),a=e.batch.batchId;try{const o=await vC(n.localStore,e);kT(n,a,null),NT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await ou(n,o)}catch(o){await po(o)}}async function uD(i,e,n){const a=Ce(i);try{const o=await function(d,m){const p=Ce(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>($e(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(a.localStore,e);kT(a,e,n),NT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await ou(a,o)}catch(o){await po(o)}}function NT(i,e){(i.Ru.get(e)||[]).forEach(n=>{n.resolve()}),i.Ru.delete(e)}function kT(i,e,n){const a=Ce(i);let o=a.Au[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Au[a.currentUser.toKey()]=o}}function Om(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Pu.get(e))i.hu.delete(a),n&&i.lu.gu(a,n);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(a=>{i.du.containsKey(a)||PT(i,a)})}function PT(i,e){i.Tu.delete(e.path.canonicalString());const n=i.Iu.get(e);n!==null&&(up(i.remoteStore,n),i.Iu=i.Iu.remove(e),i.Eu.delete(n),yp(i))}function hE(i,e,n){for(const a of n)a instanceof CT?(i.du.addReference(a.key,e),cD(i,a)):a instanceof DT?(me(gp,"Document no longer in limbo: "+a.key),i.du.removeReference(a.key,e),i.du.containsKey(a.key)||PT(i,a.key)):be(19791,{pu:a})}function cD(i,e){const n=e.key,a=n.path.canonicalString();i.Iu.get(n)||i.Tu.has(a)||(me(gp,"New document in limbo: "+n),i.Tu.add(a),yp(i))}function yp(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const n=new Se(lt.fromString(e)),a=i.Vu.next();i.Eu.set(a,new JC(n)),i.Iu=i.Iu.insert(n,a),_T(i.remoteStore,new Yi(Sr(ep(n.path)),a,"TargetPurposeLimboResolution",Rh.le))}}async function ou(i,e,n){const a=Ce(i),o=[],u=[],d=[];a.hu.isEmpty()||(a.hu.forEach((m,p)=>{d.push(a.fu(p,e,n).then(y=>{var E;if((y||n)&&a.isPrimaryClient){const w=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=op.Rs(p.targetId,y);u.push(w)}}))}),await Promise.all(d),a.lu.Y_(o),await async function(p,y){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(y,A=>ne.forEach(A.ds,L=>E.persistence.referenceDelegate.addReference(w,A.targetId,L)).next(()=>ne.forEach(A.As,L=>E.persistence.referenceDelegate.removeReference(w,A.targetId,L)))))}catch(w){if(!go(w))throw w;me(lp,"Failed to update sequence numbers: "+w)}for(const w of y){const A=w.targetId;if(!w.fromCache){const L=E.xs.get(A),N=L.snapshotVersion,B=L.withLastLimboFreeSnapshotVersion(N);E.xs=E.xs.insert(A,B)}}}(a.localStore,u))}async function hD(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){me(gp,"User change. New user:",e.toKey());const a=await pT(n.localStore,e);n.currentUser=e,function(u,d){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new pe(re.CANCELLED,d))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ou(n,a.ks)}}function dD(i,e){const n=Ce(i),a=n.Eu.get(e);if(a&&a.cu)return Ue().add(a.key);{let o=Ue();const u=n.Pu.get(e);if(!u)return o;for(const d of u){const m=n.hu.get(d);o=o.unionWith(m.view.eu)}return o}}function MT(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=OT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oD.bind(null,e),e.lu.Y_=$C.bind(null,e.eventManager),e.lu.gu=QC.bind(null,e.eventManager),e}function fD(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uD.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return yC(this.persistence,new mC,e.initialUser,this.serializer)}Su(e){return new mT(sp.fi,this.serializer)}bu(e){return new wC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class mD extends mh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){$e(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new JI(a,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new mT(a=>dh.fi(a,n),this.serializer)}}class Nm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>cE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=hD.bind(null,this.syncEngine),await WC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YC}()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),a=function(u){return new DC(u)}(e.databaseInfo);return function(u,d,m,p){return new kC(u,d,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,d,m){return new MC(a,o,u,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>cE(this.syncEngine,n,0),function(){return iE.C()?new iE:new bC}())}createSyncEngine(e,n){return function(o,u,d,m,p,y,E){const w=new eD(o,u,d,m,p,y);return E&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ce(o);me(Ga,"RemoteStore shutting down."),u.da.add(5),await su(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Nm.provider={build:()=>new Nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="FirestoreClient";class pD{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=R0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async d=>{me(aa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(me(aa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=mp(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function am(i,e){i.asyncQueue.verifyOperationInProgress(),me(aa,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await pT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function dE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await gD(i);me(aa,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>sE(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>sE(e.remoteStore,o)),i._onlineComponents=e}async function gD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(aa,"Using user provided OfflineComponentProvider");try{await am(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await am(i,new mh)}}else me(aa,"Using default OfflineComponentProvider"),await am(i,new mD(void 0));return i._offlineComponents}async function LT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(aa,"Using user provided OnlineComponentProvider"),await dE(i,i._uninitializedComponentsProvider._online)):(me(aa,"Using default OnlineComponentProvider"),await dE(i,new Nm))),i._onlineComponents}function yD(i){return LT(i).then(e=>e.syncEngine)}async function UT(i){const e=await LT(i),n=e.eventManager;return n.onListen=tD.bind(null,e.syncEngine),n.onUnlisten=iD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aD.bind(null,e.syncEngine),n}function vD(i,e,n={}){const a=new ri;return i.asyncQueue.enqueueAndForget(async()=>function(u,d,m,p,y){const E=new VT({next:A=>{E.xu(),d.enqueueAndForget(()=>RT(u,w));const L=A.docs.has(m);!L&&A.fromCache?y.reject(new pe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&A.fromCache&&p&&p.source==="server"?y.reject(new pe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new IT(ep(m.path),E,{includeMetadataChanges:!0,Qa:!0});return bT(u,w)}(await UT(i),i.asyncQueue,e,n,a)),a.promise}function _D(i,e,n={}){const a=new ri;return i.asyncQueue.enqueueAndForget(async()=>function(u,d,m,p,y){const E=new VT({next:A=>{E.xu(),d.enqueueAndForget(()=>RT(u,w)),A.fromCache&&p.source==="server"?y.reject(new pe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new IT(m,E,{includeMetadataChanges:!0,Qa:!0});return bT(u,w)}(await UT(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(i,e,n){if(!n)throw new pe(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ED(i,e,n,a){if(e===!0&&a===!0)throw new pe(re.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function mE(i){if(!Se.isDocumentKey(i))throw new pe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function pE(i){if(Se.isDocumentKey(i))throw new pe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Lh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be(12329,{type:typeof i})}function Wa(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(i);throw new pe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firestore.googleapis.com",gE=!0;class yE{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zT,this.ssl=gE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:gE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XI)throw new pe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ED("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new CR;switch(a.type){case"firstParty":return new NR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=fE.get(n);a&&(me("ComponentProvider","Removing Datastore"),fE.delete(n),a.terminate())}(this),Promise.resolve()}}function TD(i,e,n,a={}){var o;i=Wa(i,Uh);const u=ho(e),d=i._getSettings(),m=Object.assign(Object.assign({},d),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u&&(u0(`https://${p}`),c0("Firestore",!0)),d.host!==zT&&d.host!==p&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},d),{host:p,ssl:u,emulatorOptions:a});if(!qa(y,m)&&(i._setSettings(y),a.mockUserToken)){let E,w;if(typeof a.mockUserToken=="string")E=a.mockUserToken,w=nn.MOCK_USER;else{E=J1(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new pe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new nn(A)}i._authCredentials=new DR(new w0(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class pn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class Ji extends vo{constructor(e,n,a){super(e,n,ep(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new Se(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function SD(i,e,...n){if(i=cn(i),jT("collection","path",e),i instanceof Uh){const a=lt.fromString(e,...n);return pE(a),new Ji(i,null,a)}{if(!(i instanceof pn||i instanceof Ji))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(lt.fromString(e,...n));return pE(a),new Ji(i.firestore,null,a)}}function $s(i,e,...n){if(i=cn(i),arguments.length===1&&(e=R0.newId()),jT("doc","path",e),i instanceof Uh){const a=lt.fromString(e,...n);return mE(a),new pn(i,null,new Se(a))}{if(!(i instanceof pn||i instanceof Ji))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(lt.fromString(e,...n));return mE(a),new pn(i.firestore,i instanceof Ji?i.converter:null,new Se(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="AsyncQueue";class _E{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new yT(this,"async_queue_retry"),this.rc=()=>{const a=im();a&&me(vE,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ri;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!go(e))throw e;me(vE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,li("INTERNAL UNHANDLED ERROR: ",EE(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=n,n}enqueueAfterDelay(e,n,a){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=fp.createAndSchedule(this,e,n,a,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&be(47125,{cc:EE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function EE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Bh extends Uh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new _E,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _E(e),this._firestoreClient=void 0,await e}}}function qT(i,e){const n=typeof i=="object"?i:m0(),a=typeof i=="string"?i:ah,o=Km(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=X1("firestore");u&&TD(o,...u)}return o}function vp(i){if(i._terminated)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||AD(i),i._firestoreClient}function AD(i){var e,n,a;const o=i._freezeSettings(),u=function(m,p,y,E){return new KR(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,BT(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new pD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(Xt.fromBase64String(e))}catch(n){throw new pe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oo(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=/^__.*__$/;class bD{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}function FT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ic:i})}}class Sp{constructor(e,n,a,o,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Sp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:a,Rc:!1});return o.Vc(e),o}mc(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:a,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return ph(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(FT(this.Ic)&&wD.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class RD{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Ph(e)}bc(e,n,a,o=!1){return new Sp({Ic:e,methodName:n,wc:a,path:Qt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GT(i){const e=i._freezeSettings(),n=Ph(i._databaseId);return new RD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function ID(i,e,n,a,o,u={}){const d=i.bc(u.merge||u.mergeFields?2:0,e,n,o);YT("Data must be an object, but it was:",d,a);const m=WT(a,d);let p,y;if(u.merge)p=new Jn(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=DD(e,w,n);if(!d.contains(A))throw new pe(re.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);OD(E,A)||E.push(A)}p=new Jn(E),y=d.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=d.fieldTransforms;return new bD(new Hn(m),p,y)}function CD(i,e,n,a=!1){return Ap(n,i.bc(a?4:3,e))}function Ap(i,e){if(KT(i=cn(i)))return YT("Unsupported field value:",e,i),WT(i,e);if(i instanceof HT)return function(a,o){if(!FT(o.Ic))throw o.gc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,o){const u=[];let d=0;for(const m of a){let p=Ap(m,o.fc(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}}(i,e)}return function(a,o){if((a=cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return gI(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Mt.fromDate(a);return{timestampValue:hh(o.serializer,u)}}if(a instanceof Mt){const u=new Mt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:hh(o.serializer,u)}}if(a instanceof Ep)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof oo)return{bytesValue:sT(o.serializer,a._byteString)};if(a instanceof pn){const u=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw o.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ip(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Tp)return function(d,m){return{mapValue:{fields:{[P0]:{stringValue:M0},[sh]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.gc("VectorValues must only contain numeric values.");return tp(m.serializer,y)})}}}}}}(a,o);throw o.gc(`Unsupported field value: ${Lh(a)}`)}(i,e)}function WT(i,e){const n={};return C0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(i,(a,o)=>{const u=Ap(o,e.Ac(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function KT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Mt||i instanceof Ep||i instanceof oo||i instanceof pn||i instanceof HT||i instanceof Tp)}function YT(i,e,n){if(!KT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=Lh(n);throw a==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+a)}}function DD(i,e,n){if((e=cn(e))instanceof _p)return e._internalPath;if(typeof e=="string")return $T(i,e);throw ph("Field path arguments must be of type string or ",i,!1,void 0,n)}const xD=new RegExp("[~\\*/\\[\\]]");function $T(i,e,n){if(e.search(xD)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new _p(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function ph(i,e,n,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new pe(re.INVALID_ARGUMENT,m+i+p)}function OD(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ND(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ND extends QT{data(){return super.data()}}function wp(i,e){return typeof e=="string"?$T(i,e):e instanceof _p?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bp{}class PD extends bp{}function MD(i,e,...n){let a=[];e instanceof bp&&a.push(e),a=a.concat(n),function(u){const d=u.filter(p=>p instanceof Rp).length,m=u.filter(p=>p instanceof jh).length;if(d>1||d>0&&m>0)throw new pe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)i=o._apply(i);return i}class jh extends PD{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new jh(e,n,a)}_apply(e){const n=this._parse(e);return XT(e._query,n),new vo(e.firestore,e.converter,Sm(e._query,n))}_parse(e){const n=GT(e.firestore);return function(u,d,m,p,y,E,w){let A;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new pe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){SE(w,E);const N=[];for(const B of w)N.push(TE(p,u,B));A={arrayValue:{values:N}}}else A=TE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||SE(w,E),A=CD(m,d,w,E==="in"||E==="not-in");return Ct.create(y,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function VD(i,e,n){const a=e,o=wp("where",i);return jh._create(o,a,n)}class Rp extends bp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rp(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let d=o;const m=u.getFlattenedFilters();for(const p of m)XT(d,p),d=Sm(d,p)}(e._query,n),new vo(e.firestore,e.converter,Sm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function TE(i,e,n){if(typeof(n=cn(n))=="string"){if(n==="")throw new pe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H0(e)&&n.indexOf("/")!==-1)throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(lt.fromString(n));if(!Se.isDocumentKey(a))throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return V_(i,new Se(a))}if(n instanceof pn)return V_(i,n._key);throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function SE(i,e){if(!Array.isArray(i)||i.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XT(i,e){const n=function(o,u){for(const d of o)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LD{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return $a(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[sh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>St(d.doubleValue));return new Tp(u)}convertGeoPoint(e){return new Ep(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Ch(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=ta(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=lt.fromString(e);$e(dT(a),9688,{name:e});const o=new Wl(a.get(1),a.get(3)),u=new Se(a.popFirst(5));return o.isEqual(n)||li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(i,e,n){let a;return a=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZT extends QT{constructor(e,n,a,o,u,d){super(e,n,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(wp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class Qc extends ZT{data(e={}){return super.data(e)}}class BD{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ml(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new Qc(this._firestore,this._userDataWriter,a.key,a,new Ml(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const p=new Qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ml(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ml(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:jD(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(i){i=Wa(i,pn);const e=Wa(i.firestore,Bh);return vD(vp(e),i._key).then(n=>HD(e,i,n))}class JT extends LD{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function zD(i){i=Wa(i,vo);const e=Wa(i.firestore,Bh),n=vp(e),a=new JT(e);return kD(i._query),_D(n,i._query).then(o=>new BD(e,a,i,o))}function km(i,e,n){i=Wa(i,pn);const a=Wa(i.firestore,Bh),o=UD(i.converter,e,n);return qD(a,[ID(GT(a),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,ii.none())])}function qD(i,e){return function(a,o){const u=new ri;return a.asyncQueue.enqueueAndForget(async()=>sD(await yD(a),o,u)),u.promise}(vp(i),e)}function HD(i,e,n){const a=n.docs.get(e._key),o=new JT(i);return new ZT(i,o,e._key,a,new Ml(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){mo=o})(fo),eo(new Ha("firestore",(a,{instanceIdentifier:o,options:u})=>{const d=a.getProvider("app").getImmediate(),m=new Bh(new xR(a.getProvider("auth-internal")),new kR(d,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(y.options.projectId,E)}(d,o),d);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Xi(w_,b_,e),Xi(w_,b_,"esm2017")})();function Cp(i,e){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n}function eS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FD=eS,tS=new tu("auth","Firebase",eS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Gm("@firebase/auth");function GD(i,...e){gh.logLevel<=Le.WARN&&gh.warn(`Auth (${fo}): ${i}`,...e)}function Xc(i,...e){gh.logLevel<=Le.ERROR&&gh.error(`Auth (${fo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(i,...e){throw Dp(i,...e)}function wr(i,...e){return Dp(i,...e)}function nS(i,e,n){const a=Object.assign(Object.assign({},FD()),{[e]:n});return new tu("auth","Firebase",a).create(e,{appName:i.name})}function ai(i){return nS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dp(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return tS.create(i,...e)}function Te(i,e,...n){if(!i)throw Dp(e,...n)}function ei(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Xc(e),new Error(e)}function ci(i,e){i||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function WD(){return AE()==="http:"||AE()==="https:"}function AE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WD()||ab()||"connection"in navigator)?navigator.onLine:!0}function YD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=nb()||sb()}get(){return KD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(i,e){ci(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XD=new lu(3e4,6e4);function Ir(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Cr(i,e,n,a,o={}){return iS(i,o,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const m=nu(Object.assign({key:i.config.apiKey},d)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:p},u);return ib()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&ho(i.emulatorConfig.host)&&(y.credentials="include"),rS.fetch()(await aS(i,i.config.apiHost,n,m),y)})}async function iS(i,e,n){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},$D),e);try{const o=new JD(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw zc(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(i,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw zc(i,"email-already-in-use",d);if(p==="USER_DISABLED")throw zc(i,"user-disabled",d);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw nS(i,E,y);nr(i,E)}}catch(o){if(o instanceof fi)throw o;nr(i,"network-request-failed",{message:String(o)})}}async function uu(i,e,n,a,o={}){const u=await Cr(i,e,n,a,o);return"mfaPendingCredential"in u&&nr(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function aS(i,e,n,a){const o=`${e}${n}?${a}`,u=i,d=u.config.emulator?xp(i.config,o):`${i.config.apiScheme}://${o}`;return QD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function ZD(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(wr(this.auth,"network-request-failed")),XD.get())})}}function zc(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=wr(i,e,a);return o.customData._tokenResponse=n,o}function wE(i){return i!==void 0&&i.enterprise!==void 0}class e2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function t2(i,e){return Cr(i,"GET","/v2/recaptchaConfig",Ir(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(i,e){return Cr(i,"POST","/v1/accounts:delete",e)}async function yh(i,e){return Cr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r2(i,e=!1){const n=cn(i),a=await n.getIdToken(e),o=Op(a);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:zl(sm(o.auth_time)),issuedAtTime:zl(sm(o.iat)),expirationTime:zl(sm(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function sm(i){return Number(i)*1e3}function Op(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=a0(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function bE(i){const e=Op(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof fi&&i2(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function i2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(i){var e;const n=i.auth,a=await i.getIdToken(),o=await Ql(i,yh(n,{idToken:a}));Te(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?sS(u.providerUserInfo):[],m=o2(i.providerData,d),p=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Mm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function s2(i){const e=cn(i);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function o2(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function sS(i){return i.map(e=>{var{providerId:n}=e,a=Cp(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(i,e){const n=await iS(i,{},async()=>{const a=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=await aS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return i.emulatorConfig&&ho(i.emulatorConfig.host)&&(p.credentials="include"),rS.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u2(i,e){return Cr(i,"POST","/v2/accounts:revokeToken",Ir(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=bE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await l2(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,d=new Qs;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qs,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=Cp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Mm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return r2(this,e)}reload(){return s2(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await Ql(this,n2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,d,m,p,y,E;const w=(a=n.displayName)!==null&&a!==void 0?a:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,L=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(d=n.photoURL)!==null&&d!==void 0?d:void 0,B=(m=n.tenantId)!==null&&m!==void 0?m:void 0,P=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,F=(y=n.createdAt)!==null&&y!==void 0?y:void 0,Y=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ae,emailVerified:oe,isAnonymous:ce,providerData:_e,stsTokenManager:C}=n;Te(ae&&C,e,"internal-error");const b=Qs.fromJSON(this.name,C);Te(typeof ae=="string",e,"internal-error"),qi(w,e.name),qi(A,e.name),Te(typeof oe=="boolean",e,"internal-error"),Te(typeof ce=="boolean",e,"internal-error"),qi(L,e.name),qi(N,e.name),qi(B,e.name),qi(P,e.name),qi(F,e.name),qi(Y,e.name);const I=new er({uid:ae,auth:e,email:A,emailVerified:oe,displayName:w,isAnonymous:ce,photoURL:N,phoneNumber:L,tenantId:B,stsTokenManager:b,createdAt:F,lastLoginAt:Y});return _e&&Array.isArray(_e)&&(I.providerData=_e.map(O=>Object.assign({},O))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,a=!1){const o=new Qs;o.updateFromServerResponse(n);const u=new er({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await vh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?sS(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Qs;m.updateFromIdToken(a);const p=new er({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;function ti(i){ci(i instanceof Function,"Expected a class definition");let e=RE.get(i);return e?(ci(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,RE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oS.type="NONE";const IE=oS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(i,e,n){return`firebase:${i}:${e}:${n}`}class Xs{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Xs(ti(IE),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ti(IE);const d=Zc(a,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(d);if(E){let w;if(typeof E=="string"){const A=await yh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await er._fromGetAccountInfoResponse(e,A,E)}else w=er._fromJSON(e,E);y!==u&&(m=w),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Xs(u,e,a):(u=p[0],m&&await u._set(d,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new Xs(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fS(e))return"Blackberry";if(mS(e))return"Webos";if(uS(e))return"Safari";if((e.includes("chrome/")||cS(e))&&!e.includes("edge/"))return"Chrome";if(dS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function lS(i=an()){return/firefox\//i.test(i)}function uS(i=an()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cS(i=an()){return/crios\//i.test(i)}function hS(i=an()){return/iemobile/i.test(i)}function dS(i=an()){return/android/i.test(i)}function fS(i=an()){return/blackberry/i.test(i)}function mS(i=an()){return/webos/i.test(i)}function Np(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function c2(i=an()){var e;return Np(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h2(){return ob()&&document.documentMode===10}function pS(i=an()){return Np(i)||dS(i)||mS(i)||fS(i)||/windows phone/i.test(i)||hS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(i,e=[]){let n;switch(i){case"Browser":n=CE(an());break;case"Worker":n=`${CE(an())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((d,m)=>{try{const p=e(u);d(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(i,e={}){return Cr(i,"GET","/v2/passwordPolicy",Ir(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=6;class p2{constructor(e){var n,a,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:m2,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,d,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new d2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Xs.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),a=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(ai(this));const n=e?cn(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f2(this),n=new p2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await u2(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Xs.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&GD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sa(i){return cn(i)}class DE{constructor(e){this.auth=e,this.observer=null,this.addObserver=pb(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y2(i){zh=i}function yS(i){return zh.loadJS(i)}function v2(){return zh.recaptchaEnterpriseScript}function _2(){return zh.gapiScript}function E2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class T2{constructor(){this.enterprise=new S2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class S2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const A2="recaptcha-enterprise",vS="NO_RECAPTCHA";class w2{constructor(e){this.type=A2,this.auth=sa(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,m)=>{t2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new e2(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,d,m){const p=window.grecaptcha;wE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(vS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new T2().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{a(this.auth).then(m=>{if(!n&&wE(window.grecaptcha))o(m,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=v2();p.length!==0&&(p+=m),yS(p).then(()=>{o(m,u,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function xE(i,e,n,a=!1,o=!1){const u=new w2(i);let d;if(o)d=vS;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function _h(i,e,n,a,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await xE(i,e,n,n==="getOobCode");return a(i,d)}else return a(i,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await xE(i,e,n,n==="getOobCode");return a(i,m)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(i,e){const n=Km(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(qa(u,e??{}))return o;nr(o,"already-initialized")}return n.initialize({options:e})}function R2(i,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(ti);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function I2(i,e,n){const a=sa(i);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=_S(e),{host:d,port:m}=C2(e),p=m===null?"":`:${m}`,y={url:`${u}//${d}${p}/`},E=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(qa(y,a.config.emulator)&&qa(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,ho(d)?(u0(`${u}//${d}${p}`),c0("Auth",!0)):D2()}function _S(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function C2(i){const e=_S(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:OE(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:OE(d)}}}function OE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function D2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(i,e){return Cr(i,"POST","/v1/accounts:resetPassword",Ir(i,e))}async function O2(i,e){return Cr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(i,e){return uu(i,"POST","/v1/accounts:signInWithPassword",Ir(i,e))}async function k2(i,e){return Cr(i,"POST","/v1/accounts:sendOobCode",Ir(i,e))}async function P2(i,e){return k2(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(i,e){return uu(i,"POST","/v1/accounts:signInWithEmailLink",Ir(i,e))}async function V2(i,e){return uu(i,"POST","/v1/accounts:signInWithEmailLink",Ir(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends kp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Xl(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Xl(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,n,"signInWithPassword",N2);case"emailLink":return M2(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,a,"signUpPassword",O2);case"emailLink":return V2(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(i,e){return uu(i,"POST","/v1/accounts:signInWithIdp",Ir(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="http://localhost";class Ka extends kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=Cp(n,["providerId","signInMethod"]);if(!a||!o)return null;const d=new Ka(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Zs(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Zs(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zs(e,n)}buildRequest(){const e={requestUri:L2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B2(i){const e=xl(Ol(i)).link,n=e?xl(Ol(e)).deep_link_id:null,a=xl(Ol(i)).deep_link_id;return(a?xl(Ol(a)).link:null)||a||n||e||i}class Pp{constructor(e){var n,a,o,u,d,m;const p=xl(Ol(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(a=p.oobCode)!==null&&a!==void 0?a:null,w=U2((o=p.mode)!==null&&o!==void 0?o:null);Te(y&&E&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=p.lang)!==null&&d!==void 0?d:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=B2(e);try{return new Pp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,n){return Xl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Pp.parseLink(n);return Te(a,"argument-error"),Xl._fromEmailAndCode(e,a.code,a.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends ES{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends cu{constructor(){super("facebook.com")}static credential(e){return Ka._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ka._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Gi.credential(n,a)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends cu{constructor(){super("github.com")}static credential(e){return Ka._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends cu{constructor(){super("twitter.com")}static credential(e,n){return Ka._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ki.credential(n,a)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(i,e){return uu(i,"POST","/v1/accounts:signUp",Ir(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await er._fromIdTokenResponse(e,a,o),d=NE(a);return new Ya({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=NE(a);return new Ya({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function NE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends fi{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Eh(e,n,a,o)}}function TS(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(i,u,e,a):u})}async function z2(i,e,n=!1){const a=await Ql(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ya._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(i,e,n=!1){const{auth:a}=i;if(qn(a.app))return Promise.reject(ai(a));const o="reauthenticate";try{const u=await Ql(i,TS(a,o,e,i),n);Te(u.idToken,a,"internal-error");const d=Op(u.idToken);Te(d,a,"internal-error");const{sub:m}=d;return Te(i.uid===m,a,"user-mismatch"),Ya._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&nr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(i,e,n=!1){if(qn(i.app))return Promise.reject(ai(i));const a="signIn",o=await TS(i,a,e),u=await Ya._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(u.user),u}async function H2(i,e){return SS(sa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(i,e,n){var a;Te(((a=n.url)===null||a===void 0?void 0:a.length)>0,i,"invalid-continue-uri"),Te(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,i,"invalid-dynamic-link-domain"),Te(typeof n.linkDomain>"u"||n.linkDomain.length>0,i,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Te(n.iOS.bundleId.length>0,i,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Te(n.android.packageName.length>0,i,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(i){const e=sa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function G2(i,e,n){const a=sa(i),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&F2(a,o,n),await _h(a,o,"getOobCode",P2)}async function W2(i,e,n){await x2(cn(i),{oobCode:e,newPassword:n}).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Mp(i),a})}async function K2(i,e,n){if(qn(i.app))return Promise.reject(ai(i));const a=sa(i),d=await _h(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Mp(i),p}),m=await Ya._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(m.user),m}function Y2(i,e,n){return qn(i.app)?Promise.reject(ai(i)):H2(cn(i),_o.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Mp(i),a})}function $2(i,e,n,a){return cn(i).onIdTokenChanged(e,n,a)}function Q2(i,e,n){return cn(i).beforeAuthStateChanged(e,n)}function X2(i){return cn(i).signOut()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=1e3,J2=10;class wS extends AS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);h2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,J2):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},Z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wS.type="LOCAL";const ex=wS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends AS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bS.type="SESSION";const RS=bS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new qh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(d).map(async y=>y(n.origin,u)),p=await tx(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((m,p)=>{const y=Vp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function rx(i){br().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function ix(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ax(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function sx(){return IS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firebaseLocalStorageDb",ox=1,Sh="firebaseLocalStorage",DS="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(i,e){return i.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function lx(){const i=indexedDB.deleteDatabase(CS);return new hu(i).toPromise()}function Vm(){const i=indexedDB.open(CS,ox);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Sh,{keyPath:DS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Sh)?e(a):(a.close(),await lx(),e(await Vm()))})})}async function kE(i,e,n){const a=Hh(i,!0).put({[DS]:e,value:n});return new hu(a).toPromise()}async function ux(i,e){const n=Hh(i,!1).get(e),a=await new hu(n).toPromise();return a===void 0?null:a.value}function PE(i,e){const n=Hh(i,!0).delete(e);return new hu(n).toPromise()}const cx=800,hx=3;class xS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>hx)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(sx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ix(),!this.activeServiceWorker)return;this.sender=new nx(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ax()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await kE(e,Th,"1"),await PE(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>kE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>ux(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Hh(o,!1).getAll();return new hu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xS.type="LOCAL";const dx=xS;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(i,e){return e?ti(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mx(i){return SS(i.auth,new Lp(i),i.bypassAuthState)}function px(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),q2(n,new Lp(i),i.bypassAuthState)}async function gx(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),z2(n,new Lp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mx;case"linkViaPopup":case"linkViaRedirect":return gx;case"reauthViaPopup":case"reauthViaRedirect":return px;default:nr(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=new lu(2e3,1e4);class Ks extends OS{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yx.get())};e()}}Ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="pendingRedirect",Jc=new Map;class _x extends OS{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const a=await Ex(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ex(i,e){const n=Ax(e),a=Sx(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function Tx(i,e){Jc.set(i._key(),e)}function Sx(i){return ti(i._redirectPersistence)}function Ax(i){return Zc(vx,i.config.apiKey,i.name)}async function wx(i,e,n=!1){if(qn(i.app))return Promise.reject(ai(i));const a=sa(i),o=fx(a,e),d=await new _x(a,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=10*60*1e3;class Rx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ix(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!NS(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(wr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bx&&this.cachedEventUids.clear(),this.cachedEventUids.has(ME(e))}saveEventToCache(e){this.cachedEventUids.add(ME(e)),this.lastProcessedEventTime=Date.now()}}function ME(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function NS({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ix(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(i,e={}){return Cr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xx=/^https?/;async function Ox(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Cx(i);for(const n of e)try{if(Nx(n))return}catch{}nr(i,"unauthorized-domain")}function Nx(i){const e=Pm(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!xx.test(n))return!1;if(Dx.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new lu(3e4,6e4);function VE(){const i=br().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Px(i){return new Promise((e,n)=>{var a,o,u;function d(){VE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VE(),n(wr(i,"network-request-failed"))},timeout:kx.get()})}if(!((o=(a=br().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=br().gapi)===null||u===void 0)&&u.load)d();else{const m=E2("iframefcb");return br()[m]=()=>{gapi.load?d():n(wr(i,"network-request-failed"))},yS(`${_2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw eh=null,e})}let eh=null;function Mx(i){return eh=eh||Px(i),eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=new lu(5e3,15e3),Lx="__/auth/iframe",Ux="emulator/auth/iframe",Bx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zx(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?xp(e,Ux):`https://${i.config.authDomain}/${Lx}`,a={apiKey:e.apiKey,appName:i.name,v:fo},o=jx.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${nu(a).slice(1)}`}async function qx(i){const e=await Mx(i),n=br().gapi;return Te(n,i,"internal-error"),e.open({where:document.body,url:zx(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bx,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=wr(i,"network-request-failed"),m=br().setTimeout(()=>{u(d)},Vx.get());function p(){br().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fx=500,Gx=600,Wx="_blank",Kx="http://localhost";class LE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yx(i,e,n,a=Fx,o=Gx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},Hx),{width:a.toString(),height:o.toString(),top:u,left:d}),y=an().toLowerCase();n&&(m=cS(y)?Wx:n),lS(y)&&(e=e||Kx,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[L,N])=>`${A}${L}=${N},`,"");if(c2(y)&&m!=="_self")return $x(e||"",m),new LE(null);const w=window.open(e||"",m,E);Te(w,i,"popup-blocked");try{w.focus()}catch{}return new LE(w)}function $x(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="__/auth/handler",Xx="emulator/auth/handler",Zx=encodeURIComponent("fac");async function UE(i,e,n,a,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:fo,eventId:o};if(e instanceof ES){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",mb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(e instanceof cu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}i.tenantId&&(d.tid=i.tenantId);const m=d;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),y=p?`#${Zx}=${encodeURIComponent(p)}`:"";return`${Jx(i)}?${nu(m).slice(1)}${y}`}function Jx({config:i}){return i.emulator?xp(i,Xx):`https://${i.authDomain}/${Qx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="webStorageSupport";class eO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RS,this._completeRedirectFn=wx,this._overrideRedirectResult=Tx}async _openPopup(e,n,a,o){var u;ci((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await UE(e,n,a,Pm(),o);return Yx(e,d,Vp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await UE(e,n,a,Pm(),o);return rx(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ci(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await qx(e),a=new Rx(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(om,{type:om},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[om];d!==void 0&&n(!!d),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ox(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pS()||uS()||Np()}}const tO=eO;var BE="@firebase/auth",jE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iO(i){eo(new Ha("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gS(i)},y=new g2(a,o,u,p);return R2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),eo(new Ha("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(a=>new nO(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(BE,jE,rO(i)),Xi(BE,jE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=5*60,sO=l0("authIdTokenMaxAge")||aO;let zE=null;const oO=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>sO)return;const o=n==null?void 0:n.token;zE!==o&&(zE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Up(i=m0()){const e=Km(i,"auth");if(e.isInitialized())return e.getImmediate();const n=b2(i,{popupRedirectResolver:tO,persistence:[dx,ex,RS]}),a=l0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=oO(u.toString());Q2(n,d,()=>d(n.currentUser)),$2(n,m=>d(m))}}const o=s0("auth");return o&&I2(n,`http://${o}`),n}function lO(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}y2({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=wr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",lO().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iO("Browser");const uO={apiKey:"AIzaSyAnxdDZYy7fORDOLkEo_PDrUEZvRbaJhhQ",authDomain:"expense-data-bfdd6.firebaseapp.com",projectId:"expense-data-bfdd6",storageBucket:"expense-data-bfdd6.firebasestorage.app",messagingSenderId:"196857111949",appId:"1:196857111949:web:0362d2bdcae88fc67549c4",measurementId:"G-VVHSQYQ164"},kS=f0(uO),Js=qT(kS),Bp=Up(kS);function cO(){let[i,e]=z.useState([]);const[n,a]=z.useState([]),[o,u]=z.useState(0),[d,m]=z.useState("Sort By"),[p,y]=z.useState(2),[E,w]=z.useState("Find By"),[A,L]=z.useState(i),[N,B]=z.useState(!1),[P,F]=z.useState("0"),[Y,ae]=z.useState(!1),oe=localStorage.getItem("uid");z.useEffect(()=>{if(!oe)return;document.getElementById("noData").innerHTML='Loading your Data<div class="text-loader"></div>',(async()=>{const ee=$s(Js,"users",oe),le=await Ip(ee);if(le.exists()){const De=le.data().data||[];document.getElementById("noData").innerHTML="Data Loaded.",setTimeout(()=>{e(De),a(De)},500),setTimeout(()=>{document.getElementById("noData").innerHTML="No Expenses!"},700)}ae(!0)})()},[oe]),z.useEffect(()=>{if(!oe||!Y||N)return;(async()=>{const ee=$s(Js,"users",oe);await km(ee,{data:n},{merge:!0})})()},[n,N,oe,Y]);function ce(){p==0?(w("Price"),y(1)):p==1?(w("Date"),y(2)):p==2&&(w("Name"),y(0))}const _e=J=>{if(!J.trim()&&n.length!=0){L(i),F("0");return}const ee=i.filter(le=>{if(E=="Name"||E=="Find By")return le.itemName.toLowerCase().includes(J.toLowerCase());if(E=="Price")return le.itemPrice.includes(J);if(E=="Date")return le.itemDate.includes(J)});ee.length==0?F("1"):F("0"),L(ee)};z.useEffect(()=>{n.length==0?F("1"):F("0")},[n]);function C(J){const[ee,le,De]=J.split("-");return new Date(`${De}-${le}-${ee}`)}function b(){let J=0;return n.forEach(ee=>{let le=0;ee.itemPrice=="None"?le="0$":le=ee.itemPrice;const De=parseFloat(le.replace("$",""));J+=De}),`${J}$`}function I(J,ee){if(document.getElementById(`modal${ee}`).style.display="flex",document.getElementById(`modalOverlay${ee}`).style.display="flex",document.getElementById("wrapper").style.filter="blur(5px)",document.getElementById("btnModalAdd").style.opacity=.5,document.getElementById("btnModalAdd").style.pointerEvents="none",document.querySelector(`#modalOverlay${ee} #menuWrapper #corner1`).style.animation="none",document.querySelector(`#modalOverlay${ee} #menuWrapper #corner2`).style.animation="none",document.querySelector(`#modalOverlay${ee} #menuWrapper #corner3`).style.animation="none",document.querySelector(`#modalOverlay${ee} #menuWrapper #corner4`).style.animation="none",setTimeout(()=>{document.querySelector(`#modalOverlay${ee} #menuWrapper #corner1`).style.opacity=1,document.querySelector(`#modalOverlay${ee} #menuWrapper #corner2`).style.opacity=1,document.querySelector(`#modalOverlay${ee} #menuWrapper #corner3`).style.opacity=1,document.querySelector(`#modalOverlay${ee} #menuWrapper #corner4`).style.opacity=1},100),setTimeout(()=>{document.getElementById(`modal${ee}`).style.opacity="1"},300),document.querySelector(`#modalOverlay${ee} #menuWrapper #corner1`).style.animation="0.35s openCorner1 linear forwards",document.querySelector(`#modalOverlay${ee} #menuWrapper #corner2`).style.animation="0.35s openCorner2 linear forwards",document.querySelector(`#modalOverlay${ee} #menuWrapper #corner3`).style.animation="0.35s openCorner3 linear forwards",document.querySelector(`#modalOverlay${ee} #menuWrapper #corner4`).style.animation="0.35s openCorner4 linear forwards",ee=="Update")n.map((le,De)=>{De==J&&(document.getElementById(`${ee.toLowerCase()}ModalNameData`).value="",document.getElementById(`${ee.toLowerCase()}ModalPriceData`).value="",document.getElementById(`${ee.toLowerCase()}ModalDateData`).value="",document.getElementById(`${ee.toLowerCase()}ModalNameData`).placeholder=le.itemName.trim(),document.getElementById(`${ee.toLowerCase()}ModalNameData`).setAttribute("data-key",De),document.getElementById(`${ee.toLowerCase()}ModalPriceData`).placeholder=le.itemPrice.replace("$","").trim(),document.getElementById(`${ee.toLowerCase()}ModalDateData`).placeholder=le.itemDate)});else if(ee=="Add")document.getElementById(`${ee.toLowerCase()}ModalNameData`).value="",document.getElementById(`${ee.toLowerCase()}ModalPriceData`).value="",document.getElementById(`${ee.toLowerCase()}ModalDateData`).value="";else if(ee=="Delete")document.getElementById("btnModalDelete").setAttribute("indexKey",J),n.map((le,De)=>{De==J&&(document.getElementById("namePText").textContent="Name : "+le.itemName,document.getElementById("pricePText").textContent="Price : "+le.itemPrice,document.getElementById("datePText").textContent="Date : "+le.itemDate)});else if(ee=="DeleteAll"){let le="";n.length>0?n.forEach(De=>{le+=`
                        <p id="namePText">Name : ${De.itemName}</p>
                        <p id="pricePText">Price : ${De.itemPrice}</p>
                        <p id="datePText">Date : ${De.itemDate}</p>
                        <div className="divider1" style="border: 1px solid var(--color7); width: 100%; display: block; margin: 0.5em 0 0.5em 0"></div>
                    `}):le+='<div className="noData" id="noData">No Expenses!</div>',document.getElementById("deleteAllData").innerHTML=le}}function O(J,ee){document.querySelector(`#${J} #menuWrapper #corner1`).style.animation="none",document.querySelector(`#${J} #menuWrapper #corner2`).style.animation="none",document.querySelector(`#${J} #menuWrapper #corner3`).style.animation="none",document.querySelector(`#${J} #menuWrapper #corner4`).style.animation="none",document.querySelector(`#${J} #menuWrapper #corner1`).style.opacity=1,document.querySelector(`#${J} #menuWrapper #corner2`).style.opacity=1,document.querySelector(`#${J} #menuWrapper #corner3`).style.opacity=1,document.querySelector(`#${J} #menuWrapper #corner4`).style.opacity=1,document.getElementById(ee).style.opacity="0",setTimeout(()=>{document.getElementById(J).style.display="none",document.getElementById(ee).style.display="none",document.querySelector(`#${J} #menuWrapper #corner1`).style.animation="none",document.querySelector(`#${J} #menuWrapper #corner2`).style.animation="none",document.querySelector(`#${J} #menuWrapper #corner3`).style.animation="none",document.querySelector(`#${J} #menuWrapper #corner4`).style.animation="none"},300),document.querySelector(`#${J} #menuWrapper #corner1`).style.animation="0.35s closeCorner1 linear forwards",document.querySelector(`#${J} #menuWrapper #corner2`).style.animation="0.35s closeCorner2 linear forwards",document.querySelector(`#${J} #menuWrapper #corner3`).style.animation="0.35s closeCorner3 linear forwards",document.querySelector(`#${J} #menuWrapper #corner4`).style.animation="0.35s closeCorner4 linear forwards",setTimeout(()=>{document.querySelector(`#${J} #menuWrapper #corner1`).style.opacity=0,document.querySelector(`#${J} #menuWrapper #corner2`).style.opacity=0,document.querySelector(`#${J} #menuWrapper #corner3`).style.opacity=0,document.querySelector(`#${J} #menuWrapper #corner4`).style.opacity=0,document.getElementById("wrapper").style.filter="blur(0px)"},300)}function V(){let J=document.getElementById("btnModalDelete").getAttribute("indexKey");a(n.filter((ee,le)=>le!=J)),O("modalOverlayDelete","modalDelete")}function j(){a([]),e([]),L([]),O("modalOverlayDeleteAll","modalDeleteAll")}function x(){document.getElementById("addModalNameData").value==""?(document.getElementById("btnModalAdd").style.opacity=.5,document.getElementById("btnModalAdd").style.pointerEvents="none"):(document.getElementById("btnModalAdd").style.opacity=1,document.getElementById("btnModalAdd").style.pointerEvents="auto")}function Dt(){const J=document.getElementById("addModalNameData").value,ee=document.getElementById("addModalPriceData").value,le=document.getElementById("addModalDateData").value;let at=J.split(",").filter(Fe=>isNaN(Fe)&&isNaN(parseFloat(Fe))),Qe=ee.split(",").filter(Fe=>typeof Fe=="number"?!0:typeof Fe=="string"?/^-?\d+(\.\d+)?$/.test(Fe.trim()):!1);const et=Fe=>{if(!/^([0-2][0-9]|3[0-1])-(0[1-9]|1[0-2])-\d{4}$/.test(Fe))return!1;const[Wn,Cn,fe]=Fe.split("-").map(Number),gn=new Date(fe,Cn-1,Wn);return gn.getFullYear()===fe&&gn.getMonth()===Cn-1&&gn.getDate()===Wn},Ht=le.split(",").map(Fe=>Fe.trim()).filter(et),Rn=at.map((Fe,In)=>({itemName:Fe||"None",itemPrice:Qe[In]?`${Qe[In]}$`:"None",itemDate:Ht[In]||"None"}));a(Fe=>[...Fe,...Rn]),O("modalOverlayAdd","modalAdd")}function ut(){const J=document.getElementById("updateModalNameData").value,ee=document.getElementById("updateModalPriceData").value;let le=document.getElementById("updateModalDateData").value;const De=document.getElementById("updateModalNameData").getAttribute("data-key"),at=parseInt(De);let ct;isNaN(J)&&isNaN(parseFloat(J))&&(ct=J);let Qe;typeof ee=="number"?Qe=parseFloat(ee):typeof ee=="string"&&/^-?\d+(\.\d+)?$/.test(ee.trim())&&(Qe=parseFloat(ee.trim()));const et=n[at];/^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[0-2])-\d{4}$/.test(le)||(le=et.itemDate);const Ht={itemName:ct||et.itemName,itemPrice:Qe?`${Qe}$`:et.itemPrice,itemDate:le||et.itemDate},Rn=[...n];Rn[at]=Ht,a(Rn),O("modalOverlayUpdate","modalUpdate")}function Q(){const J=[...n];o==0?(m("A-Z"),u(1),J.sort((ee,le)=>ee.itemName.localeCompare(le.itemName)),a(J)):o==1?(m("Z-A"),u(2),J.sort((ee,le)=>le.itemName.localeCompare(ee.itemName)),a(J)):o==2?(m("0-1"),u(3),J.sort((ee,le)=>ee.itemPrice.replace("$","")-le.itemPrice.replace("$","")),a(J)):o==3?(m("1-0"),u(4),J.sort((ee,le)=>le.itemPrice.replace("$","")-ee.itemPrice.replace("$","")),a(J)):o==4?(m("00-00-0000"),u(5),J.sort((ee,le)=>C(ee.itemDate)-C(le.itemDate)),a(J)):o==5&&(m("11-11-1111"),u(0),J.sort((ee,le)=>C(le.itemDate)-C(ee.itemDate)),a(J))}let he,ye,Be;(()=>{window.innerWidth<=450?(he="6em",ye="6em",Be="7.75em"):(he="2.75em",ye="5em",Be="8.75em")})();const[ie,de]=z.useState(!1),se=z.useRef(!1);z.useEffect(()=>{se.current=ie},[ie]),z.useEffect(()=>{const J=ee=>{var Wn,Cn;const le=document.getElementById("modalOverlayUpdate"),De=document.getElementById("modalOverlayAdd"),at=document.getElementById("modalOverlayDelete"),ct=document.getElementById("modalOverlayInfo"),Qe=document.getElementById("modalOverlayDeleteAll"),et=document.getElementById("modalOverlayLogout"),Gn=(le==null?void 0:le.style.display)==="flex"||(De==null?void 0:De.style.display)==="flex"||(at==null?void 0:at.style.display)==="flex"||(ct==null?void 0:ct.style.display)==="flex"||(Qe==null?void 0:Qe.style.display)==="flex"||(et==null?void 0:et.style.display)==="flex";let Ht=document;(le==null?void 0:le.style.display)==="flex"?Ht=le:(De==null?void 0:De.style.display)==="flex"?Ht=De:(at==null?void 0:at.style.display)==="flex"?Ht=at:(ct==null?void 0:ct.style.display)==="flex"?Ht=ct:(Qe==null?void 0:Qe.style.display)==="flex"?Ht=Qe:(et==null?void 0:et.style.display)==="flex"&&(Ht=et);const Rn=()=>Array.from(Ht.querySelectorAll('[tabindex="0"]')),Fe=document.activeElement,In=Fe&&(Fe.tagName==="INPUT"||Fe.tagName==="TEXTAREA"||Fe.isContentEditable);if(!Gn&&!In){if(ee.key.toLowerCase()==="a"){const fe=document.getElementById("btnAddOpen");fe&&fe.click()}if(ee.key.toLowerCase()==="f"){const fe=document.getElementById("findBtn");fe&&fe.click()}if(ee.key.toLowerCase()==="s"){const fe=document.getElementById("sortBtn");fe&&fe.click()}if(ee.key.toLowerCase()==="t"){const fe=document.getElementById("themeBtn");fe&&fe.click()}if(ee.key.toLowerCase()==="i"){const fe=document.getElementById("infoBtn");fe&&fe.click()}if(ee.key.toLowerCase()==="l"){const fe=document.getElementById("btnLogoutOpen");fe&&fe.click()}if((ee.ctrlKey||ee.metaKey)&&ee.key.toLowerCase()==="d"){ee.preventDefault();const fe=document.getElementById("btnDeleteAllOpen");fe&&fe.click()}if((ee.ctrlKey||ee.metaKey)&&ee.key.toLowerCase()==="k"){ee.preventDefault();const fe=document.getElementById("findInput");fe&&fe.focus()}}if(ee.key==="Enter"&&!se.current){if((le==null?void 0:le.style.display)==="flex"){const fe=document.getElementById("btnModalUpdate");fe&&fe.click()}else if((De==null?void 0:De.style.display)==="flex"){const fe=document.getElementById("btnModalAdd");fe&&fe.click()}else if((at==null?void 0:at.style.display)==="flex"){const fe=document.getElementById("btnModalDelete");fe&&fe.click()}else if((Qe==null?void 0:Qe.style.display)==="flex"){const fe=document.getElementById("btnModalDeleteAll");fe&&fe.click()}else if((et==null?void 0:et.style.display)==="flex"){const fe=document.getElementById("btnModalLogout");fe&&fe.click()}}if(["ArrowDown"].includes(ee.key)||["ArrowRight"].includes(ee.key)&&!In){ee.preventDefault(),de(!0);const fe=Rn(),Dn=(fe.indexOf(document.activeElement)+1)%fe.length;(Wn=fe[Dn])==null||Wn.focus()}if(["ArrowUp"].includes(ee.key)||["ArrowLeft"].includes(ee.key)&&!In){ee.preventDefault(),de(!0);const fe=Rn(),gn=fe.indexOf(document.activeElement),Dn=gn===0?fe.length-1:gn-1;(Cn=fe[Dn])==null||Cn.focus()}if(ee.key==="Enter"&&se.current){ee.preventDefault();const fe=document.activeElement;fe&&(fe.classList.add("key-press-active"),setTimeout(()=>{fe.classList.remove("key-press-active")},100),["mousedown","mouseup","click"].forEach(gn=>{const Dn=new MouseEvent(gn,{bubbles:!0,cancelable:!0,view:window});fe.dispatchEvent(Dn)}))}if(ee.key==="Escape"){if(de(!1),document.activeElement.blur(),(le==null?void 0:le.style.display)==="flex"){const fe=document.getElementById("cancelBtnUpdate");fe&&fe.click()}else if((De==null?void 0:De.style.display)==="flex"){const fe=document.getElementById("cancelBtnAdd");fe&&fe.click()}else if((at==null?void 0:at.style.display)==="flex"){const fe=document.getElementById("cancelBtnDelete");fe&&fe.click()}else if((ct==null?void 0:ct.style.display)==="flex"){const fe=document.getElementById("cancelBtnInfo");fe&&fe.click()}else if((Qe==null?void 0:Qe.style.display)==="flex"){const fe=document.getElementById("cancelBtnDeleteAll");fe&&fe.click()}else if((et==null?void 0:et.style.display)==="flex"){const fe=document.getElementById("cancelBtnLogout");fe&&fe.click()}}};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[]);const Ee=di(),Oe=async()=>{await X2(Bp),localStorage.removeItem("loggedInUsername"),O("modalOverlayLogout","modalLogout"),setTimeout(()=>{Ee("/Expense-Data/Login")},300)};return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"wrapper",id:"wrapper",children:[R.jsxs("div",{className:"main",id:"main",children:[R.jsxs("div",{className:"topBar",children:[R.jsx("h1",{children:"Expense Data"}),R.jsxs("div",{className:"topBarBtns",children:[R.jsx(Ye,{btnID:"infoBtn",clickData:()=>I(null,"Info"),width:he,btnName:"i"}),R.jsx(eu,{btnWidth:ye,displayMode:"flex"})]})]}),R.jsxs("div",{className:"search",children:[R.jsx("input",{tabIndex:0,autoComplete:"off",placeholder:"Find Expenses",onFocus:()=>B(!0),onBlur:()=>B(!1),id:"findInput",onChange:J=>_e(J.target.value)}),R.jsx("div",{className:"searchBtns",children:R.jsx(Ye,{btnID:"findBtn",clickData:ce,width:Be,btnName:E})})]}),R.jsx("div",{className:"sortBtns",children:R.jsx(Ye,{btnID:"sortBtn",clickData:Q,width:"7.75em",btnName:d})}),R.jsxs("div",{className:"dataItems",children:[R.jsx("div",{className:"noData",id:"noData",style:{opacity:P},children:"No Expenses!"}),(N?A:n).map((J,ee)=>R.jsxs(lw.Fragment,{children:[R.jsxs("div",{className:"item",children:[R.jsxs("div",{className:"itemData",children:[R.jsxs("span",{className:"itemIndex",children:["[ ",ee," ]"]}),R.jsx("span",{className:"itemName",children:J.itemName}),R.jsxs("span",{style:{fontWeight:"bold"},className:"itemExpense",children:["- ",J.itemPrice]})]}),R.jsxs("div",{className:"dataBtns",children:[R.jsx("span",{className:"itemDate",children:J.itemDate}),R.jsx(Ye,{clickData:()=>I(ee,"Update"),width:"7em",btnName:"Update"}),R.jsx(Ye,{clickData:()=>I(ee,"Delete"),width:"7em",btnName:"Delete"})]})]}),R.jsx("div",{className:"divider"})]},ee))]})]}),R.jsxs("div",{className:"bottomBar",children:[R.jsx("div",{className:"total",children:R.jsxs("span",{children:["TOTAL : ",R.jsx("span",{style:{fontWeight:"bold"},children:b()})]})}),R.jsxs("div",{className:"bBtns",children:[R.jsx("div",{className:"logoutBtn",children:R.jsx(Ye,{btnID:"btnLogoutOpen",clickData:()=>I(null,"Logout"),width:"100%",height:"2.5em",btnName:"Logout"})}),R.jsx("div",{className:"deleteAllBtn",children:R.jsx(Ye,{btnID:"btnDeleteAllOpen",clickData:()=>I(null,"DeleteAll"),width:"100%",height:"2.5em",btnName:"Delete All"})}),R.jsx("div",{className:"addItemBtn",children:R.jsx(Ye,{btnID:"btnAddOpen",clickData:()=>I(null,"Add"),width:"100%",height:"2.5em",btnName:"Add Expense"})})]})]})]}),R.jsx("div",{className:"modalOverlay",id:"modalOverlayUpdate",children:R.jsxs("div",{className:"menuWrapper",id:"menuWrapper",children:[R.jsx("div",{className:"corner1",id:"corner1"}),R.jsx("div",{className:"corner2",id:"corner2"}),R.jsx("div",{className:"corner3",id:"corner3"}),R.jsx("div",{className:"corner4",id:"corner4"}),R.jsxs("div",{className:"modal",id:"modalUpdate",children:[R.jsx("h1",{children:"Update Expense"}),R.jsx("input",{tabIndex:0,autoComplete:"off",id:"updateModalNameData",type:"text"}),R.jsx("input",{tabIndex:0,autoComplete:"off",id:"updateModalPriceData",type:"text"}),R.jsx("input",{tabIndex:0,autoComplete:"off",id:"updateModalDateData",type:"text"}),R.jsxs("div",{className:"modalBtns",children:[R.jsx(Ye,{clickData:()=>O("modalOverlayUpdate","modalUpdate"),width:"7em",btnID:"cancelBtnUpdate",btnName:"Cancel"}),R.jsx(Ye,{clickData:ut,btnID:"btnModalUpdate",width:"7em",btnName:"Update"})]})]})]})}),R.jsx("div",{className:"modalOverlay",id:"modalOverlayAdd",children:R.jsxs("div",{className:"menuWrapper",id:"menuWrapper",children:[R.jsx("div",{className:"corner1",id:"corner1"}),R.jsx("div",{className:"corner2",id:"corner2"}),R.jsx("div",{className:"corner3",id:"corner3"}),R.jsx("div",{className:"corner4",id:"corner4"}),R.jsxs("div",{className:"modal",id:"modalAdd",children:[R.jsx("h1",{children:"Add Expense"}),R.jsx("input",{tabIndex:0,autoComplete:"off",id:"addModalNameData",type:"text",placeholder:"Name",onChange:x}),R.jsx("input",{tabIndex:0,autoComplete:"off",id:"addModalPriceData",type:"text",placeholder:"Price",onChange:x}),R.jsx("input",{tabIndex:0,autoComplete:"off",id:"addModalDateData",type:"text",placeholder:"Date[DD-MM-YYYY]",onChange:x}),R.jsxs("div",{className:"modalBtns",children:[R.jsx(Ye,{clickData:()=>O("modalOverlayAdd","modalAdd"),width:"7em",btnID:"cancelBtnAdd",btnName:"Cancel"}),R.jsx(Ye,{clickData:Dt,btnID:"btnModalAdd",width:"7em",btnName:"Add"})]})]})]})}),R.jsx("div",{className:"modalOverlay",id:"modalOverlayDelete",children:R.jsxs("div",{className:"menuWrapper",id:"menuWrapper",children:[R.jsx("div",{className:"corner1",id:"corner1"}),R.jsx("div",{className:"corner2",id:"corner2"}),R.jsx("div",{className:"corner3",id:"corner3"}),R.jsx("div",{className:"corner4",id:"corner4"}),R.jsxs("div",{className:"modal",id:"modalDelete",children:[R.jsx("h1",{children:"Delete Expense?"}),R.jsxs("div",{className:"deleteData",children:[R.jsx("p",{id:"namePText"}),R.jsx("p",{id:"pricePText"}),R.jsx("p",{id:"datePText"})]}),R.jsxs("div",{className:"modalBtns",children:[R.jsx(Ye,{clickData:()=>O("modalOverlayDelete","modalDelete"),width:"7em",btnID:"cancelBtnDelete",btnName:"Cancel"}),R.jsx(Ye,{clickData:()=>V(),btnID:"btnModalDelete",width:"7em",btnName:"Delete"})]})]})]})}),R.jsx("div",{className:"modalOverlay",id:"modalOverlayDeleteAll",children:R.jsxs("div",{className:"menuWrapper",id:"menuWrapper",children:[R.jsx("div",{className:"corner1",id:"corner1"}),R.jsx("div",{className:"corner2",id:"corner2"}),R.jsx("div",{className:"corner3",id:"corner3"}),R.jsx("div",{className:"corner4",id:"corner4"}),R.jsxs("div",{className:"modal",id:"modalDeleteAll",children:[R.jsx("h1",{children:"Delete All?"}),R.jsx("div",{className:"deleteAllData",id:"deleteAllData"}),R.jsxs("div",{className:"modalBtns",children:[R.jsx(Ye,{clickData:()=>O("modalOverlayDeleteAll","modalDeleteAll"),width:"7em",btnID:"cancelBtnDeleteAll",btnName:"Cancel"}),R.jsx(Ye,{clickData:j,btnID:"btnModalDeleteAll",width:"7em",btnName:"Delete"})]})]})]})}),R.jsx("div",{className:"modalOverlay",id:"modalOverlayInfo",children:R.jsxs("div",{className:"menuWrapper",id:"menuWrapper",children:[R.jsx("div",{className:"corner1",id:"corner1"}),R.jsx("div",{className:"corner2",id:"corner2"}),R.jsx("div",{className:"corner3",id:"corner3"}),R.jsx("div",{className:"corner4",id:"corner4"}),R.jsxs("div",{className:"modal",id:"modalInfo",children:[R.jsx("h1",{children:"Info"}),R.jsxs("div",{className:"infoData",style:{fontSize:"0.85em"},children:[R.jsx("div",{style:{marginBottom:"0.5em"},children:"KeyBoard Shortcuts"}),R.jsxs("div",{style:{padding:"1em",backgroundColor:"var(--color10)",display:"flex",gap:"0.5em",flexDirection:"column"},children:[R.jsxs("li",{children:[R.jsx("span",{style:{padding:"0.15em 0.5em 0.15em 0.5em",backgroundColor:"var(--color7)",marginBottom:"0.5em"},children:"i"})," : Open Info"]}),R.jsxs("li",{children:[R.jsx("span",{style:{padding:"0.15em 0.5em 0.15em 0.5em",backgroundColor:"var(--color7)",marginBottom:"0.5em"},children:"t"})," : Toggle Theme"]}),R.jsxs("li",{children:[R.jsx("span",{style:{padding:"0.15em 0.5em 0.15em 0.5em",backgroundColor:"var(--color7)",marginBottom:"0.5em"},children:"f"}),' : Toggle "Find By"']}),R.jsxs("li",{children:[R.jsx("span",{style:{padding:"0.15em 0.5em 0.15em 0.5em",backgroundColor:"var(--color7)",marginBottom:"0.5em"},children:"s"}),' : Toggle "Sort By"']}),R.jsxs("li",{children:[R.jsx("span",{style:{padding:"0.15em 0.5em 0.15em 0.5em",backgroundColor:"var(--color7)",marginBottom:"0.5em"},children:"a"})," : Open Add Expense"]}),R.jsxs("li",{children:[R.jsx("span",{style:{padding:"0.15em 0.5em 0.15em 0.5em",backgroundColor:"var(--color7)",marginBottom:"0.5em"},children:"l"})," : Logout"]}),R.jsxs("li",{children:[R.jsx("span",{style:{padding:"0.15em 0.5em 0.15em 0.5em",backgroundColor:"var(--color7)",marginBottom:"0.5em"},children:"ctrl + k"})," : Find"]}),R.jsxs("li",{children:[R.jsx("span",{style:{padding:"0.15em 0.5em 0.15em 0.5em",backgroundColor:"var(--color7)",marginBottom:"0.5em"},children:"ctrl + d"})," : Delete All"]}),R.jsxs("li",{children:[R.jsx("span",{style:{padding:"0.15em 0.5em 0.15em 0.5em",backgroundColor:"var(--color7)",marginBottom:"0.5em"},children:"ESC"})," : Back"]})]}),R.jsxs("li",{style:{marginTop:"1em",lineHeight:"1.75em"},children:["Use ",R.jsx("span",{style:{padding:"0.15em 0.5em 0.15em 0.5em",backgroundColor:"var(--color7)",margin:"0.5em 0.5em 0.5em 0"},children:"⟵"}),R.jsx("span",{style:{padding:"0.15em 0.5em 0.15em 0.5em",backgroundColor:"var(--color7)",margin:"0.5em 0.5em 0.5em 0"},children:"↑"}),R.jsx("span",{style:{padding:"0.15em 0.5em 0.15em 0.5em",backgroundColor:"var(--color7)",margin:"0.5em 0.5em 0.5em 0"},children:"⟶"}),R.jsx("span",{style:{padding:"0.15em 0.5em 0.15em 0.5em",backgroundColor:"var(--color7)",margin:"0.5em 0 0.5em 0"},children:"↓"}),"  Arrow keys to navigate through the whole page."]}),R.jsx("li",{style:{marginTop:"0.5em",marginBottom:"1em"},children:'You can also add multiple values at once while adding expenses by Seperating them with a Coma[","]. Example Usage : Rent, Groceries, Bills | 250, 100, 350 | 01-05-2025, 12-06-2025, 25-06-2025'}),R.jsx(Ye,{clickData:()=>window.open("https://github.com/Praashoo7/Expense-Data","_blank"),width:"100%",height:"2.5em",btnName:"Star on Github"})]}),R.jsx("div",{className:"modalBtns",children:R.jsx(Ye,{clickData:()=>O("modalOverlayInfo","modalInfo"),width:"7em",btnID:"cancelBtnInfo",btnName:"Close"})})]})]})}),R.jsx("div",{className:"modalOverlay",id:"modalOverlayLogout",children:R.jsxs("div",{className:"menuWrapper",id:"menuWrapper",children:[R.jsx("div",{className:"corner1",id:"corner1"}),R.jsx("div",{className:"corner2",id:"corner2"}),R.jsx("div",{className:"corner3",id:"corner3"}),R.jsx("div",{className:"corner4",id:"corner4"}),R.jsxs("div",{className:"modal",id:"modalLogout",children:[R.jsx("h1",{children:"Logout?"}),R.jsx("div",{className:"logoutData",id:"logoutData"}),R.jsxs("div",{className:"modalBtns",children:[R.jsx(Ye,{clickData:()=>O("modalOverlayLogout","modalLogout"),width:"7em",btnID:"cancelBtnLogout",btnName:"Cancel"}),R.jsx(Ye,{clickData:Oe,btnID:"btnModalLogout",width:"7em",btnName:"Logout"})]})]})]})}),R.jsx("div",{className:"small_device",children:R.jsx("div",{className:"small_device_card",children:R.jsx("div",{className:"small_device_text",children:"Add an Expense here after buying a bigger Display."})})})]})}function hO(){const{username:i}=Ww(),e=localStorage.getItem("loggedInUsername");return i!==e?R.jsx(qc,{to:"/Expense-Data/Login"}):R.jsx(cO,{})}function dO(){function i(){document.getElementById("modalAuthorization").style.display="flex",document.getElementById("modalOverlayAuthorization").style.display="flex",document.getElementById("wrapperLogin").style.filter="blur(5px)",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.animation="none",setTimeout(()=>{document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.opacity=1,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.opacity=1,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.opacity=1,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.opacity=1},100),setTimeout(()=>{document.getElementById("modalAuthorization").style.opacity="1"},300),document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.animation="0.35s openCorner1 linear forwards",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.animation="0.35s openCorner2 linear forwards",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.animation="0.35s openCorner3 linear forwards",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.animation="0.35s openCorner4 linear forwards"}function e(){document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.opacity=1,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.opacity=1,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.opacity=1,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.opacity=1,document.getElementById("modalAuthorization").style.opacity="0",setTimeout(()=>{document.getElementById("modalOverlayAuthorization").style.display="none",document.getElementById("modalAuthorization").style.display="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.animation="none"},300),document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.animation="0.35s closeCorner1 linear forwards",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.animation="0.35s closeCorner2 linear forwards",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.animation="0.35s closeCorner3 linear forwards",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.animation="0.35s closeCorner4 linear forwards",setTimeout(()=>{document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.opacity=0,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.opacity=0,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.opacity=0,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.opacity=0,document.getElementById("wrapperLogin").style.filter="blur(0)"},300)}const[n,a]=z.useState(!1),o=z.useRef(!1);z.useEffect(()=>{o.current=n},[n]),z.useEffect(()=>{const B=P=>{var _e,C;const F=document.getElementById("modalOverlayAuthorization");F==null||F.style.display;let Y=document;(F==null?void 0:F.style.display)==="flex"&&(Y=F);const ae=()=>Array.from(Y.querySelectorAll('[tabindex="0"]')).filter(b=>b.offsetParent!==null&&window.getComputedStyle(b).display!=="none"),oe=document.activeElement,ce=oe&&(oe.tagName==="INPUT"||oe.tagName==="TEXTAREA"||oe.isContentEditable);if(P.key==="Enter"&&!o.current&&(F==null?void 0:F.style.display)==="flex"){const b=document.getElementById("btnModalUpdate");b&&b.click()}if(["ArrowDown"].includes(P.key)||["ArrowRight"].includes(P.key)&&!ce){P.preventDefault(),a(!0);const b=ae(),O=(b.indexOf(document.activeElement)+1)%b.length;(_e=b[O])==null||_e.focus()}if(["ArrowUp"].includes(P.key)||["ArrowLeft"].includes(P.key)&&!ce){P.preventDefault(),a(!0);const b=ae(),I=b.indexOf(document.activeElement),O=I===0?b.length-1:I-1;(C=b[O])==null||C.focus()}if(P.key==="Enter"&&o.current){P.preventDefault();const b=document.activeElement;b&&(b.classList.add("key-press-active"),setTimeout(()=>{b.classList.remove("key-press-active")},100),["mousedown","mouseup","click"].forEach(I=>{const O=new MouseEvent(I,{bubbles:!0,cancelable:!0,view:window});b.dispatchEvent(O)}))}if(P.key==="Escape"&&(a(!1),document.activeElement.blur(),(F==null?void 0:F.style.display)==="flex")){const b=document.getElementById("cancelBtnUpdate");b&&b.click()}};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[]);const[u,d]=z.useState(""),[m,p]=z.useState(""),[y,E]=z.useState(""),w=di(),A=async B=>{B.preventDefault(),E("");const P=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(document.getElementById("email").value.trim()==0||document.getElementById("password").value.trim()==0){E("Empty Fields!");return}else if(!P.test(document.getElementById("email").value.trim())){E("Email looks like this example@domain.com");return}i(),await new Promise(F=>setTimeout(F,400));try{const Y=(await Y2(Bp,u,m)).user.uid,ae=$s(Js,"users",Y),oe=await Ip(ae);if(!oe.exists()){E("User data not found in database"),e();return}const ce=oe.data().username;localStorage.setItem("loggedInUsername",ce),localStorage.setItem("uid",Y),document.getElementById("authText").textContent="Authorized",setTimeout(()=>{e()},300),setTimeout(()=>{w(`/Expense-Data/${ce}`)},650)}catch(F){console.error(F),E("Invalid username or password"),e()}};z.useEffect(()=>{const B=localStorage.getItem("loggedInUsername");B&&w(`/Expense-Data/${B}`)},[]);const L=()=>{w("/Expense-Data/SignUp")},N=()=>{w("/Expense-Data/ForgotPassword")};return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"wrapper",id:"wrapperLogin",children:[R.jsxs("div",{className:"loginForm",children:[R.jsx("h2",{children:"Login"}),R.jsxs("div",{className:"loginInput",children:[R.jsx("input",{autoComplete:"off",id:"email",tabIndex:0,placeholder:"Email",onChange:B=>d(B.target.value)}),R.jsx("br",{}),R.jsx("input",{autoComplete:"off",id:"password",tabIndex:0,type:"password",placeholder:"Password",onChange:B=>p(B.target.value),required:!0}),R.jsx("br",{})]}),R.jsxs("div",{className:"loginBtns",children:[R.jsx(Ye,{clickData:A,btnName:"Login",width:"100%",height:"2.5em"}),R.jsx(Ye,{clickData:L,btnName:"SignUp",width:"100%",height:"2.5em"})]}),R.jsx("div",{className:"forgotPassword",children:R.jsx(Ye,{clickData:N,btnName:"Forgot Password?",width:"100%",height:"2.5em"})})]}),y&&R.jsx("p",{style:{color:"var(--color11)",marginTop:"1em"},children:y})]}),R.jsx("div",{className:"modalOverlay",id:"modalOverlayAuthorization",children:R.jsxs("div",{className:"menuWrapper",id:"menuWrapper",children:[R.jsx("div",{className:"corner1",id:"corner1"}),R.jsx("div",{className:"corner2",id:"corner2"}),R.jsx("div",{className:"corner3",id:"corner3"}),R.jsx("div",{className:"corner4",id:"corner4"}),R.jsx("div",{className:"modal authM",id:"modalAuthorization",style:{alignItems:"center"},children:R.jsxs("h1",{className:"authText",style:{marginTop:"0.15em"},id:"authText",children:["Authorizing",R.jsx("div",{className:"text-loader"})]})})]})}),R.jsx("div",{className:"small_device",children:R.jsx("div",{className:"small_device_card",children:R.jsx("div",{className:"small_device_text",children:"Add an Expense here after buying a bigger Display."})})}),R.jsx(eu,{btnWidth:"0",displayMode:"none"})]})}function fO(){function i(){document.getElementById("modalAuthorization").style.display="flex",document.getElementById("modalOverlayAuthorization").style.display="flex",document.getElementById("wrapperLogin").style.filter="blur(5px)",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.animation="none",setTimeout(()=>{document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.opacity=1,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.opacity=1,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.opacity=1,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.opacity=1},100),setTimeout(()=>{document.getElementById("modalAuthorization").style.opacity="1"},300),document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.animation="0.35s openCorner1 linear forwards",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.animation="0.35s openCorner2 linear forwards",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.animation="0.35s openCorner3 linear forwards",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.animation="0.35s openCorner4 linear forwards"}function e(){document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.opacity=1,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.opacity=1,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.opacity=1,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.opacity=1,document.getElementById("modalAuthorization").style.opacity="0",setTimeout(()=>{document.getElementById("modalOverlayAuthorization").style.display="none",document.getElementById("modalAuthorization").style.display="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.animation="none",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.animation="none"},300),document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.animation="0.35s closeCorner1 linear forwards",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.animation="0.35s closeCorner2 linear forwards",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.animation="0.35s closeCorner3 linear forwards",document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.animation="0.35s closeCorner4 linear forwards",setTimeout(()=>{document.querySelector("#modalOverlayAuthorization #menuWrapper #corner1").style.opacity=0,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner2").style.opacity=0,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner3").style.opacity=0,document.querySelector("#modalOverlayAuthorization #menuWrapper #corner4").style.opacity=0,document.getElementById("wrapperLogin").style.filter="blur(0)"},300)}const[n,a]=z.useState(!1),o=z.useRef(!1);z.useEffect(()=>{o.current=n},[n]),z.useEffect(()=>{const P=F=>{var C,b;const Y=document.getElementById("modalOverlayAuthorization");Y==null||Y.style.display;let ae=document;(Y==null?void 0:Y.style.display)==="flex"&&(ae=Y);const oe=()=>Array.from(ae.querySelectorAll('[tabindex="0"]')).filter(I=>I.offsetParent!==null&&window.getComputedStyle(I).display!=="none"),ce=document.activeElement,_e=ce&&(ce.tagName==="INPUT"||ce.tagName==="TEXTAREA"||ce.isContentEditable);if(F.key==="Enter"&&!o.current&&(Y==null?void 0:Y.style.display)==="flex"){const I=document.getElementById("btnModalUpdate");I&&I.click()}if(["ArrowDown"].includes(F.key)||["ArrowRight"].includes(F.key)&&!_e){F.preventDefault(),a(!0);const I=oe(),V=(I.indexOf(document.activeElement)+1)%I.length;(C=I[V])==null||C.focus()}if(["ArrowUp"].includes(F.key)||["ArrowLeft"].includes(F.key)&&!_e){F.preventDefault(),a(!0);const I=oe(),O=I.indexOf(document.activeElement),V=O===0?I.length-1:O-1;(b=I[V])==null||b.focus()}if(F.key==="Enter"&&o.current){F.preventDefault();const I=document.activeElement;I&&(I.classList.add("key-press-active"),setTimeout(()=>{I.classList.remove("key-press-active")},100),["mousedown","mouseup","click"].forEach(O=>{const V=new MouseEvent(O,{bubbles:!0,cancelable:!0,view:window});I.dispatchEvent(V)}))}if(F.key==="Escape"&&(a(!1),document.activeElement.blur(),(Y==null?void 0:Y.style.display)==="flex")){const I=document.getElementById("cancelBtnUpdate");I&&I.click()}};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[]);const[u,d]=z.useState(""),[m,p]=z.useState(""),[y,E]=z.useState(""),[w,A]=z.useState(""),L=di(),N=async P=>{P.preventDefault(),A("");const F=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(document.getElementById("username").value.trim()===""||document.getElementById("password").value.trim()===""||document.getElementById("email").value.trim()===""){A("Empty Fields!");return}else if(!F.test(document.getElementById("email").value.trim())){A("Email looks like this example@domain.com");return}i(),await new Promise(Y=>setTimeout(Y,400));try{if((await Ip($s(Js,"usernames",u))).exists()){A("Username already taken"),e();return}const oe=(await K2(Bp,y,m)).user.uid;await km($s(Js,"users",oe),{uid:oe,email:y,username:u,data:[]}),await km($s(Js,"usernames",u),{uid:oe}),localStorage.setItem("uid",oe),localStorage.setItem("username",u),document.getElementById("authText").textContent="Signed Up",setTimeout(()=>e(),300),setTimeout(()=>L("/Expense-Data/Login"),650)}catch(Y){A(Y.message),e()}},B=()=>{L("/Expense-Data/Login")};return z.useEffect(()=>{const P=localStorage.getItem("loggedInUsername");P&&L(`/Expense-Data/${P}`)},[]),R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"wrapper",id:"wrapperLogin",children:[R.jsxs("div",{className:"loginForm",children:[R.jsx("h2",{children:"SignUp"}),R.jsxs("div",{className:"loginInput",children:[R.jsx("input",{autoComplete:"off",id:"email",tabIndex:0,type:"text",placeholder:"Email",onChange:P=>E(P.target.value)}),R.jsx("br",{}),R.jsx("input",{autoComplete:"off",id:"username",tabIndex:0,placeholder:"Username",onChange:P=>d(P.target.value)}),R.jsx("br",{}),R.jsx("input",{autoComplete:"off",id:"password",tabIndex:0,type:"password",placeholder:"Password",onChange:P=>p(P.target.value),required:!0}),R.jsx("br",{})]}),R.jsxs("div",{className:"loginBtns",children:[R.jsx(Ye,{clickData:N,btnName:"SignUp",width:"100%",height:"2.5em"}),R.jsx(Ye,{clickData:B,btnName:"Login",width:"100%",height:"2.5em"})]})]}),w&&R.jsx("p",{style:{color:"var(--color7)",marginTop:"1em"},children:w})]}),R.jsx("div",{className:"modalOverlay",id:"modalOverlayAuthorization",children:R.jsxs("div",{className:"menuWrapper",id:"menuWrapper",children:[R.jsx("div",{className:"corner1",id:"corner1"}),R.jsx("div",{className:"corner2",id:"corner2"}),R.jsx("div",{className:"corner3",id:"corner3"}),R.jsx("div",{className:"corner4",id:"corner4"}),R.jsx("div",{className:"modal",id:"modalAuthorization",style:{alignItems:"center"},children:R.jsxs("h1",{className:"authText",style:{marginTop:"0.15em"},id:"authText",children:["Signing Up",R.jsx("div",{className:"text-loader"})]})})]})}),R.jsx("div",{className:"small_device",children:R.jsx("div",{className:"small_device_card",children:R.jsx("div",{className:"small_device_text",children:"Add an Expense here after buying a bigger Display."})})}),R.jsx(eu,{btnWidth:"0",displayMode:"none"})]})}function mO(){const[i,e]=z.useState(""),[n,a]=z.useState(""),[o,u]=z.useState(""),d=di();function m(){document.getElementById("modalResetLinkSend").style.display="flex",document.getElementById("modalOverlayResetLinkSend").style.display="flex",document.getElementById("wrapperLogin").style.filter="blur(5px)",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner1").style.animation="none",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner2").style.animation="none",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner3").style.animation="none",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner4").style.animation="none",setTimeout(()=>{document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner1").style.opacity=1,document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner2").style.opacity=1,document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner3").style.opacity=1,document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner4").style.opacity=1},100),setTimeout(()=>{document.getElementById("modalResetLinkSend").style.opacity="1"},300),document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner1").style.animation="0.35s openCorner1 linear forwards",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner2").style.animation="0.35s openCorner2 linear forwards",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner3").style.animation="0.35s openCorner3 linear forwards",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner4").style.animation="0.35s openCorner4 linear forwards"}function p(){document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner1").style.animation="none",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner2").style.animation="none",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner3").style.animation="none",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner4").style.animation="none",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner1").style.opacity=1,document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner2").style.opacity=1,document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner3").style.opacity=1,document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner4").style.opacity=1,document.getElementById("modalResetLinkSend").style.opacity="0",setTimeout(()=>{document.getElementById("modalOverlayResetLinkSend").style.display="none",document.getElementById("modalResetLinkSend").style.display="none",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner1").style.animation="none",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner2").style.animation="none",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner3").style.animation="none",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner4").style.animation="none"},300),document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner1").style.animation="0.35s closeCorner1 linear forwards",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner2").style.animation="0.35s closeCorner2 linear forwards",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner3").style.animation="0.35s closeCorner3 linear forwards",document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner4").style.animation="0.35s closeCorner4 linear forwards",setTimeout(()=>{document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner1").style.opacity=0,document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner2").style.opacity=0,document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner3").style.opacity=0,document.querySelector("#modalOverlayResetLinkSend #menuWrapper #corner4").style.opacity=0,document.getElementById("wrapperLogin").style.filter="blur(0)"},300)}const[y,E]=z.useState(!1),w=z.useRef(!1);z.useEffect(()=>{w.current=y},[y]),z.useEffect(()=>{const N=B=>{var ce,_e;const P=document.getElementById("modalOverlayAuthorization");P==null||P.style.display;let F=document;(P==null?void 0:P.style.display)==="flex"&&(F=P);const Y=()=>Array.from(F.querySelectorAll('[tabindex="0"]')).filter(C=>C.offsetParent!==null&&window.getComputedStyle(C).display!=="none"),ae=document.activeElement,oe=ae&&(ae.tagName==="INPUT"||ae.tagName==="TEXTAREA"||ae.isContentEditable);if(B.key==="Enter"&&!w.current&&(P==null?void 0:P.style.display)==="flex"){const C=document.getElementById("btnModalUpdate");C&&C.click()}if(["ArrowDown"].includes(B.key)||["ArrowRight"].includes(B.key)&&!oe){B.preventDefault(),E(!0);const C=Y(),I=(C.indexOf(document.activeElement)+1)%C.length;(ce=C[I])==null||ce.focus()}if(["ArrowUp"].includes(B.key)||["ArrowLeft"].includes(B.key)&&!oe){B.preventDefault(),E(!0);const C=Y(),b=C.indexOf(document.activeElement),I=b===0?C.length-1:b-1;(_e=C[I])==null||_e.focus()}if(B.key==="Enter"&&w.current){B.preventDefault();const C=document.activeElement;C&&(C.classList.add("key-press-active"),setTimeout(()=>{C.classList.remove("key-press-active")},100),["mousedown","mouseup","click"].forEach(b=>{const I=new MouseEvent(b,{bubbles:!0,cancelable:!0,view:window});C.dispatchEvent(I)}))}if(B.key==="Escape"&&(E(!1),document.activeElement.blur(),(P==null?void 0:P.style.display)==="flex")){const C=document.getElementById("cancelBtnUpdate");C&&C.click()}};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[]);const A=async N=>{N.preventDefault(),a("");const B=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(i){if(!B.test(i)){u(""),a("Email looks like this example@domain.com");return}}else{u(""),a("Please enter your email address.");return}try{const P=Up();m(),await new Promise(ce=>setTimeout(ce,400));const F=qT(),Y=MD(SD(F,"users"),VD("email","==",i));if((await zD(Y)).empty){p(),u(""),a("No account found for this email.");return}const oe={url:`${window.location.origin}/ResetPassword`,handleCodeInApp:!0};await G2(P,i,oe),p(),e(""),u("Reset Email Sent.")}catch(P){p(),console.log(P),u(""),a("Failed to send reset link. Double-check the email address or try again.")}},L=()=>{d("/Expense-Data/Login")};return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"wrapper",id:"wrapperLogin",children:[R.jsxs("div",{className:"loginForm",children:[R.jsx("h2",{children:"Forgot Password"}),R.jsxs("div",{className:"resetData",children:[R.jsx("input",{autoComplete:"off",tabIndex:0,id:"resetEmail",type:"email",placeholder:"Enter your Email",value:i,onChange:N=>e(N.target.value),required:!0}),R.jsx(Ye,{clickData:A,btnName:"Submit",height:"2.5em",width:"100%"}),R.jsx(Ye,{clickData:L,btnName:"Back to Login",height:"2.5em",width:"100%"})]})]}),o&&R.jsx("p",{style:{color:"var(--color7)",marginTop:"1em"},children:o}),n&&R.jsx("p",{style:{color:"var(--color7)",marginTop:"1em"},children:n})]}),R.jsx("div",{className:"modalOverlay",id:"modalOverlayResetLinkSend",children:R.jsxs("div",{className:"menuWrapper",id:"menuWrapper",children:[R.jsx("div",{className:"corner1",id:"corner1"}),R.jsx("div",{className:"corner2",id:"corner2"}),R.jsx("div",{className:"corner3",id:"corner3"}),R.jsx("div",{className:"corner4",id:"corner4"}),R.jsx("div",{className:"modal authM",id:"modalResetLinkSend",style:{alignItems:"center"},children:R.jsxs("h1",{className:"authText",style:{marginTop:"0.15em"},id:"authText",children:["Verifying",R.jsx("div",{className:"text-loader"})]})})]})}),R.jsx(eu,{btnWidth:"0",displayMode:"none"})]})}function pO(){const i=di();function e(){document.getElementById("modalResetPassword").style.display="flex",document.getElementById("modalOverlayResetPassword").style.display="flex",document.getElementById("wrapperLogin").style.filter="blur(5px)",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner1").style.animation="none",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner2").style.animation="none",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner3").style.animation="none",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner4").style.animation="none",setTimeout(()=>{document.querySelector("#modalOverlayResetPassword #menuWrapper #corner1").style.opacity=1,document.querySelector("#modalOverlayResetPassword #menuWrapper #corner2").style.opacity=1,document.querySelector("#modalOverlayResetPassword #menuWrapper #corner3").style.opacity=1,document.querySelector("#modalOverlayResetPassword #menuWrapper #corner4").style.opacity=1},100),setTimeout(()=>{document.getElementById("modalResetPassword").style.opacity="1"},300),document.querySelector("#modalOverlayResetPassword #menuWrapper #corner1").style.animation="0.35s openCorner1 linear forwards",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner2").style.animation="0.35s openCorner2 linear forwards",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner3").style.animation="0.35s openCorner3 linear forwards",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner4").style.animation="0.35s openCorner4 linear forwards"}function n(){document.querySelector("#modalOverlayResetPassword #menuWrapper #corner1").style.animation="none",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner2").style.animation="none",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner3").style.animation="none",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner4").style.animation="none",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner1").style.opacity=1,document.querySelector("#modalOverlayResetPassword #menuWrapper #corner2").style.opacity=1,document.querySelector("#modalOverlayResetPassword #menuWrapper #corner3").style.opacity=1,document.querySelector("#modalOverlayResetPassword #menuWrapper #corner4").style.opacity=1,document.getElementById("modalResetPassword").style.opacity="0",setTimeout(()=>{document.getElementById("modalOverlayResetPassword").style.display="none",document.getElementById("modalResetPassword").style.display="none",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner1").style.animation="none",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner2").style.animation="none",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner3").style.animation="none",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner4").style.animation="none"},300),document.querySelector("#modalOverlayResetPassword #menuWrapper #corner1").style.animation="0.35s closeCorner1 linear forwards",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner2").style.animation="0.35s closeCorner2 linear forwards",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner3").style.animation="0.35s closeCorner3 linear forwards",document.querySelector("#modalOverlayResetPassword #menuWrapper #corner4").style.animation="0.35s closeCorner4 linear forwards",setTimeout(()=>{document.querySelector("#modalOverlayResetPassword #menuWrapper #corner1").style.opacity=0,document.querySelector("#modalOverlayResetPassword #menuWrapper #corner2").style.opacity=0,document.querySelector("#modalOverlayResetPassword #menuWrapper #corner3").style.opacity=0,document.querySelector("#modalOverlayResetPassword #menuWrapper #corner4").style.opacity=0,document.getElementById("wrapperLogin").style.filter="blur(0)"},300)}const[a,o]=z.useState(!1),u=z.useRef(!1);z.useEffect(()=>{u.current=a},[a]),z.useEffect(()=>{const N=B=>{var ce,_e;const P=document.getElementById("modalOverlayAuthorization");P==null||P.style.display;let F=document;(P==null?void 0:P.style.display)==="flex"&&(F=P);const Y=()=>Array.from(F.querySelectorAll('[tabindex="0"]')).filter(C=>C.offsetParent!==null&&window.getComputedStyle(C).display!=="none"),ae=document.activeElement,oe=ae&&(ae.tagName==="INPUT"||ae.tagName==="TEXTAREA"||ae.isContentEditable);if(B.key==="Enter"&&!u.current&&(P==null?void 0:P.style.display)==="flex"){const C=document.getElementById("btnModalUpdate");C&&C.click()}if(["ArrowDown"].includes(B.key)||["ArrowRight"].includes(B.key)&&!oe){B.preventDefault(),o(!0);const C=Y(),I=(C.indexOf(document.activeElement)+1)%C.length;(ce=C[I])==null||ce.focus()}if(["ArrowUp"].includes(B.key)||["ArrowLeft"].includes(B.key)&&!oe){B.preventDefault(),o(!0);const C=Y(),b=C.indexOf(document.activeElement),I=b===0?C.length-1:b-1;(_e=C[I])==null||_e.focus()}if(B.key==="Enter"&&u.current){B.preventDefault();const C=document.activeElement;C&&(C.classList.add("key-press-active"),setTimeout(()=>{C.classList.remove("key-press-active")},100),["mousedown","mouseup","click"].forEach(b=>{const I=new MouseEvent(b,{bubbles:!0,cancelable:!0,view:window});C.dispatchEvent(I)}))}if(B.key==="Escape"&&(o(!1),document.activeElement.blur(),(P==null?void 0:P.style.display)==="flex")){const C=document.getElementById("cancelBtnUpdate");C&&C.click()}};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[]);const[d]=L1();d.get("oobCode");const[m,p]=z.useState(""),[y,E]=z.useState(""),[w,A]=z.useState(""),L=async N=>{if(N.preventDefault(),A(""),E(""),!m)return A("Please enter a new password");const B=d.get("oobCode");try{const P=Up();e(),await new Promise(F=>setTimeout(F,400)),await W2(P,B,m),E("Password has been reset successfully. Redirecting to Login Page."),n(),setTimeout(()=>{i("/Expense-Data/Login")},5e3)}catch{n(),A("Error resetting password. The link might have expired or is invalid.")}};return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"wrapper",id:"wrapperLogin",children:[R.jsxs("div",{className:"loginForm",children:[R.jsx("h2",{children:"New Password"}),R.jsxs("div",{className:"resetData",children:[R.jsx("input",{autoComplete:"off",tabIndex:0,type:"password",id:"resetPassword",placeholder:"Enter new password",value:m,onChange:N=>p(N.target.value),required:!0}),R.jsx(Ye,{clickData:L,btnName:"Submit",height:"2.5em",width:"100%"})]})]}),y&&R.jsxs("p",{style:{color:"var(--color7)",marginTop:"1em",display:"flex"},children:[y,R.jsx("div",{className:"text-loader"})]}),w&&R.jsx("p",{style:{color:"var(--color7)",marginTop:"1em"},children:w})]}),R.jsx("div",{className:"modalOverlay",id:"modalOverlayResetPassword",children:R.jsxs("div",{className:"menuWrapper",id:"menuWrapper",children:[R.jsx("div",{className:"corner1",id:"corner1"}),R.jsx("div",{className:"corner2",id:"corner2"}),R.jsx("div",{className:"corner3",id:"corner3"}),R.jsx("div",{className:"corner4",id:"corner4"}),R.jsx("div",{className:"modal authM",id:"modalResetPassword",style:{alignItems:"center"},children:R.jsxs("h1",{className:"authText",style:{marginTop:"0.15em"},id:"authText",children:["Securing",R.jsx("div",{className:"text-loader"})]})})]})}),R.jsx(eu,{btnWidth:"0",displayMode:"none"})]})}function gO(){const[i,e]=z.useState(!1),n=z.useRef(!1);z.useEffect(()=>{n.current=i},[i]),z.useEffect(()=>{const u=d=>{var A,L;const m=document.getElementById("modalOverlayAuthorization");m==null||m.style.display;let p=document;(m==null?void 0:m.style.display)==="flex"&&(p=m);const y=()=>Array.from(p.querySelectorAll('[tabindex="0"]')),E=document.activeElement,w=E&&(E.tagName==="INPUT"||E.tagName==="TEXTAREA"||E.isContentEditable);if(d.key==="Enter"&&!n.current&&(m==null?void 0:m.style.display)==="flex"){const N=document.getElementById("btnModalUpdate");N&&N.click()}if(["ArrowDown"].includes(d.key)||["ArrowRight"].includes(d.key)&&!w){d.preventDefault(),e(!0);const N=y(),P=(N.indexOf(document.activeElement)+1)%N.length;(A=N[P])==null||A.focus()}if(["ArrowUp"].includes(d.key)||["ArrowLeft"].includes(d.key)&&!w){d.preventDefault(),e(!0);const N=y(),B=N.indexOf(document.activeElement),P=B===0?N.length-1:B-1;(L=N[P])==null||L.focus()}if(d.key==="Enter"&&n.current){d.preventDefault();const N=document.activeElement;N&&(N.classList.add("key-press-active"),setTimeout(()=>{N.classList.remove("key-press-active")},100),["mousedown","mouseup","click"].forEach(B=>{const P=new MouseEvent(B,{bubbles:!0,cancelable:!0,view:window});N.dispatchEvent(P)}))}if(d.key==="Escape"&&(e(!1),document.activeElement.blur(),(m==null?void 0:m.style.display)==="flex")){const N=document.getElementById("cancelBtnUpdate");N&&N.click()}};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[]);const a=di(),o=()=>{a("/Expense-Data/Login")};return R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"wrapper",id:"wrapperLogin",children:R.jsxs("div",{className:"loginForm",children:[R.jsx("h2",{style:{textAlign:"center",fontSize:"7em"},children:"404"}),R.jsx(Ye,{clickData:o,btnName:"Back to Login",width:"100%",height:"2.5em"})]})}),R.jsx("div",{className:"small_device",children:R.jsx("div",{className:"small_device_card",children:R.jsx("div",{className:"small_device_text",children:"Add an Expense here after buying a bigger Display."})})})]})}function yO(){const[i,e]=z.useState(!!localStorage.getItem("loggedInUsername"));return z.useEffect(()=>{const n=setInterval(()=>{const a=localStorage.getItem("loggedInUsername");e(!!a)},500);return()=>clearInterval(n)},[]),R.jsx(N1,{children:R.jsxs(o1,{children:[R.jsx(Hi,{path:"/Expense-Data/:username",element:R.jsx(hO,{})}),R.jsx(Hi,{path:"/Expense-Data/Login",element:i?R.jsx(qc,{to:`/Expense-Data/${localStorage.getItem("loggedInUsername")}`}):R.jsx(dO,{})}),R.jsx(Hi,{path:"/Expense-Data/SignUp",element:i?R.jsx(qc,{to:`/Expense-Data/${localStorage.getItem("loggedInUsername")}`}):R.jsx(fO,{})}),R.jsx(Hi,{path:"/Expense-Data/ForgotPassword",element:R.jsx(mO,{})}),R.jsx(Hi,{path:"/Expense-Data/ResetPassword",element:R.jsx(pO,{})}),R.jsx(Hi,{path:"/Expense-Data/NotFound",element:R.jsx(gO,{})}),R.jsx(Hi,{path:"*",element:R.jsx(qc,{to:i?`/Expense-Data/${localStorage.getItem("loggedInUsername")}`:"/Expense-Data/NotFound"})})]})})}pw.createRoot(document.getElementById("root")).render(R.jsx(z.StrictMode,{children:R.jsx(yO,{})}));
